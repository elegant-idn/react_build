"use strict";(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[3446],{49712:(e,n,o)=>{o.r(n),o.d(n,{PageDownloadCoupon:()=>d,default:()=>l});var t=o(47313),s=o(78081),a=o(46417);class d extends t.Component{constructor(e){super(e),this.state={errorMsg:""},this.downloadPDF=this.downloadPDF.bind(this)}_gtag_report_conversion(e){return gtag("event","conversion",{send_to:"AW-827036726/3tyqCJ_ayXsQtqiuigM",event_callback:function(){"undefined"!=typeof e&&(window.location=e)}}),!1}downloadPDF(){window.isGoogleConnection&&this._gtag_report_conversion();let{shortcode:e}=this.props.params;document.getElementById("spinner-box-load").style.display="block";let n=window.open("//".concat(window.location.host,"/load-pdf"),"_blank");n.onload=function(){let e=n.document.createElement("div");e.className="loadPdf",n.document.body.appendChild(e)},axios.get("/api/generateCouponPdf?customerShortcode=".concat(e)).then((e=>{document.getElementById("spinner-box-load").style.display="none",n.location="/"+e.data})).catch((e=>{document.getElementById("spinner-box-load").style.display="none",this.setState({errorMsg:e.response.data})}))}render(){return(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("p",{className:"error",children:this.state.errorMsg}),(0,a.jsx)("h1",{children:"Ihr pers\xf6nlicher Gutschein"}),(0,a.jsxs)("button",{className:"btn downloadPDF",onClick:this.downloadPDF,children:["Jetzt 20.- ",window.currencyValue," Gutschein downloaden"]}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{})]})}}d.defaultProps={};const l=(0,s.$j)(null,null)(d)}}]);