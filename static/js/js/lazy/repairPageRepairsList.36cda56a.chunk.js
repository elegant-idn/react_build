(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[3138,2933,4289],{99915:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});var t=a(47313),i=a(46417);const n=e=>{let{data:s,fromRepair:a}=e;(0,t.useEffect)((()=>{$("#BankPaymentModal").modal("show")}),[]);const n=()=>{window.localStorage.removeItem("bankPaymentData"),$("#BankPaymentModal").modal("hide")};return(0,i.jsx)("div",{className:"modal fade",id:"BankPaymentModal",tabIndex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"myModalLabel",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("button",{type:"button",onClick:n,className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),(0,i.jsx)("h4",{className:"modal-title",id:"myModalLabel",children:"Bitte \xfcberweisen Sie das Geld auf das folgende Konto:"})]}),(0,i.jsx)("div",{className:"modal-body",children:(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:["Kontoinhaber Firmenname: ",s.companyName]}),(0,i.jsx)("li",{children:"Kontoinhaber Adresse: Gerbergasse 82, CH-4001 Basel"}),(0,i.jsxs)("li",{children:["Bankname: ",s.bankName]}),(0,i.jsxs)("li",{children:["IBAN: ",s.bankIban]}),(0,i.jsxs)("li",{children:["BIC/SWIFT: ",s.bankSwift]}),(0,i.jsxs)("li",{children:["Clearing: ",s.bankClearing]})]})}),(0,i.jsx)("div",{className:"modal-footer",children:(0,i.jsx)("button",{type:"button",onClick:n,className:"btn","data-dismiss":"modal",children:"Schliessen"})})]})})})};n.defaultProps={fromRepair:!1};const r=n},14045:(e,s,a)=>{"use strict";a.r(s),a.d(s,{RepairPageRepairsList:()=>M,default:()=>F});var t=a(47313),i=a(72231),n=a(78081),r=a(39157),o=a(72905),l=a(73815),c=a(91066),d=a(99915),h=a(46417);class p extends t.Component{constructor(e){super(e),this.state={},this.mapBasketData=this.mapBasketData.bind(this),this.sendForm=this.sendForm.bind(this)}sendForm(){this.props.toggleSummaryPopup(),$('form.editFormWrap button[type="submit"]').click()}mapBasketData(e,s){let{removeFromBasket:a}=this.props,t=this.props.basketData.selectedOptions,i=0,n=null,r=e.priceMax;return t.forEach((e=>{+e.priceMax>i&&(i=+e.priceMax,n=e.shortcode)})),i>0&&i>=+e.priceMax&&(r=n===e.shortcode?e.priceMax:e.minPrice),(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:e.title}),(0,h.jsx)("td",{children:(0,h.jsx)("span",{className:"count",children:"1"})}),(0,h.jsx)("td",{children:(0,h.jsxs)("span",{className:"price",children:[Math.round(100*+r)/100," ",window.currencyValue]})}),(0,h.jsx)("td",{children:(0,h.jsx)("span",{onClick:()=>a(e),className:"removeFromBasket"})})]},s)}render(){let{basketData:e,toggleSummaryPopup:s,totalPrice:a,removeFromBasket:t}=this.props;return a=e.shippingMethod?a+ +e.shippingMethod.price:a,(0,h.jsx)("div",{className:"summary-popup basketWrap",children:(0,h.jsx)("div",{className:"summary-popup-container",children:(0,h.jsx)("div",{className:"content",children:(0,h.jsxs)("div",{className:"col-xs-12",children:[(0,h.jsx)("div",{className:"top text-right",children:(0,h.jsx)("img",{src:"/images/design/simple-close-logForm.svg",onClick:s,alt:""})}),(0,h.jsxs)("div",{className:"body productWrap",children:[(0,h.jsx)("h3",{className:"title",children:"Bestell\xfcbersicht"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("table",{children:(0,h.jsxs)("tbody",{children:[e.selectedOptions.map(this.mapBasketData),e.shippingMethod&&(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:e.shippingMethod.name}),(0,h.jsx)("td",{}),(0,h.jsx)("td",{children:(0,h.jsxs)("span",{className:"price",children:[Math.round(100*+e.shippingMethod.price)/100," ",window.currencyValue]})}),(0,h.jsx)("td",{children:(0,h.jsx)("span",{onClick:()=>t(e.shippingMethod),className:"removeFromBasket"})})]})]})}),(0,h.jsxs)("div",{className:"total clearfix",children:[(0,h.jsx)("p",{className:"col-xs-6 title",children:"Total inkl. MwSt"}),(0,h.jsxs)("p",{className:"col-xs-6 priceTotal",children:[Math.round(100*+a)/100," ",window.currencyValue,"   "]})]})]}),(0,h.jsx)("div",{className:"commentField",children:(0,h.jsx)("textarea",{name:"comment",rows:"2",placeholder:"Notiz / Spezielle Anmerkung"})}),(0,h.jsx)("div",{className:"buttons",children:(0,h.jsxs)("button",{className:"btn",onClick:this.sendForm,children:["Jetzt bezahlen",(0,h.jsx)("span",{children:(0,h.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})})]})]})})})})}}const m=p,u=e=>{let{props:s}=e;return(0,h.jsx)("ul",{className:"person-info",children:(0,h.jsxs)("div",{className:"delivery-form-form-send",children:[(0,h.jsx)("img",{className:"delivery-form-form-send__img",src:"",alt:""}),(0,h.jsx)("h1",{className:"delivery-form-form-send__title",children:"Thank you!"}),(0,h.jsx)("p",{className:"delivery-form-form-send__content",children:"I'm glad I can help you estimate the repair price of your device. Send it by postage"}),(0,h.jsxs)("div",{className:"delivery-form-form-send__details",children:[(0,h.jsx)("span",{className:"delivery-form-form-send__details-name",children:s.model.title}),(0,h.jsxs)("span",{className:"delivery-form-form-send__details-price",children:[s.totalPrice," ",window.currencyValue]})]}),(0,h.jsxs)("p",{className:"delivery-form-form-send__duration",children:["Duration:",(0,h.jsx)("span",{className:"delivery-form-form-send__duration-period",children:" 2-3 days"})]})]})})};class x extends t.Component{constructor(e){super(e),this.state={formData:new f,isChanged:{LieferLand:!1,RechnungLand:!1,LieferAnrede:!1,RechnungAnrede:!1,customerCompany:!1,shippingCompany:!1,LieferVorname:!1,LieferNachname:!1,RechnungNachname:!1,RechnungVorname:!1,LieferFirmenname:!1,RechnungFirmenname:!1,LieferTelefon:!1,RechnungTelefon:!1},country:{countriesList:[]},inputCheckbox:{shippingAddress:!0,shippingCompany:!1,customerCompany:!1,systemCompany:!1},payMethod:{method:null,payMethodDatatrans:null},payForm:null,shippingMethods:[],showSummaryPopup:!1,errors:{},formSend:!1},this.changeCheckbox=this.changeCheckbox.bind(this),this.changeCountry=this.changeCountry.bind(this),this.sendForm=this.sendForm.bind(this),this.choosePayMethod=this.choosePayMethod.bind(this),this._checkShowSpecialPayMethod=this._checkShowSpecialPayMethod.bind(this),this.toggleSummaryPopup=this.toggleSummaryPopup.bind(this),this.removeFromBasket=this.removeFromBasket.bind(this),this._setPersonalDataForm=this._setPersonalDataForm.bind(this),this._getShippingMethod=this._getShippingMethod.bind(this),this.handlerChangeInput=this.handlerChangeInput.bind(this),this.changeShippingMethod=this.changeShippingMethod.bind(this),this._addDatatrans=this._addDatatrans.bind(this),this._loadStripe=this._loadStripe.bind(this)}componentDidUpdate(){if(!window.isMobile){let e=0;$(".item-form-column").each((function(){$("div",this).height()>e&&(e=$("div",this).height())})).height(e)}}componentDidMount(){let{basketDataRepair:e,model:s}=this.props,a={...e,modelId:s.id};window.localStorage.setItem("basketDataRepair",JSON.stringify(a));this.setState({country:{...this.state.country,countriesList:[{value:"ch",label:"Schweiz"},{value:"li",label:"Liechtenstein"}]}}),window.isGoogleConnection&&c.o9.call(this,2),this._getShippingMethod(),this._addDatatrans(),this.props.user.isLogin&&axios.get("/api/accountData").then((e=>this._setPersonalDataForm(e.data)))}componentWillReceiveProps(e){e.user.isLogin!==this.props.user.isLogin&&!0===e.user.isLogin&&axios.get("/api/accountData").then((e=>this._setPersonalDataForm(e.data))),e.user.isLogin!==this.props.user.isLogin&&!1===e.user.isLogin&&this.setState({formData:new f,inputCheckbox:{...this.state.inputCheckbox,shippingCompany:!1,customerCompany:!1,systemCompany:!1}})}componentWillUnmount(){this.props.basketActions.changeShippingMethodRepair(null),document.getElementById("datatrans").remove(),this.stripeHandler&&this.stripeHandler.close()}_loadStripe(e){if(window.StripeCheckout)e();else{const s=document.createElement("script");s.onload=function(){e()},s.src="https://checkout.stripe.com/checkout.js",document.head.appendChild(s)}}_addDatatrans(){!function(e,s,a){var t,i=e.getElementsByTagName(s)[0];e.getElementById(a)||((t=e.createElement(s)).id=a,t.src="https://pay.datatrans.com/upp/payment/js/datatrans-1.0.2.js",i.parentNode.insertBefore(t,i))}(document,"script","datatrans")}changeShippingMethod(e,s){this.setState({errors:{...this.state.errors,[e.target.name]:""}}),this.props.basketActions.changeShippingMethodRepair(s)}_getShippingMethod(){axios.get("/api/repairShippingMethods").then((e=>{if(this.props.shippingMethod){let s=e.data.filter((e=>"PICKAS"===e.shortcode))[0];this.setState({shippingMethods:[this.props.shippingMethod,s]}),this.props.basketActions.changeShippingMethodRepair(this.props.shippingMethod)}else this.setState({shippingMethods:e.data})}))}_setPersonalDataForm(e){let s={...this.state.formData},a={...this.state.inputCheckbox};for(let t in e)s.hasOwnProperty(t)&&(s[t]=e[t]),"company"===t&&(a.systemCompany=!!e[t]),"LieferFirmenname"===t&&(a.shippingCompany=!!e[t]),"RechnungFirmenname"===t&&(a.customerCompany=!!e[t]);this.setState({formData:s,inputCheckbox:a})}handlerChangeInput(e){let{name:s,value:a}=e.target,t={...this.state.formData},i={...this.state.inputCheckbox};this.autocomleteFieldsShippingBilling(e,t,i),this.changeShippingBillingForm(e),this.setState({errors:{...this.state.errors,[s]:null},formData:{...t,[s]:a},inputCheckbox:i})}changeCheckbox(e){let s={...this.state.inputCheckbox},{name:a}=e.target;e.target.getAttribute("data-show")?"true"===e.target.getAttribute("data-show")?s.shippingAddress=!1:s.shippingAddress=!0:(this.autocomleteFieldsShippingBilling(e,{},s),this.changeShippingBillingForm(e),s[a]=!s[a]),this.setState({inputCheckbox:s})}changeCountry(e,s){let a={target:{name:s,value:e.value}},t={...this.state.formData},i={...this.state.inputCheckbox};this.autocomleteFieldsShippingBilling(a,t,i),this.changeShippingBillingForm(a),this.setState({formData:{...t,[s]:e.value},errors:{...this.state.errors,[s]:""}})}changeShippingBillingForm(e){let{name:s}=e.target,a={...this.state.isChanged};a.hasOwnProperty(s)&&(a[s]=!0,this.setState({isChanged:a}))}autocomleteFieldsShippingBilling(e,s,a){let{name:t,value:i}=e.target,{isChanged:n}=this.state;switch(t){case"Geschlecht":n.LieferAnrede||(s.LieferAnrede=i),n.RechnungAnrede||(s.RechnungAnrede=i);break;case"Sprache":n.LieferLand||(s.LieferLand=i),n.RechnungLand||(s.RechnungLand=i);break;case"systemCompany":n.customerCompany||(a.customerCompany=e.target.checked),n.shippingCompany||(a.shippingCompany=e.target.checked);break;case"first_name":n.LieferVorname||(s.LieferVorname=i),n.RechnungVorname||(s.RechnungVorname=i);break;case"last_name":n.LieferNachname||(s.LieferNachname=i),n.RechnungNachname||(s.RechnungNachname=i);break;case"company":n.LieferFirmenname||(s.LieferFirmenname=i),n.RechnungFirmenname||(s.RechnungFirmenname=i);break;case"phone":n.LieferTelefon||(s.LieferTelefon=i),n.RechnungTelefon||(s.RechnungTelefon=i)}}removeFromBasket(e){if(11==e.productTypeId)this.props.basketActions.changeShippingMethodRepair(null);else{let s=[...this.props.basketDataRepair.selectedOptions].filter((s=>s.shortcode!==e.shortcode));this.props.basketActions.changeBasketDataRepair(s)}}toggleSummaryPopup(){this.state.showSummaryPopup?$(".delivery-form").css({zIndex:"auto"}):$(".delivery-form").css({zIndex:"1000001"}),this.setState({showSummaryPopup:!this.state.showSummaryPopup})}_checkShowSpecialPayMethod(){let{inputCheckbox:e,formData:s}=this.state;return e.shippingAddress?e.systemCompany&&s.company&&e.customerCompany&&s.RechnungFirmenname:e.systemCompany&&s.company&&e.shippingCompany&&s.LieferFirmenname&&e.customerCompany&&s.RechnungFirmenname}sendForm(e){e.preventDefault();let{basketDataRepair:s,model:a}=this.props,t={...this.state.inputCheckbox},n={...this.state.formData,repairs:s.selectedOptions.map((e=>e.shortcode)),shippingMethodShortcode:s.shippingMethod.shortcode,shippingAddress:this.state.inputCheckbox.shippingAddress?"billing":"custom",shippingCompany:t.shippingCompany,customerCompany:t.customerCompany,systemCompany:t.systemCompany,modelId:a.id};document.getElementById("spinner-box-load").style.display="block",axios.post("/api/bookingWithShipping",n).then((e=>{if(document.getElementById("spinner-box-load").style.display="none",200===e.status){this.setState({formSend:!0}),this.props.submitForm();let t={...s,modelId:a.id};window.localStorage.setItem("basketDataRepair",JSON.stringify(t)),"Datatrans"===this.state.payMethod.method?(this.setState({payForm:(0,h.jsx)("form",{id:"paymentForm","data-merchant-id":"3000012768","data-amount":Math.round(100*e.data.totalPrice),"data-currency":"CHF","data-paymentmethod":this.state.payMethod.payMethodDatatrans,"data-refno":e.data.basketShortcode,"data-sign":"180103170812117471"})}),Datatrans.startPayment({form:"#paymentForm",closed:()=>{axios.get("/api/closePaymentWindow?basketShortcode=".concat(e.data.basketShortcode,"&\n                                                                    totalPrice=").concat(e.data.totalPrice,"&paymentMethod=").concat(this.state.payMethod.payMethodDatatrans)),this.setState({payForm:null})}})):"Stripe"===this.state.payMethod.method?this._loadStripe((()=>{let s=!1;this.stripeHandler=window.StripeCheckout.configure({key:window.stripeKey.key,image:"/images/logo.png",locale:"auto",currency:"EUR",token:a=>{a.id&&(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/stripePayment?tokenId=".concat(a.id,"&basketShortcode=").concat(e.data.basketShortcode,"&\n                                                        email=").concat(a.email)).then((e=>{document.getElementById("spinner-box-load").style.display="none"})).catch((e=>{document.getElementById("spinner-box-load").style.display="none",404===e.response.status&&i.mW.push("/reparieren/error-payment")})),s=!0)},closed:()=>{s||axios.get("/api/closePaymentWindow?basketShortcode=".concat(e.data.basketShortcode,"&\n                                                       totalPrice=").concat(e.data.totalPrice,"&paymentMethod=").concat(this.state.payMethod.payMethodDatatrans))}}),document.querySelector(".stripe-button-el")&&(document.querySelector(".stripe-button-el").style.display="none"),this.stripeHandler.open({amount:100*e.data.totalPrice,name:"Remarket",allowRememberMe:!1})})):"Vorauskasse/\xdcberweisung"===this.state.payMethod.method?(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/bankPayment?basketShortcode=".concat(e.data.basketShortcode)).then((e=>{document.getElementById("spinner-box-load").style.display="none",this.setState({bankPaymentModal:(0,h.jsx)(d.Z,{data:e.data,fromRepair:!0})})})).catch((e=>{404===e.response.status&&i.mW.push("/reparieren/error-payment")}))):"PayPal"===this.state.payMethod.method?(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/paypalPayment?basketShortcode=".concat(e.data.basketShortcode)).then((e=>{window.open(e.data.link,"_self")}))):"PerRechnung"===this.state.payMethod.method?(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/paymentByInvoice?basketShortcode=".concat(e.data.basketShortcode)).then((e=>{document.getElementById("spinner-box-load").style.display="none"})).catch((e=>{404===e.response.status&&i.mW.push("/reparieren/error-payment")}))):"payInShop"===this.state.payMethod.method&&(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/paymentByCash?basketShortcode=".concat(e.data.basketShortcode)).then((e=>{document.getElementById("spinner-box-load").style.display="none"})).catch((e=>{404===e.response.status&&i.mW.push("/reparieren/error-payment")})))}})).catch((e=>{document.getElementById("spinner-box-load").style.display="none";let s=e.response.data.errors,a={};for(let t in s)a[t]=s[t][0];this.setState({errors:a})}))}sendByBicycle(){}choosePayMethod(e){let s=e.target.value,a=e.target.getAttribute("data-paymethoddatatrans");this.setState({payMethod:{...this.state.payMethod,method:s,payMethodDatatrans:a}})}cancelSendByEnter(e){if("Enter"===e.key)return e.preventDefault(),!1}render(){let{country:e,inputCheckbox:s,formData:a,shippingMethods:t,showSummaryPopup:i,errors:n,formSend:o}=this.state,{shippingMethod:l}=this.props.basketDataRepair,c=window.domainName.name.split(".")[window.domainName.name.split(".").length-1],d=Math.round(100*this.props.totalPrice)/100!==0,p=this._checkShowSpecialPayMethod(),x=s.shippingAddress?"col-md-4 col-sm-6 item-form-column ":"col-md-3 col-sm-6 item-form-column";return(0,h.jsxs)("div",{className:"delivery-post",children:[!o&&(0,h.jsxs)("div",{children:[!this.props.mountedInBicycleForm&&(0,h.jsxs)("div",{className:"price",children:[(0,h.jsx)("h3",{className:"title",children:"Preis"}),(0,h.jsxs)("p",{className:"value",children:[this.props.totalPrice," ","ch"===c?"CHF":"EUR"]})]}),(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("form",{name:"deliveryByPostForm",className:"editFormWrap",onKeyPress:this.cancelSendByEnter.bind(this),onSubmit:this.sendForm,children:[(0,h.jsx)("div",{className:x,children:(0,h.jsxs)("div",{className:"user-data personal",children:[(0,h.jsxs)("h3",{className:"title",children:[(0,h.jsx)("span",{className:"num",children:"1"}),"Pers\xf6nliche Angaben"]}),(0,h.jsxs)("div",{className:"topPersonalData",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"Geschlecht",checked:"Herr"==a.Geschlecht,onChange:this.handlerChangeInput,value:"Herr",required:!0}),(0,h.jsx)("span",{}),"Herr"]}),(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"Geschlecht",checked:"Frau"==a.Geschlecht,onChange:this.handlerChangeInput,value:"Frau"}),(0,h.jsx)("span",{}),"Frau"]}),n.Geschlecht&&(0,h.jsx)("p",{className:"info error",children:n.Geschlecht})]}),(0,h.jsxs)("div",{className:"personalDataInputHalf",children:[(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.first_name,onChange:this.handlerChangeInput,name:"first_name",placeholder:"Vorname",required:!0}),n.first_name&&(0,h.jsx)("p",{className:"info error",children:n.first_name})]}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.last_name,onChange:this.handlerChangeInput,name:"last_name",placeholder:"Nachname",required:!0}),n.last_name&&(0,h.jsx)("p",{className:"info error",children:n.last_name})]})]}),(0,h.jsx)("div",{className:"inputFullWidth",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"email",value:a.email,onChange:this.handlerChangeInput,name:"email",placeholder:"E-Mail",required:!0}),n.email&&(0,h.jsx)("p",{className:"info error",children:n.email})]})}),(0,h.jsx)("div",{className:"inputFullWidth",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.phone,onChange:this.handlerChangeInput,name:"phone",placeholder:"Telefon (mobil)",required:!0}),n.phone&&(0,h.jsx)("p",{className:"info error",children:n.phone})]})}),!e.countriesList.some((e=>e.value===a.Sprache.toLowerCase()))&&(0,h.jsx)("input",{className:"requiredSelect",type:"text",required:!0}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)(r.ZP,{placeholder:"Ausw\xe4hlen...",value:a.Sprache.toLowerCase(),name:"Sprache",clearable:!1,options:e.countriesList,searchable:!1,onChange:e=>this.changeCountry(e,"Sprache")}),n.Sprache&&(0,h.jsx)("p",{className:"info error",children:n.Sprache})]}),(0,h.jsxs)("label",{className:"labelCompany",children:[(0,h.jsx)("input",{type:"checkbox",value:s.systemCompany,name:"systemCompany",checked:s.systemCompany,onChange:this.changeCheckbox}),(0,h.jsx)("span",{className:"check"}),(0,h.jsx)("span",{className:"text",children:"Firma"})]}),(0,h.jsx)("div",{className:s.systemCompany?"inputFullWidth":"inputFullWidth hide",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.company,onChange:this.handlerChangeInput,name:"company",placeholder:"Firma",required:s.systemCompany}),n.company&&(0,h.jsx)("p",{className:"info error",children:n.company})]})}),(0,h.jsx)("div",{className:s.systemCompany?"inputFullWidth":"inputFullWidth hide",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.vat,onChange:this.handlerChangeInput,name:"vat",placeholder:"Company number",required:s.systemCompany}),n.vat&&(0,h.jsx)("p",{className:"info error",children:n.vat})]})})]})}),(0,h.jsx)("div",{className:x,children:(0,h.jsxs)("div",{className:"user-data billing",children:[(0,h.jsxs)("h3",{className:"title",children:[(0,h.jsx)("span",{className:"num",children:"2"}),"Rechnungs-",(0,h.jsx)("br",{}),"adresse"]}),(0,h.jsxs)("div",{className:"topPersonalData",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",checked:"Herr"==a.RechnungAnrede,onChange:this.handlerChangeInput,name:"RechnungAnrede",required:!0,value:"Herr"}),(0,h.jsx)("span",{}),"Herr"]}),(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",checked:"Frau"==a.RechnungAnrede,onChange:this.handlerChangeInput,name:"RechnungAnrede",required:!0,value:"Frau"}),(0,h.jsx)("span",{}),"Frau"]}),n.RechnungAnrede&&(0,h.jsx)("p",{className:"info error",children:n.RechnungAnrede})]}),(0,h.jsxs)("div",{className:"personalDataInputHalf",children:[(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.RechnungVorname,onChange:this.handlerChangeInput,name:"RechnungVorname",placeholder:"Vorname",required:!0}),n.RechnungVorname&&(0,h.jsx)("p",{className:"info error",children:n.RechnungVorname})]}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.RechnungNachname,onChange:this.handlerChangeInput,name:"RechnungNachname",placeholder:"Nachname",required:!0}),n.RechnungNachname&&(0,h.jsx)("p",{className:"info error",children:n.RechnungNachname})]})]}),(0,h.jsx)("div",{className:"inputFullWidth street",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.RechnungStrasse,onChange:this.handlerChangeInput,name:"RechnungStrasse",id:"customer_route",placeholder:"Adresse",required:!0}),n.RechnungStrasse&&(0,h.jsx)("p",{className:"info error",children:n.RechnungStrasse})]})}),(0,h.jsx)("div",{className:"personalDataInputHalf",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.RechnungHausnummer,onChange:this.handlerChangeInput,name:"RechnungHausnummer",id:"customer_street_number",placeholder:"Nr.",required:!0}),n.RechnungHausnummer&&(0,h.jsx)("p",{className:"info error",children:n.RechnungHausnummer})]})}),(0,h.jsxs)("div",{className:"personalDataInputHalf",children:[(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.RechnungPLZ,onChange:this.handlerChangeInput,name:"RechnungPLZ",placeholder:"PLZ",id:"customer_postal_code",required:!0}),n.RechnungPLZ&&(0,h.jsx)("p",{className:"info error",children:n.RechnungPLZ})]}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.RechnungStadt,onChange:this.handlerChangeInput,name:"RechnungStadt",placeholder:"Stadt",id:"customer_locality",required:!0}),n.RechnungStadt&&(0,h.jsx)("p",{className:"info error",children:n.RechnungStadt})]})]}),!e.countriesList.some((e=>e.value===a.RechnungLand.toLowerCase()))&&(0,h.jsx)("input",{className:"requiredSelect",type:"text",required:!0}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)(r.ZP,{placeholder:"Ausw\xe4hlen...",value:a.RechnungLand.toLowerCase(),name:"RechnungLand",clearable:!1,options:e.countriesList,searchable:!1,onChange:e=>this.changeCountry(e,"RechnungLand")}),n.RechnungLand&&(0,h.jsx)("p",{className:"info error",children:n.RechnungLand})]}),(0,h.jsx)("div",{className:"inputFullWidth",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.RechnungTelefon,onChange:this.handlerChangeInput,name:"RechnungTelefon",placeholder:"Telefon",required:!0}),n.RechnungTelefon&&(0,h.jsx)("p",{className:"info error",children:n.RechnungTelefon})]})}),(0,h.jsxs)("label",{className:"labelCompany",children:[(0,h.jsx)("input",{type:"checkbox",name:"customerCompany",value:s.customerCompany,checked:s.customerCompany,onClick:this.changeCheckbox}),(0,h.jsx)("span",{className:"check"}),(0,h.jsx)("span",{className:"text",children:"Firma"})]}),(0,h.jsx)("div",{className:s.customerCompany?"inputFullWidth":"inputFullWidth hide",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.RechnungFirmenname,onChange:this.handlerChangeInput,name:"RechnungFirmenname",placeholder:"Firma",required:s.customerCompany}),n.RechnungFirmenname&&(0,h.jsx)("p",{className:"info error",children:n.RechnungFirmenname})]})}),(0,h.jsxs)("div",{className:"topPersonalData showBillingForm",children:[(0,h.jsx)("div",{children:(0,h.jsxs)("label",{style:{width:"100%"},children:[(0,h.jsx)("input",{type:"radio",value:"billing",name:"shippingAddress","data-show":"false",checked:s.shippingAddress,onChange:this.changeCheckbox}),(0,h.jsx)("span",{}),"Lieferadresse = Rechnungsadresse"]})}),(0,h.jsx)("div",{children:(0,h.jsxs)("label",{style:{width:"100%"},children:[(0,h.jsx)("input",{type:"radio",value:"custom",name:"shippingAddress","data-show":"true",checked:!s.shippingAddress,onChange:this.changeCheckbox}),(0,h.jsx)("span",{}),"Lieferadresse erstellen"]})})]})]})}),(0,h.jsx)("div",{className:!0===s.shippingAddress?"hide col-md-3 col-sm-6 item-form-column":"col-sm-6 col-md-3 item-form-column",children:(0,h.jsxs)("div",{className:"user-data shipping",children:[(0,h.jsxs)("h3",{className:"title",children:[(0,h.jsx)("span",{className:"num",children:"3"}),"Liefer-",(0,h.jsx)("br",{}),"adresse"]}),(0,h.jsxs)("div",{className:"topPersonalData",children:[(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",checked:"Herr"==a.LieferAnrede,onChange:this.handlerChangeInput,name:"LieferAnrede",value:"Herr",required:!s.shippingAddress}),(0,h.jsx)("span",{}),"Herr"]}),(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",checked:"Frau"==a.LieferAnrede,onChange:this.handlerChangeInput,name:"LieferAnrede",value:"Frau",required:!s.shippingAddress}),(0,h.jsx)("span",{}),"Frau"]}),n.LieferAnrede&&(0,h.jsx)("p",{className:"info error",children:n.LieferAnrede})]}),(0,h.jsxs)("div",{className:"personalDataInputHalf",children:[(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.LieferVorname,onChange:this.handlerChangeInput,name:"LieferVorname",placeholder:"Vorname",required:!s.shippingAddress}),n.LieferVorname&&(0,h.jsx)("p",{className:"info error",children:n.LieferVorname})]}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.LieferNachname,onChange:this.handlerChangeInput,name:"LieferNachname",placeholder:"Nachname",required:!s.shippingAddress}),n.LieferNachname&&(0,h.jsx)("p",{className:"info error",children:n.LieferNachname})]})]}),(0,h.jsx)("div",{className:"inputFullWidth street",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.LieferStrasse,onChange:this.handlerChangeInput,name:"LieferStrasse",id:"route",placeholder:"Strasse",required:!s.shippingAddress}),n.LieferStrasse&&(0,h.jsx)("p",{className:"info error",children:n.LieferStrasse})]})}),(0,h.jsx)("div",{className:"personalDataInputHalf",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.LieferHausnummer,onChange:this.handlerChangeInput,name:"LieferHausnummer",id:"street_number",placeholder:"Nr.",required:!s.shippingAddress}),n.LieferHausnummer&&(0,h.jsx)("p",{className:"info error",children:n.LieferHausnummer})]})}),(0,h.jsxs)("div",{className:"personalDataInputHalf",children:[(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.LieferPLZ,onChange:this.handlerChangeInput,name:"LieferPLZ",placeholder:"PLZ",id:"postal_code",required:!s.shippingAddress}),n.LieferPLZ&&(0,h.jsx)("p",{className:"info error",children:n.LieferPLZ})]}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.LieferStadt,onChange:this.handlerChangeInput,name:"LieferStadt",placeholder:"Stadt",id:"locality",required:!s.shippingAddress}),n.LieferStadt&&(0,h.jsx)("p",{className:"info error",children:n.LieferStadt})]})]}),!e.countriesList.some((e=>e.value===a.LieferLand.toLowerCase()))&&!0!==s.shippingAddress&&(0,h.jsx)("input",{className:"requiredSelect",type:"text",required:!0}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)(r.ZP,{placeholder:"Ausw\xe4hlen...",value:a.LieferLand.toLowerCase(),name:"LieferLand",clearable:!1,options:e.countriesList,searchable:!1,onChange:e=>this.changeCountry(e,"LieferLand")}),n.LieferLand&&(0,h.jsx)("p",{className:"info error",children:n.LieferLand})]}),(0,h.jsx)("div",{className:"inputFullWidth phone",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.LieferTelefon,onChange:this.handlerChangeInput,name:"LieferTelefon",placeholder:"Telefon",required:!s.shippingAddress}),n.LieferTelefon&&(0,h.jsx)("p",{className:"info error",children:n.LieferTelefon})]})}),(0,h.jsxs)("label",{className:"labelCompany",children:[(0,h.jsx)("input",{type:"checkbox",value:s.shippingCompany,name:"shippingCompany",checked:s.shippingCompany,onChange:this.changeCheckbox}),(0,h.jsx)("span",{className:"check"}),(0,h.jsx)("span",{className:"text",children:"Firma"})]}),(0,h.jsx)("div",{className:s.shippingCompany?"inputFullWidth":"inputFullWidth hide",children:(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:a.LieferFirmenname,onChange:this.handlerChangeInput,name:"LieferFirmenname",placeholder:"Firma",required:s.shippingCompany}),n.LieferFirmenname&&(0,h.jsx)("p",{className:"info error",children:n.LieferFirmenname})]})})]})}),(0,h.jsx)("div",{className:x,children:(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"shipping-method",children:[(0,h.jsx)("h4",{className:"title",children:"Versandmethode:"}),(0,h.jsx)("div",{className:"topPersonalData",children:t.map(((e,s)=>(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",required:!0,onChange:s=>this.changeShippingMethod(s,e),checked:l&&e.shortcode===l.shortcode,value:e.shortcode,name:"shippingMethodShortcode"}),(0,h.jsx)("span",{}),e.name]},s)))}),n.shippingMethodShortcode&&(0,h.jsx)("p",{className:"info error",children:n.shippingMethodShortcode})]}),(0,h.jsxs)("div",{className:"payment-method",children:[(0,h.jsxs)("h3",{className:"title",children:[(0,h.jsx)("span",{className:"num",children:"4"}),"Zahlungsmethode"]}),(0,h.jsx)("span",{className:"view-summary",onClick:this.toggleSummaryPopup,children:"Zusammenfassung anzeigen"}),(0,h.jsx)("div",{className:"topPersonalData",children:(0,h.jsxs)("ul",{onChange:this.choosePayMethod,children:[l&&"PICKAS"===l.shortcode&&(0,h.jsx)("li",{children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"payment_method",required:d,value:"payInShop"}),(0,h.jsx)("span",{className:"radio"}),"Zahlung bei Abholung"]})}),"ch"===c&&(0,h.jsxs)("div",{children:[(0,h.jsx)("li",{children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"payment_method",required:d,value:"Datatrans","data-paymethoddatatrans":"VIS"}),(0,h.jsx)("span",{className:"radio"}),(0,h.jsx)("img",{src:"/images/icons/payment-type/4.png",width:"24",height:"24",className:"payment-icon",alt:"Visa"}),"Visa"]})}),(0,h.jsx)("li",{children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"payment_method",required:d,value:"Datatrans","data-paymethoddatatrans":"ECA"}),(0,h.jsx)("span",{className:"radio"}),(0,h.jsx)("img",{src:"/images/icons/payment-type/5.png",width:"24",height:"24",className:"payment-icon",alt:"Mastercard"}),"Mastercard"]})}),(0,h.jsx)("li",{children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"payment_method",required:d,value:"Datatrans","data-paymethoddatatrans":"PFC"}),(0,h.jsx)("span",{className:"radio"}),(0,h.jsx)("img",{src:"/images/icons/payment-type/3.png",width:"24",height:"24",className:"payment-icon",alt:"PostFinance Card"}),"PostFinance Card"]})}),(0,h.jsx)("li",{children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"payment_method",required:d,value:"Datatrans","data-paymethoddatatrans":"TWI"}),(0,h.jsx)("span",{className:"radio"}),(0,h.jsx)("img",{src:"/images/icons/payment-type/17.png",width:"24",height:"24",className:"payment-icon",alt:"Diners Club"}),"TWINT Wallet"," "]})})]}),"de"===c&&(0,h.jsxs)("div",{children:[(0,h.jsx)("li",{children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"payment_method",required:d,value:"Stripe"}),(0,h.jsx)("span",{className:"radio"}),(0,h.jsx)("img",{src:"/images/icons/payment-type/4.png",width:"24",height:"24",className:"payment-icon",alt:"Visa"}),"Visa"]})}),(0,h.jsx)("li",{children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"payment_method",required:d,value:"Stripe"}),(0,h.jsx)("span",{className:"radio"}),(0,h.jsx)("img",{src:"/images/icons/payment-type/5.png",width:"24",height:"24",className:"payment-icon",alt:"Mastercard"}),"Mastercard"]})}),(0,h.jsx)("li",{children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"payment_method",required:d,value:"Stripe"}),(0,h.jsx)("span",{className:"radio"}),(0,h.jsx)("img",{src:"/images/icons/payment-type/7.png",width:"24",height:"24",className:"payment-icon",alt:"American Express"}),"American Express"]})})]}),(0,h.jsx)("li",{children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"payment_method",required:d,value:"PayPal"}),(0,h.jsx)("span",{className:"radio"}),(0,h.jsx)("img",{src:"/images/icons/payment-type/6.png",width:"24",height:"24",className:"payment-icon",alt:"PayPal"}),"PayPal"]})}),(0,h.jsx)("li",{children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"payment_method",value:"Vorauskasse/\xdcberweisung"}),(0,h.jsx)("span",{className:"radio"}),(0,h.jsx)("img",{src:"/images/icons/payment-type/10.png",width:"24",height:"24",className:"payment-icon",alt:"Vorauskasse"}),"Vorauskasse"]})}),p&&(0,h.jsx)("li",{children:(0,h.jsxs)("label",{children:[(0,h.jsx)("input",{type:"radio",name:"payment_method",value:"PerRechnung"}),(0,h.jsx)("span",{className:"radio"}),(0,h.jsx)("img",{src:"/images/icons/payment-type/",width:"24",height:"24",className:"payment-icon",alt:"Per Rechnung"}),"Per Rechnung"]})})]})})]}),(0,h.jsxs)("button",{type:"submit",className:"btn",onSubmit:this.sendForm,onClick:this.props.selectDesiredButton,children:["Weiter",(0,h.jsx)("span",{children:(0,h.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]})})]})}),this.state.bankPaymentModal,this.state.payForm,i&&(0,h.jsx)(m,{basketData:this.props.basketDataRepair,sendForm:this.sendForm,removeFromBasket:this.removeFromBasket,totalPrice:this.props.totalPrice,toggleSummaryPopup:this.toggleSummaryPopup})]}),o&&(0,h.jsxs)("div",{children:[(0,h.jsx)(u,{props:this.props}),(0,h.jsxs)("p",{className:"delivery-form-form-send-text",children:["you can spontaneously forward your"," ",this.props.model.title.split(" ")[1]," during our opening hours for the repair and wait directly onthe rapaired"," ",this.props.model.title.split(" ")[1],"!"]})]})]})}}x.defaultProps={mountedInBicycleForm:!1};const g=(0,n.$j)((function(e){return{user:e.user,basketDataRepair:e.basket.basketDataRepair}}),(function(e){return{basketActions:(0,o.DE)(l,e)}}))(x);function f(){this.Geschlecht="",this.first_name="",this.last_name="",this.email="",this.phone="",this.Sprache="ch",this.company="",this.vat="",this.RechnungAnrede="",this.RechnungVorname="",this.RechnungNachname="",this.RechnungStrasse="",this.RechnungHausnummer="",this.RechnungPLZ="",this.RechnungStadt="",this.RechnungLand="ch",this.RechnungTelefon="",this.RechnungFirmenname="",this.LieferAnrede="",this.LieferVorname="",this.LieferNachname="",this.LieferStrasse="",this.LieferHausnummer="",this.LieferPLZ="",this.LieferStadt="",this.LieferLand="ch",this.LieferTelefon="",this.LieferFirmenname=""}var y=a(12279),j=a.n(y);class v extends t.Component{constructor(e){super(e),this.state={showInfo:!1,info:{price:null,shortcode:null,name:null},errors:{zip:null},formWasSubmit:!1},this.handleChangeZip=this.handleChangeZip.bind(this)}componentWillMount(){this.inputZipCallback=j()((function(e){let s=document.querySelector('.delivery-bicycle input[name="zip"]').value;axios.get("/api/checkShippingZip?zip=".concat(s)).then((e=>{this.setState({info:e.data,showInfo:!0})})).catch((e=>{let s=e.response.data.errors.zip[0];this.setState({errors:{...this.state.errors,zip:s},showInfo:!1})}))}),1e3)}submitForm(){this.setState({formWasSubmit:!0})}handleChangeZip(e){this.setState({errors:{...this.state.errors,zip:null},showInfo:!1}),e.persist(),this.inputZipCallback(e)}render(){let{totalPrice:e}=this.props,{info:s,showInfo:a,formWasSubmit:t}=this.state;return(0,h.jsxs)("div",{className:"delivery-bicycle",children:[!t&&(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"price",children:[(0,h.jsx)("h3",{className:"title",children:"price"}),(0,h.jsxs)("p",{className:"value",children:[e," ",window.currencyValue]})]}),(0,h.jsxs)("div",{className:"row row-flex",children:[(0,h.jsx)("div",{className:"col-sm-6 item-column ",children:(0,h.jsxs)("div",{children:[(0,h.jsxs)("h3",{className:"title",children:[(0,h.jsx)("span",{className:"num",children:"1"}),"Calculate the price"]}),(0,h.jsxs)("div",{className:"content",children:[(0,h.jsxs)("p",{children:["Please enter your ",(0,h.jsx)("span",{className:"bold",children:"zip code"})," ","where ",(0,h.jsx)("br",{})," the device is to be collected:"]}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"number",name:"zip",placeholder:"e.g. 4132",onChange:this.handleChangeZip}),this.state.errors.zip&&(0,h.jsx)("p",{className:"error",children:this.state.errors.zip})]}),(0,h.jsxs)("div",{className:a?"info show":"info",children:[s.name&&(0,h.jsx)("p",{children:s.name}),s.price&&(0,h.jsxs)("p",{children:["Price:"," ",(0,h.jsxs)("span",{className:"bold",children:[s.price," ",window.currencyValue]})," ","(flat rate per route)"]}),(0,h.jsxs)("p",{children:["You can call one of the two shipping companies at any time (at step 2. and specify your desired or desired time for collection."," "]}),(0,h.jsxs)("p",{children:["Please name ",(0,h.jsx)("span",{className:"bold",children:'"Standard"'})," ","(shipping within 60 minutes) and our customer reference: iReparation as invoice recipient."," "]}),(0,h.jsx)("p",{children:"Please enter your address as the shipping destination."})]})]})]})}),(0,h.jsx)("div",{className:"col-sm-6 item-column",children:(0,h.jsxs)("div",{className:"right-part",children:[(0,h.jsxs)("h3",{className:"title",children:[(0,h.jsx)("span",{className:"num",children:"2"}),"Enter your contact data"]}),(0,h.jsxs)("div",{className:"content",children:[(0,h.jsxs)("div",{className:"numPhone",children:[(0,h.jsx)("img",{src:"/images/design/guy-banner.svg",alt:""}),(0,h.jsx)("span",{children:(0,h.jsx)("a",{href:"tel:+615118043",children:"+615118043"})})]}),(0,h.jsxs)("div",{className:"address",children:[(0,h.jsxs)("div",{className:"item-column",children:[(0,h.jsx)("p",{className:"category",children:"Basel Branch"}),(0,h.jsx)("p",{children:"remarket.ch GmbH"}),(0,h.jsx)("p",{children:"Gerbergasse 82"}),(0,h.jsx)("p",{children:"4001 Basel"})]}),(0,h.jsxs)("div",{className:"item-column",children:[(0,h.jsx)("p",{className:"category",children:"Opening hours"}),(0,h.jsxs)("p",{className:"time",children:["Mon - Fri ",(0,h.jsx)("br",{})," 09:00 - 18:30"]}),(0,h.jsxs)("p",{className:"time",children:["Sat ",(0,h.jsx)("br",{})," 10:00 - 18_00"]})]})]})]})]})})]}),(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsxs)("div",{className:"info-block",children:[(0,h.jsxs)("p",{children:["You are welcome to choose one of our two Velokurierpartner for an EXPRESS delivery. We carry out most of the repairs EXPRESS on the spot, so you only have to do without your bike for about 60 minutes (+ journey from the cyclist) and use it again."," "]}),(0,h.jsx)("p",{className:"small",children:"Information : The collection and delivery service by Velokurier is only possible for corporate customers"})]})})}),a&&(0,h.jsx)(g,{mountedInBicycleForm:!0,totalPrice:e,model:this.props.model,submitForm:this.submitForm.bind(this),shippingMethod:s})]}),t&&(0,h.jsx)(u,{props:this.props})]})}}const b=v;var N=a(89850),k=a.n(N),C=a(44251),w=a.n(C);class S extends t.Component{constructor(e){super(e),this.state={showInfo:!1,captcha:{isCheckCaptcha:!1,errorCaptcha:!1},isSelectTime:!1,formData:{firstName:"",lastName:"",email:"",phone:"",colorValue:""},openHours:null,formWasSubmited:!1,errors:{datetime:""}},this.verifyCaptchaCallback=this.verifyCaptchaCallback.bind(this),this.sendForm=this.sendForm.bind(this),this.showCaptcha=this.showCaptcha.bind(this),this._setDataFields=this._setDataFields.bind(this),this.changePhoneNumber=this.changePhoneNumber.bind(this),this._initCalendar=this._initCalendar.bind(this),this.changeColor=this.changeColor.bind(this),this.handlerChangeInput=this.handlerChangeInput.bind(this),this._initMap=this._initMap.bind(this)}componentDidUpdate(){P(),R()}componentWillReceiveProps(e){e.user.isLogin!==this.props.user.isLogin&&!0===e.user.isLogin&&this._setDataFields(e.user.data),e.user.isLogin!==this.props.user.isLogin&&!1===e.user.isLogin&&this.setState({formData:{firstName:"",lastName:"",email:"",phone:"",colorValue:""}}),e.totalTime!==this.props.totalTime&&($("#input").datetimepicker("destroy"),this._initCalendar(e.totalTime))}componentDidMount(){this._initCalendar(this.props.totalTime),P(),this.props.user.isLogin&&this._setDataFields(this.props.user.data),window.isGoogleConnection&&this._initMap()}changePhoneNumber(e){this.setState({formData:{...this.state.formData,phone:e}})}handlerChangeInput(e){let{name:s,value:a}=e.target;this.setState({errors:{...this.state.errors,[s]:null},formData:{...this.state.formData,[s]:a}})}_initCalendar(e){let s=[],a=e,t=o(),i=null,n=null,r=this;function o(){let e=new Date;return e.getHours()+":"+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())}function l(e,a){if(e.forEach(((e,t)=>{a==t&&(i=e.from||0,n=e.to||0),e.from||e.to||s.push(t)})),n){let e=n.split("");e[e.length-1]=+e[e.length-1]+1,n=e.join("")}}function c(){let e=60*a+1,s=Math.ceil(e/30);$(".xdsoft_time_variant .xdsoft_time").each((function(e,a){let t=$(".xdsoft_time_variant .xdsoft_time");e+s>=t.length&&$(this).css({opacity:".4",pointerEvents:"none"})}))}axios.get("/api/getShopOpenHours").then((e=>{let a=(new Date).getDay();l(e.data,a),function(e,s,a){$.datetimepicker.setLocale("de"),$("#datetimepicker").datetimepicker({formatDate:"d.m.Y",formatTime:"H:i",inline:!0,step:30,minDate:new Date,disabledWeekDays:a,minTime:e,maxTime:s,scrollMonth:!1,defaultSelect:!1,onChangeDateTime:function(e,s){P(),R()},onChangeMonth:function(){P()},onChangeYear:function(){P()},onGenerate:function(e,s){setTimeout((()=>{P(),R(),c()}),10)},onSelectTime:function(){r.setState({isSelectTime:!0})},onSelectDate:function(e,s){let a=new Date,t=a.getFullYear(),d=a.getMonth(),h=a.getDate(),p=e.getFullYear(),m=e.getMonth(),u=e.getDate(),x=t===p&&d===m&&h===u;l(r.state.openHours,e.getDay()),x&&(i=o()),$("#datetimepicker").datetimepicker("setOptions",{minTime:i,maxTime:n}),setTimeout((()=>{c(),[...$(".xdsoft_time_variant .xdsoft_time")].forEach((e=>e.classList.remove("xdsoft_current")))}),20),r.setState({errors:{...r.state.errors,datetime:""},isSelectTime:!1})}})}(t,n,s),this.setState({openHours:e.data})}))}_setDataFields(e){let s=e.systemAddress.email,a=e.systemAddress.phone,t=e.systemAddress.first_name,i=e.systemAddress.last_name;a&&0===a.indexOf("0041")&&(a="+"+a.slice(2)),this.setState({formData:{...this.state.formData,email:s,phone:a,firstName:t,lastName:i}})}verifyCaptchaCallback(e){this.setState({captcha:{...this.state.captcha,isCheckCaptcha:!0,errorCaptcha:!1}})}showCaptcha(e){let{captcha:s}=this.state;s.isCheckCaptcha?(this.recaptchaInstance.reset(),this.setState({captcha:{...this.state.captcha,isCheckCaptcha:!1,errorCaptcha:!1}})):this.recaptchaInstance.execute()}sendForm(e){e.preventDefault();let{captcha:s,isSelectTime:a}=this.state,{selectedRepairOptions:t,model:i}=this.props,n=Date.parse((o=new Date($("#datetimepicker").datetimepicker("getValue")),new Date(Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds())))),r={...this.state.formData,datetime:n,repairs:t.map((e=>e.shortcode)),modelId:i.id,colorId:this.state.formData.colorValue&&this.state.formData.colorValue.id};var o;!s.isCheckCaptcha&&window.isGoogleConnection||!a?this.setState({captcha:{...this.state.captcha,errorCaptcha:!s.isCheckCaptcha},errors:{...this.state.errors,datetime:!a&&"Date/time field is required"}}):(document.getElementById("spinner-box-load").style.display="block",axios.post("/api/bookingWithShopVisit",r).then((e=>{document.getElementById("spinner-box-load").style.display="none",this.setState({formWasSubmited:!0})})).catch((e=>{document.getElementById("spinner-box-load").style.display="none";let s=e.response.data.errors,a={};for(let t in s)a[t]=s[t][0];this.setState({errors:a})})))}changeColor(e){this.setState({formData:{...this.state.formData,colorValue:e},errors:{...this.state.errors,colorId:""}})}mapColorOptionSelected(e){return(0,h.jsxs)("span",{children:[e.value,(0,h.jsx)("span",{className:"colorPic",style:{background:e.code}})]})}mapColorOption(e){return(0,h.jsxs)("span",{children:[e.value,(0,h.jsx)("span",{className:"colorPic",style:{background:e.code}})]})}_initMap(){function e(e,s,a){this.latlng=e,this.args=a,this.setMap(s)}e.prototype=new google.maps.OverlayView,e.prototype.draw=function(){let e=this.div;e||(e=this.div=document.createElement("div"),e.className="mapMarker",this.getPanes().overlayImage.appendChild(e));var s=this.getProjection().fromLatLngToDivPixel(this.latlng);s&&(e.style.left=s.x-20+"px",e.style.top=s.y+"px")};let s=new google.maps.LatLng(47.555012,7.5886962),a=new google.maps.Map(document.querySelector(".mapWrapper"),{zoom:17,center:s}),t=new google.maps.InfoWindow,i=new google.maps.places.PlacesService(a),n="ch"===window.domainName.name.split(".")[window.domainName.name.split(".").length-1]?"ChIJ6Woipq25kUcRoqB8dyvAvKA":"ChIJxwhr9H6xkUcRzxmAyoHLx8k";i.getDetails({placeId:n},(function(s,i){a.setCenter(s.geometry.location);let r=new google.maps.Marker({map:a,place:{placeId:n,location:s.geometry.location}});r.setVisible(!1);let o=s.rating/5*100+"%",l="";s.rating&&(l='<b style="color:#02ca95">'.concat(s.rating,'&nbsp;</b>\n                                    <div class="back-stars">\n                                        <i class="fa fa-star active" aria-hidden="true"></i>\n                                        <i class="fa fa-star active" aria-hidden="true"></i>\n                                        <i class="fa fa-star active" aria-hidden="true"></i>\n                                        <i class="fa fa-star active" aria-hidden="true"></i>\n                                        <i class="fa fa-star active" aria-hidden="true"></i>\n                                        <div class="front-stars" style="width: ').concat(o,'">\n                                            <i class="fa fa-star" aria-hidden="true"></i>\n                                            <i class="fa fa-star" aria-hidden="true"></i>\n                                            <i class="fa fa-star" aria-hidden="true"></i>\n                                            <i class="fa fa-star" aria-hidden="true"></i>\n                                            <i class="fa fa-star" aria-hidden="true"></i>\n                                        </div>\n                                    </div>'));let c='<div class="map-info-block">\n                            <p><b>'.concat(s.name,"</b></p>\n                            <p>").concat(s.adr_address.replace(/,/g,""),"</p>\n                            ").concat(l,"\n                           </div>");t.setContent(c),t.open(a,r);new e(s.geometry.location,a,{})}))}render(){let{totalPrice:e,model:s,totalTime:a}=this.props,{captcha:t,errors:i,formData:n,formWasSubmited:o}=this.state,l="remarket.ch"===window.domainName.name?"ch":"de";return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:"delivery-book form-send-delivery-book",children:[!o&&(0,h.jsxs)("div",{className:"price",children:[(0,h.jsx)("h3",{className:"title",children:"price"}),(0,h.jsxs)("p",{className:"value",children:[e," ",window.currencyValue]})]}),(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("form",{name:"contactData",onSubmit:this.sendForm,children:[o&&(0,h.jsxs)("div",{className:"col-md-4 col-sm-6",children:[(0,h.jsx)("img",{className:"form-send-device-photo",src:"",alt:""}),(0,h.jsx)("h3",{className:"form-send-thanks",children:"Thank you!"}),(0,h.jsx)("p",{className:"form-send-thanks__content",children:"I'm glad I can help you estimate the repair price of your device. Book appintment"}),(0,h.jsxs)("section",{className:"form-send-devise",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"form-send-devise__model",children:s.title}),(0,h.jsxs)("p",{className:"form-send-devise__color",children:[(0,h.jsx)("span",{className:"form-send-devise__color_".concat(n.colorValue&&n.colorValue.id),style:{background:"".concat(n.colorValue.code),width:"15px",height:"15px",display:"inleneBlock",borderRadius:"50%"}}),"\xa0",(0,h.jsxs)("span",{className:"form-send-devise__description",children:[n.colorValue.value,", 32 GB"]})]})]}),(0,h.jsxs)("div",{className:"form-send-devise__price",children:[e,window.currencyValue]})]}),(0,h.jsxs)("p",{className:"form-send__duration",children:["Duration:\xa0",a.toFixed(2)," ",+a.toFixed(0)>0&&1===+a.toFixed(0)?(0,h.jsx)("span",{children:"hour"}):(0,h.jsx)("span",{children:"hours"})]})]}),(0,h.jsxs)("div",{className:o?"col-md-4 col-sm-6 calendar":"col-md-4 col-sm-6 item-column calendar",children:[(0,h.jsxs)("div",{children:[o?(0,h.jsx)("p",{className:"form-send__title",children:"Add apointment"}):(0,h.jsxs)("h3",{className:"title",children:[(0,h.jsx)("span",{className:"num",children:"1"}),"Datum und Uhrzeit ausw\xe4hlen"]}),(0,h.jsx)("input",{type:"text",id:"datetimepicker"}),o?(0,h.jsxs)("button",{className:"btn form-send__btn",type:"submit",children:[(0,h.jsx)("p",{children:"Book apointment"}),(0,h.jsx)("p",{className:"form-send__btn-arrow",children:"\u2192"})]}):""]}),(0,h.jsx)("div",{className:"input-row",children:i.datetime&&(0,h.jsx)("p",{className:"info error",children:i.datetime})})]}),!o&&(0,h.jsx)("div",{className:"col-md-4 col-sm-6 item-column",children:(0,h.jsxs)("div",{children:[(0,h.jsxs)("h3",{className:"title",children:[(0,h.jsx)("span",{className:"num",children:"2"}),"Kontaktdaten eintragen"]}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:n.firstName,onChange:this.handlerChangeInput,name:"firstName",required:!0,placeholder:"Vorname"}),i.firstName&&(0,h.jsx)("p",{className:"info error",children:i.firstName})]}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"text",value:n.lastName,onChange:this.handlerChangeInput,name:"lastName",required:!0,placeholder:"Nachname"}),i.lastName&&(0,h.jsx)("p",{className:"info error",children:i.lastName})]}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)(w(),{inputProps:{name:"phone_number",required:!0},pattern:"(\\+?\\d){11,}",value:n.phone,onChange:this.changePhoneNumber,defaultCountry:l,autoFormat:!1,placeholder:"Ihre Mobiltelefonnummer",flagsImagePath:"/images/design/flags.png"}),i.phone&&(0,h.jsx)("p",{className:"info error",children:i.phone})]}),(0,h.jsxs)("div",{className:"input-row",children:[(0,h.jsx)("input",{type:"email",value:n.email,onChange:this.handlerChangeInput,name:"email",required:!0,placeholder:"E-Mail"}),i.email&&(0,h.jsx)("p",{className:"info error",children:i.email})]}),(0,h.jsxs)("div",{className:"select",children:[(0,h.jsx)(r.ZP,{placeholder:"Bitte w\xe4hlen Sie Farbe Ihres Ger\xe4tes aus",value:n.colorValue,name:"colorCode",clearable:!1,options:s.colors,searchable:!1,required:!0,valueKey:"id",labelKey:"value",valueRenderer:this.mapColorOptionSelected.bind(this),optionRenderer:this.mapColorOption.bind(this),onChange:this.changeColor}),i.colorId&&(0,h.jsx)("p",{className:"info error",children:i.colorId})]})]})}),!o&&(0,h.jsx)("div",{className:"col-md-4 col-sm-6 item-column",children:(0,h.jsxs)("div",{children:[(0,h.jsxs)("h3",{className:"title",children:[(0,h.jsx)("span",{className:"num",children:"3"}),"Termin best\xe4tigen"]}),(0,h.jsx)("p",{children:"Bitte kontrollieren Sie nochmals alle Angaben und best\xe4tigen Sie den Termin."}),(0,h.jsx)(k(),{sitekey:window.captchaSitekey.key,render:"explicit",hl:"de",verifyCallback:this.verifyCaptchaCallback,onloadCallback:()=>!1}),t.errorCaptcha&&(0,h.jsx)("p",{style:{color:"red"},children:"Bitte best\xe4tigen Sie, dass Sie kein Roboter sind."}),(0,h.jsx)("button",{className:"btn send",type:"submit",children:"Jetzt Termin reservierendasdas"})]})}),o&&(0,h.jsx)("div",{className:"col-md-4 col-sm-6 item-column",children:(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"form-send__title-address",children:"Adressess"}),(0,h.jsxs)("p",{className:"form-send__address",children:["IRepartur.ch ",(0,h.jsx)("br",{})," Gerbergasse 82 ",(0,h.jsx)("br",{})," CH-4001 Basel"]}),(0,h.jsx)("h3",{className:"form-send__title",children:"Ofnungszeiten Basel"}),(0,h.jsxs)("div",{className:"form-send-container form-send__address",children:[(0,h.jsx)("span",{children:"Mo-Fr:"}),(0,h.jsx)("span",{children:"09:00 - 18.30 Uhr"})]}),(0,h.jsxs)("div",{className:"form-send-container form-send__address",children:[(0,h.jsx)("span",{children:"Sa:"}),(0,h.jsx)("span",{children:"10:00 - 18.00 Uhr"})]}),(0,h.jsxs)("div",{className:"form-send-contucts",children:[(0,h.jsx)("h3",{className:"form-send-contucts__title",children:"E-mail"}),(0,h.jsxs)("p",{className:"form-send-contucts__mail",children:[(0,h.jsx)("img",{src:"/images/repair-icons/mail.svg",alt:""}),(0,h.jsx)("span",{children:"basel@irepartur.ch"})]}),(0,h.jsx)("h3",{className:"form-send-contucts__title",children:"Telephone"}),(0,h.jsx)("p",{className:"form-send-contucts__mail",children:"061 511 22 42"})]})]})})]})}),(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:o?"mapWrapper form-send_active":"mapWrapper form-send_none"}),(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsx)("p",{className:"info-block",children:"Gerne k\xf6nnen Sie Ihr Ger\xe4t spontan w\xe4hrend unseren \xd6ffnungszeiten f\xfcr die Reparatur vorbeibringen und direkt auf das reparierte Ger\xe4t warten!"})})]})]})})}}function P(){let e=0;$(".item-column").each((function(){$("div",this).height()>e&&(e=$("div",this).height())})).height(e)}function R(){if($(".xdsoft_time_variant").height()<$(".xdsoft_timepicker").height()){let e=$(".xdsoft_timepicker").height()-$(".xdsoft_time_variant").height();e-96>0&&$(".xdsoft_time_variant").css({marginTop:e/2-24+"px"})}}const _=(0,n.$j)((function(e){return{user:e.user}}))(S);class L extends t.Component{constructor(e){super(e),this.state={activeNavItem:""},this.clickNavItem=this.clickNavItem.bind(this),this.mapNotice=this.mapNotice.bind(this)}componentDidMount(){$("html, body").animate({scrollTop:$(".select-device.repair-list-part").offset().top-90},600)}componentWillMount(){window.recaptchaOptions={lang:"de"}}componentWillReceiveProps(e){}clickNavItem(e){let s=e.currentTarget.getAttribute("data-type");this.setState({activeNavItem:s})}mapNotice(e){if(e.notice)return(0,h.jsx)("li",{children:e.notice},e.shortcode)}render(){let{activeNavItem:e}=this.state,{totalPrice:s,selectedRepairOptions:a,model:t,basketActions:i,totalTime:n}=this.props,r=a.some((e=>e.notice));return(0,h.jsx)("div",{className:"delivery-form animated fadeIn",children:(0,h.jsxs)("div",{className:"container",children:[(0,h.jsx)("div",{className:"row",children:(0,h.jsxs)("div",{className:"col-md-12",children:[(0,h.jsx)("p",{className:"title",children:"Wie wollen Sie die Reparatur durchf\xfchren lassen?"}),(0,h.jsxs)("div",{className:"navigation",children:[(0,h.jsxs)("div",{className:"book"===e?"item-navigation active":"item-navigation","data-type":"book",onClick:this.clickNavItem,children:[(0,h.jsxs)("div",{className:"image",children:[(0,h.jsx)("img",{src:"/images/design/repair-delivery-nav-icon-1.png",alt:""}),(0,h.jsx)("img",{src:"/images/design/repair-delivery-nav-icon-1-active.png",alt:""})]}),(0,h.jsx)("p",{className:"title",children:"Termin buchen"}),(0,h.jsx)("p",{className:"descr",children:"Ladenlokal besuchen"})]}),(0,h.jsxs)("div",{className:"bicycle"===e?"item-navigation active":"item-navigation","data-type":"bicycle",onClick:this.clickNavItem,children:[(0,h.jsxs)("div",{className:"image",children:[(0,h.jsx)("img",{src:"/images/design/repair-delivery-nav-icon-2.png",alt:""}),(0,h.jsx)("img",{src:"/images/design/repair-delivery-nav-icon-2-active.png",alt:""})]}),(0,h.jsx)("p",{className:"title",children:"Per Velokurier"}),(0,h.jsx)("p",{className:"descr",children:"Dauer Versand: ca. 2 Stunden (hin- und zur\xfcck)"})]}),(0,h.jsxs)("div",{className:"post"===e?"item-navigation active":"item-navigation","data-type":"post",onClick:this.clickNavItem,children:[(0,h.jsxs)("div",{className:"image",children:[(0,h.jsx)("img",{src:"/images/design/repair-delivery-nav-icon-3.png",alt:""}),(0,h.jsx)("img",{src:"/images/design/repair-delivery-nav-icon-3-active.png",alt:""})]}),(0,h.jsx)("p",{className:"title",children:"Per Postversand"}),(0,h.jsx)("p",{className:"descr",children:"Dauer Versand: ca. 2-3 Tage"})]}),(0,h.jsxs)("div",{className:"recommend"===e?"item-navigation active":"item-navigation","data-type":"recommend",onClick:this.clickNavItem,children:[(0,h.jsxs)("div",{className:"image",children:[(0,h.jsx)("img",{src:"/images/design/repair-delivery-nav-icon-4.png",alt:""}),(0,h.jsx)("img",{src:"/images/design/repair-delivery-nav-icon-4-active.png",alt:""})]}),(0,h.jsx)("p",{className:"title",children:"Freund empfehlen"}),(0,h.jsx)("p",{className:"descr",children:"E-Mail, Whatsapp, etc."})]})]})]})}),"post"===e&&(0,h.jsx)(g,{totalPrice:s,model:t}),"bicycle"===e&&(0,h.jsx)(b,{totalPrice:s,model:t}),"book"===e&&(0,h.jsx)(_,{model:t,totalTime:n,basketActions:i,selectedRepairOptions:a,totalPrice:s}),r&&(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-md-12",children:(0,h.jsxs)("div",{className:"notice-block",children:[(0,h.jsxs)("p",{className:"head-title",children:[(0,h.jsx)("img",{src:"/images/design/warning.png",alt:""}),(0,h.jsx)("b",{children:"Wichtiger Hinweis:"})," Bei Ihrer Reparatur gibt es folgendes zu beachten:"]}),(0,h.jsx)("ul",{children:a.map(this.mapNotice)})]})})})]})})}}const I=L;class M extends t.Component{constructor(e){super(e),this.state={repairList:[],model:{id:null,frontImage:null,backImage:null,title:null},isPhonePositionFront:!0,selectedRepairOptions:[],totalPrice:0,totalTime:0},this.getRepairsList=this.getRepairsList.bind(this),this.mapRepairList=this.mapRepairList.bind(this),this.rotatePhone=this.rotatePhone.bind(this),this.wrapRepairOptionsInRow=this.wrapRepairOptionsInRow.bind(this),this.chooseRepairOption=this.chooseRepairOption.bind(this),this.mapOptionsOnPhone=this.mapOptionsOnPhone.bind(this),this.calculatePriceAndTime=this.calculatePriceAndTime.bind(this)}componentDidMount(){this.getRepairsList()}componentWillReceiveProps(e){e.params.model!==this.props.params.model&&this.getRepairsList(e.params.model),e.selectedRepairOptions!==this.props.selectedRepairOptions&&this.calculatePriceAndTime(e.selectedRepairOptions)}mapOptionsOnPhone(e,s,a){let t={position:"absolute",margin:"".concat(s.positionY,"px 0 0 ").concat(s.positionX,"px")},i="",{selectedRepairOptions:n}=this.props;return n.some((e=>e.shortcode==s.shortcode))&&(i="active"),s.isBackPosition&&"back"===e?(0,h.jsxs)("div",{className:"item-option",style:t,children:[(0,h.jsx)("label",{htmlFor:"option-".concat(s.shortcode),className:i}),(0,h.jsx)("span",{className:"title",children:s.title})]},a):s.isBackPosition||"front"!==e?void 0:(0,h.jsxs)("div",{className:"item-option",style:t,children:[(0,h.jsx)("label",{htmlFor:"option-".concat(s.shortcode),className:i}),(0,h.jsx)("span",{className:"title",children:s.title})]},a)}wrapRepairOptionsInRow(){return this.state.repairList.map(this.mapRepairList).reduce(((e,s,a)=>(a%2===0&&e.push([]),e[e.length-1].push(s),e)),[]).map(((e,s)=>(0,h.jsx)("div",{className:"row",children:e},s)))}getRepairsList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.params.model,s=e.slice(e.lastIndexOf("-")+1);document.getElementById("spinner-box-load").style.display="block",axios.get("/api/getModelRepairList?modelId=".concat(s)).then((e=>{document.getElementById("spinner-box-load").style.display="none",this.setState({repairList:e.data.repairList,model:e.data.model}),window.scrollTo(0,document.querySelector(".select-device").offsetTop-110)}))}mapRepairList(e,s){let{selectedRepairOptions:a}=this.props,t=0,i=e.priceMax,n=window.domainName.name.split(".")[window.domainName.name.split(".").length-1];if(a.forEach((e=>{+e.priceMax>t&&(t=+e.priceMax)})),a.length>0)if(t>+e.priceMax)i=e.minPrice;else if(t==+e.priceMax){i=this.state.repairList.find((e=>+e.priceMax==t&&a.some((s=>s.shortcode==e.shortcode)))).shortcode==e.shortcode?e.priceMax:e.minPrice}return(0,h.jsx)("div",{className:"col-sm-6",children:(0,h.jsxs)("label",{className:"item-repair-option",children:[(0,h.jsxs)("div",{className:"left",children:[(0,h.jsx)("input",{type:"checkbox",id:"option-".concat(e.shortcode),checked:a.some((s=>s.shortcode===e.shortcode)),onChange:()=>this.chooseRepairOption(e)}),(0,h.jsx)("span",{}),(0,h.jsx)("div",{className:"image",children:(0,h.jsx)("img",{src:e.icon||"https://www.ireparatur.ch/images/repair-icons/battery.png",alt:""})}),(0,h.jsx)("span",{className:"name",children:e.title})]}),(0,h.jsx)("div",{className:"right",children:(0,h.jsxs)("span",{className:"price",children:[i," ","ch"===n?"CHF":"EUR"]})})]})},s)}chooseRepairOption(e){let s=[...this.props.selectedRepairOptions];s.some((s=>s.shortcode===e.shortcode))?s=s.filter((s=>s.shortcode!==e.shortcode)):s.push(e),this.props.basketActions.changeBasketDataRepair(s)}calculatePriceAndTime(e){let s=0,a=0,t=0,i=0;e.forEach((e=>{+e.priceMax>=s&&(s=+e.priceMax),+e.timeMax>=a&&(a=+e.timeMax)})),this.state.repairList.forEach((n=>{e.some((e=>n.shortcode===e.shortcode))&&(+n.priceMax==s?(t+=+n.priceMax,s=null):t+=+n.minPrice,+n.timeMax==a?(i+=+n.timeMax,a=null):i+=+n.timeMin)})),i/=3600,this.setState({totalPrice:t,totalTime:i})}rotatePhone(){this.setState({isPhonePositionFront:!this.state.isPhonePositionFront})}render(){let{model:e,repairList:s,isPhonePositionFront:a,totalPrice:t,totalTime:i}=this.state,{selectedRepairOptions:n,basketActions:r}=this.props;return(0,h.jsxs)("section",{className:"select-device repair-list-part",children:[(0,h.jsx)("p",{className:"title",children:"Reparatur ausw\xe4hlen und Preis berechnen"}),n.length>0&&(0,h.jsx)(I,{selectedRepairOptions:n,basketActions:r,model:e,totalTime:i,totalPrice:t}),(0,h.jsx)("div",{className:"container",children:(0,h.jsx)("div",{className:"wrap-repair-list",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"col-md-4 text-center",children:[(0,h.jsx)("p",{className:"title",style:{maxWidth:"270px"},children:e.title}),(0,h.jsxs)("div",{className:a?"phone-model":"phone-model flipped",children:[(0,h.jsxs)("div",{className:"model front",children:[s.map(this.mapOptionsOnPhone.bind(this,"front")),(0,h.jsx)("img",{src:e.frontImage||"https://www.ireparatur.ch/images/model-outline/iphone7-front.png",alt:""})]}),(0,h.jsxs)("div",{className:"model back",children:[s.map(this.mapOptionsOnPhone.bind(this,"back")),(0,h.jsx)("img",{src:e.backImage||"https://www.ireparatur.ch/images/model-outline/iphone7-back.png",alt:""})]})]}),(0,h.jsx)("div",{style:{maxWidth:"270px"},className:"buttons",children:(0,h.jsx)("div",{className:"btn-rotate",onClick:this.rotatePhone,children:"Ger\xe4t umdrehen"})})]}),(0,h.jsx)("div",{className:"col-md-8",children:(0,h.jsxs)("div",{className:"repair-options",children:[n.length>0&&(0,h.jsxs)("p",{className:"result",children:["Sehr gut, diese Reparatur / Dienstleistung k\xf6nnen wir durchf\xfchren und ist (vor Ort) in ca.",(0,h.jsxs)("span",{children:[" ",Math.round(100*+i)/100]})," Stunden f\xfcr",(0,h.jsxs)("span",{children:[" ",Math.round(100*+t)/100]})," ",window.currencyValue," erledigt"]}),(0,h.jsx)("p",{className:"title",children:"W\xe4hlen Sie aus der Reparatur-Liste (unten) den Fehler auf Ihrem Ger\xe4t, oder direkt auf dem Ger\xe4t (links)."}),this.wrapRepairOptionsInRow()]})})]})})}),(0,h.jsx)("div",{className:"bottom-info",children:(0,h.jsx)("div",{className:"container",children:(0,h.jsx)("div",{className:"row",children:(0,h.jsx)("div",{className:"col-xs-12",children:(0,h.jsx)("p",{children:"The technical specifications of the iPhone 7 Plus are based on the basic version iPhone 7, but differ in some points. Thus, the screen diagonal of 5.5 inches is slightly larger and the resolution of 1920 x 1080 pixels corresponds to the full HD standard. The device has 3 gigabytes of RAM and also has a higher battery capacity of about 2.900 mAh, which allows up to 384 hours in standby mode. The experts at iReparatur.ch in Basel know the technical features of the iPhone 7 Plus from Apple and offer a wide range of repairs. From the typical iPhone 7 plus glass defect through the silent switch and the battery to the back or front camera, the specialists are familiar with the typical weak points of the device and gladly repair your iPhone 7 Plus. In our branch in the heart of Basel, you can easily preview your iPhone 7 Plus without any appointment agreement."})})})})})]})}}const F=(0,n.$j)((function(e){return{selectedRepairOptions:e.basket.basketDataRepair.selectedOptions,shippingMethod:e.basket.basketDataRepair.shippingMethod}}),(function(e){return{basketActions:(0,o.DE)(l,e)}}),null,{pure:!1})(M)},2306:(e,s,a)=>{var t=a(5510),i=/^\s+/;e.exports=function(e){return e?e.slice(0,t(e)+1).replace(i,""):e}},5510:e=>{var s=/\s/;e.exports=function(e){for(var a=e.length;a--&&s.test(e.charAt(a)););return a}},12279:(e,s,a)=>{var t=a(91845),i=a(46170),n=a(57923),r=Math.max,o=Math.min;e.exports=function(e,s,a){var l,c,d,h,p,m,u=0,x=!1,g=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(s){var a=l,t=c;return l=c=void 0,u=s,h=e.apply(t,a)}function j(e){var a=e-m;return void 0===m||a>=s||a<0||g&&e-u>=d}function v(){var e=i();if(j(e))return b(e);p=setTimeout(v,function(e){var a=s-(e-m);return g?o(a,d-(e-u)):a}(e))}function b(e){return p=void 0,f&&l?y(e):(l=c=void 0,h)}function N(){var e=i(),a=j(e);if(l=arguments,c=this,m=e,a){if(void 0===p)return function(e){return u=e,p=setTimeout(v,s),x?y(e):h}(m);if(g)return clearTimeout(p),p=setTimeout(v,s),y(m)}return void 0===p&&(p=setTimeout(v,s)),h}return s=n(s)||0,t(a)&&(x=!!a.leading,d=(g="maxWait"in a)?r(n(a.maxWait)||0,s):d,f="trailing"in a?!!a.trailing:f),N.cancel=function(){void 0!==p&&clearTimeout(p),u=0,l=m=c=p=void 0},N.flush=function(){return void 0===p?h:b(i())},N}},91845:e=>{e.exports=function(e){var s=typeof e;return null!=e&&("object"==s||"function"==s)}},72060:(e,s,a)=>{var t=a(18665),i=a(89752);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==t(e)}},46170:(e,s,a)=>{var t=a(7289);e.exports=function(){return t.Date.now()}},57923:(e,s,a)=>{var t=a(2306),i=a(91845),n=a(72060),r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(n(e))return NaN;if(i(e)){var s="function"==typeof e.valueOf?e.valueOf():e;e=i(s)?s+"":s}if("string"!=typeof e)return 0===e?e:+e;e=t(e);var a=o.test(e);return a||l.test(e)?c(e.slice(2),a?2:8):r.test(e)?NaN:+e}},89850:function(e,s,a){var t;e.exports=(t=a(47313),function(e){function s(t){if(a[t])return a[t].exports;var i=a[t]={exports:{},id:t,loaded:!1};return e[t].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}var a={};return s.m=e,s.c=a,s.p="",s(0)}([function(e,s,a){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function i(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function n(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?e:s}function r(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}Object.defineProperty(s,"__esModule",{value:!0});var o=function(){function e(e,s){for(var a=0;a<s.length;a++){var t=s[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(s,a,t){return a&&e(s.prototype,a),t&&e(s,t),s}}(),l=a(6),c=t(l),d=t(a(4)),h={className:d.default.string,onloadCallbackName:d.default.string,elementID:d.default.string,onloadCallback:d.default.func,verifyCallback:d.default.func,expiredCallback:d.default.func,render:d.default.oneOf(["onload","explicit"]),sitekey:d.default.string,theme:d.default.oneOf(["light","dark"]),type:d.default.string,verifyCallbackName:d.default.string,expiredCallbackName:d.default.string,size:d.default.oneOf(["invisible","compact","normal"]),tabindex:d.default.string,hl:d.default.string,badge:d.default.oneOf(["bottomright","bottomleft","inline"])},p={elementID:"g-recaptcha",className:"g-recaptcha",onloadCallback:void 0,onloadCallbackName:"onloadCallback",verifyCallback:void 0,verifyCallbackName:"verifyCallback",expiredCallback:void 0,expiredCallbackName:"expiredCallback",render:"onload",theme:"light",type:"image",size:"normal",tabindex:"0",hl:"en",badge:"bottomright"},m=function(){return"undefined"!=typeof window&&"undefined"!=typeof window.grecaptcha&&"function"==typeof window.grecaptcha.render},u=void 0,x=function(e){function s(e){i(this,s);var a=n(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return a._renderGrecaptcha=a._renderGrecaptcha.bind(a),a.reset=a.reset.bind(a),a.state={ready:m(),widget:null},a.state.ready||"undefined"==typeof window||(u=setInterval(a._updateReadyState.bind(a),1e3)),a}return r(s,e),o(s,[{key:"componentDidMount",value:function(){this.state.ready&&this._renderGrecaptcha()}},{key:"componentDidUpdate",value:function(e,s){var a=this.props,t=a.render,i=a.onloadCallback;"explicit"===t&&i&&this.state.ready&&!s.ready&&this._renderGrecaptcha()}},{key:"componentWillUnmount",value:function(){clearInterval(u)}},{key:"reset",value:function(){var e=this.state,s=e.ready,a=e.widget;s&&null!==a&&grecaptcha.reset(a)}},{key:"execute",value:function(){var e=this.state,s=e.ready,a=e.widget;s&&null!==a&&grecaptcha.execute(a)}},{key:"_updateReadyState",value:function(){m()&&(this.setState({ready:!0}),clearInterval(u))}},{key:"_renderGrecaptcha",value:function(){this.state.widget=grecaptcha.render(this.props.elementID,{sitekey:this.props.sitekey,callback:this.props.verifyCallback?this.props.verifyCallback:void 0,theme:this.props.theme,type:this.props.type,size:this.props.size,tabindex:this.props.tabindex,hl:this.props.hl,badge:this.props.badge,"expired-callback":this.props.expiredCallback?this.props.expiredCallback:void 0}),this.props.onloadCallback&&this.props.onloadCallback()}},{key:"render",value:function(){return"explicit"===this.props.render&&this.props.onloadCallback?c.default.createElement("div",{id:this.props.elementID,"data-onloadcallbackname":this.props.onloadCallbackName,"data-verifycallbackname":this.props.verifyCallbackName}):c.default.createElement("div",{id:this.props.elementID,className:this.props.className,"data-sitekey":this.props.sitekey,"data-theme":this.props.theme,"data-type":this.props.type,"data-size":this.props.size,"data-badge":this.props.badge,"data-tabindex":this.props.tabindex})}}]),s}(l.Component);s.default=x,x.propTypes=h,x.defaultProps=p,e.exports=s.default},function(e,s){"use strict";function a(e){return function(){return e}}var t=function(){};t.thatReturns=a,t.thatReturnsFalse=a(!1),t.thatReturnsTrue=a(!0),t.thatReturnsNull=a(null),t.thatReturnsThis=function(){return this},t.thatReturnsArgument=function(e){return e},e.exports=t},function(e,s,a){"use strict";function t(e,s,a,t,n,r,o,l){if(i(s),!e){var c;if(void 0===s)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[a,t,n,r,o,l],h=0;(c=new Error(s.replace(/%s/g,(function(){return d[h++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}var i=function(e){};e.exports=t},function(e,s,a){"use strict";var t=a(1),i=a(2),n=a(5);e.exports=function(){function e(e,s,a,t,r,o){o!==n&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function s(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:s,element:e,instanceOf:s,node:e,objectOf:s,oneOf:s,oneOfType:s,shape:s};return a.checkPropTypes=t,a.PropTypes=a,a}},function(e,s,a){e.exports=a(3)()},function(e,s){"use strict";var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=a},function(e,s){e.exports=t}]))}}]);