"use strict";(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[8547],{81698:(e,t,s)=>{s.d(t,{t:()=>a});let a={getCookie(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0},setCookie(e,t,s){let a=(s=s||{}).expires;if("number"==typeof a&&a){let e=new Date;e.setTime(e.getTime()+1e3*a),a=s.expires=e}a&&a.toUTCString&&(s.expires=a.toUTCString());let i=e+"="+(t=encodeURIComponent(t));for(let o in s){i+="; "+o;let e=s[o];!0!==e&&(i+="="+e)}document.cookie=i},deleteCookie(e){this.setCookie(e,"",{expires:-1})}}},22667:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(47313),i=s(46417);class o extends a.Component{constructor(e){super(e),this.state={}}componentDidMount(){const e=document.querySelector(".addToBasketEffect"),{startPosition:t}=this.props,s=this.getEndPosition();e.style.top=t.top+"px",e.style.left=t.left+"px",setTimeout((()=>{e.style.transition="all 2s",e.style.top=s.top-20+"px",e.style.left=s.left-19+"px",e.style.transform="scale(.3)"}),0)}getEndPosition(){if("kaufen"!==this.props.basketType)return $(".cart-total-verkaufen").offset();let e=$(".cart-total-kaufen").offset();if(0==e.top&&0==e.left){e=$($(".cart-total-kaufen")[1]).offset()}return e}render(){return(0,i.jsx)("div",{className:"addToBasketEffect",children:(0,i.jsx)("img",{loading:"lazy",src:this.props.image,alt:""})})}}o.defaultProps={};const r=o},87426:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(47313),i=s(72231),o=s(81698),r=s(69947),c=s(46417);class l extends a.Component{constructor(e){super(e),this.state={basketDataForSimilarItems:[],similarItems:[],errorPay:""},this.clickTryAgain=this.clickTryAgain.bind(this)}componentDidMount(){let e=window.localStorage.getItem("basketShortcode");e&&axios.get("/api/basket/failed?basketShortcode=".concat(e)).then((e=>{window.localStorage.removeItem("basketShortcode")})).catch((e=>{}));let t=JSON.parse(window.localStorage.getItem("basketData"));this.setState({basketDataForSimilarItems:t}),axios.post("/api/similarItems",{basketData:t}).then((e=>{this.setState({similarItems:e.data})})).catch((()=>!1));let s=o.t.getCookie("errorMessage");o.t.deleteCookie("errorMessage"),s&&this.setState({errorPay:s.replace(/[+]/g," ")})}clickTryAgain(){window.localStorage.setItem("paymentFailedTryAgain",!0)}render(){return(0,c.jsxs)("div",{className:"paymentPage",children:[(0,c.jsx)("div",{className:"container",children:(0,c.jsx)("div",{className:"col-sm-8 col-sm-push-2",children:(0,c.jsxs)("div",{className:"wrapWindow text-center",children:[(0,c.jsx)("div",{className:"circle false"}),(0,c.jsx)("p",{className:"bigText",children:this.props.errorText}),(0,c.jsx)("p",{className:"smallText",children:this.state.errorPay}),(0,c.jsxs)(i.rU,{to:"/warenkorb",onClick:this.clickTryAgain,className:"btn false",children:["erneut versuchen",(0,c.jsx)("span",{children:(0,c.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]})})}),!window.isMobile&&(0,c.jsx)("div",{className:"similar",children:(0,c.jsxs)("div",{className:"container",children:[(0,c.jsx)(r.Z,{similarItems:this.state.similarItems}),(0,c.jsx)("div",{className:"cb"})]})})]})}}l.defaultProps={errorText:"Fehlerhafte Zahlung"};const n=l},69947:(e,t,s)=>{s.d(t,{Z:()=>p});var a=s(47313),i=s(78081),o=s(72231),r=s(44021),c=s(72905),l=s(73815),n=s(22667),d=s(46417);class m extends a.Component{constructor(e){super(e),this.gtagEnhancedEcommerce=(e,t)=>{let s=e.criterias.find((e=>"manufacturer"===e.id)).values,a=s.length?s[0].name:"",i=[{id:e.shortcode,name:e.descriptionLong||e.model||"",list_name:"Kaufen",quantity:1,brand:a,price:e.discountPrice||e.price,category:e.categoryName}];if("select_content"==t){gtag("event",t,{content_type:"product",items:i});let s={category:e.categoryName};window.localStorage.setItem("gtag",JSON.stringify(s))}else gtag("event",t,{items:i})},this.clickOnLink=(e,t)=>{"BUTTON"===e.target.tagName?e.preventDefault():window.isGoogleConnection&&this.gtagEnhancedEcommerce(t,"select_content")},this.state={},this.mapSimilarItems=this.mapSimilarItems.bind(this),this.addModelToBasket=this.addModelToBasket.bind(this)}addModelToBasket(e,t){let s=e.target.getAttribute("data-status"),{basketData:a}=this.props,i=null,{accessoriesDetailPage:r}=this.props,c=r?3:7;i=a.every((e=>e.id!=t.id))?[...a,t]:a.filter((e=>e.shortcode!=t.shortcode&&e.productTypeId==c)),this.props.basketActions.changeBasketData(i),"out"===s&&(window.isGoogleConnection&&this.gtagEnhancedEcommerce(t,"add_to_cart"),window.isMobile?o.mW.push("/warenkorb"):(this.props.basketActions.basketAddEffect((0,d.jsx)(n.Z,{startPosition:$(e.target).offset(),image:t.colorImage,basketType:"kaufen"})),setTimeout((()=>{o.mW.push("/warenkorb"),this.props.basketActions.basketAddEffect(null)}),2e3)))}mapSimilarItems(e,t){let s="",{accessoriesDetailPage:a}=this.props;if(a){let t=e.model.split(" ").join("-").toLowerCase().replace(/\//g,"--"),a=e.deviceName.toLowerCase().replace(/ /g,"-");s="/kaufen/detail/zubehoer/".concat(a,"/").concat(t,"/").concat(e.shortcode)}else{let t=e.model.split(" ").join("-").toLowerCase(),a=e.color.toLowerCase()||"color",i=e.capacity.toLowerCase()||"capacity",o=e.deviceName.replace(/ /g,"-").toLowerCase();s="/kaufen/detail/".concat(o,"/").concat(t,"/").concat(i,"/").concat(a,"/").concat(e.shortcode)}return(0,d.jsx)("div",{className:"col-md-3 col-sm-6",children:(0,d.jsx)("div",{className:"itemModelWrap",children:(0,d.jsxs)(o.rU,{to:s,onClick:t=>this.clickOnLink(t,e),children:[(0,d.jsxs)("div",{style:{width:"100%"},children:[(0,d.jsx)("div",{className:"image",children:(0,d.jsx)("img",{loading:"lazy",src:e.colorImage||e.deviceImages.mainImg.src,alt:""})}),(0,d.jsxs)("p",{className:"modelName",children:[e.model,e.extendedTitle&&" (".concat(e.extendedTitle,")")]}),!a&&(0,d.jsx)("div",{children:(0,d.jsxs)("span",{className:"modelValues",children:[(0,d.jsxs)("span",{children:[e.capacity,e.capacityImage&&(0,d.jsx)("img",{loading:"lazy",src:e.capacityImage,alt:""})]}),(0,d.jsxs)("span",{children:[e.color,"\xa0",e.colorCode&&(0,d.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}})]})]})}),!a&&(0,d.jsxs)("p",{className:"condition",children:["Zustand: ",(0,d.jsx)("b",{children:e.condition})]})]}),(0,d.jsx)("div",{className:"bottomRow",children:(0,d.jsxs)("div",{className:"row",children:[(0,d.jsxs)("div",{className:"col-xs-6 price",children:[(0,d.jsx)("p",{className:"price-head",children:"Preis"}),e.discountPrice&&(0,d.jsxs)("p",{className:"price-value discount-price",children:[e.discountPrice," ",window.currencyValue]}),(0,d.jsxs)("p",{className:e.discountPrice?"price-value old-price":"price-value",children:[e.price," ",window.currencyValue]})]}),(0,d.jsx)("div",{className:"col-xs-6 text-right",children:(0,d.jsx)("button",{"data-status":this.props.basketData.some((t=>t.id===e.id))?"in":"out",className:"btn addToBasket",onClick:t=>this.addModelToBasket(t,e)})})]})})]},t)})},t)}render(){let{similarItems:e}=this.props;return(0,d.jsx)("div",{children:e.length>0&&(0,d.jsxs)("div",{className:"listSimilarItems",children:[(0,d.jsx)("h2",{className:"tag",children:"Weitere Produkte"}),(0,d.jsx)("h2",{className:"head",children:"Folgendes k\xf6nnte Sie auch interessieren"}),(0,d.jsx)("div",{className:"row wrapItems",children:window.isMobile?(0,d.jsx)(r.Z,{dots:!0,arrows:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,children:e.map(this.mapSimilarItems)}):e.map(this.mapSimilarItems)})]})})}}m.defaultProps={accessoriesDetailPage:!1};const p=(0,i.$j)((function(e){return{basketData:e.basket.basketData}}),(function(e){return{basketActions:(0,c.DE)(l,e)}}))(m)}}]);