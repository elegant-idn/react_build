/*! For license information please see 8967.1e25c769.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[8967],{68967:(e,t,a)=>{a.r(t),a.d(t,{Basket:()=>F,default:()=>O});var s=a(12279),r=a.n(s),i=a(47313),o=a(25741),n=a(80339),d=a(78081),c=a(72231),l=a(66626),p=a(72905),h=a(73815),m=a(76233),u=a(42513),g=a(91066),x=a(69947),y=a(46417);const b=e=>{let{data:t,choosePersonalData:a,formType:s}=e,r="billingAddress"===s?"customer_":"";return(0,y.jsx)("div",{className:"autoloadPersonalData",children:t.map(((e,t)=>(0,y.jsxs)("div",{className:"itemAutoloadPersonalData",children:[(0,y.jsx)("button",{"data-position":t,onClick:a,children:"Add"}),(0,y.jsxs)("p",{children:[e[s]["".concat(r,"gender")]," ",e[s]["".concat(r,"lastname")]," ",e[s]["".concat(r,"firstname")]]}),(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{children:["Firma: ",e[s]["".concat(r,"companyName")]]}),(0,y.jsxs)("li",{children:["Tel. Ger\xe4t: ",e[s]["".concat(r,"phone")]]}),(0,y.jsxs)("li",{children:["E-Mail: ",e[s]["".concat(r,"email")]]}),(0,y.jsxs)("li",{children:["Adresse: ",e[s]["".concat(r,"number")],","," ",e[s].street," "]}),(0,y.jsxs)("li",{children:["PLZ + Ort: ",e[s]["".concat(r,"inputCountry")],"-",e[s]["".concat(r,"zip")]," ",e[s]["".concat(r,"city")]]})]})]},t)))})};b.defaultProps={};const j=b;var N=a(67449),v=a(77115),k=a.n(v);const f=e=>{let{children:t,onClose:a}=e,s=new(k())(window.navigator.userAgent);return(0,y.jsxs)("div",{className:"customModal",children:[(0,y.jsxs)("div",{className:"customModal-header",children:[(0,y.jsx)("div",{className:"col-xs-12 titleDiv",children:(0,y.jsx)("p",{className:"header-title",children:"Bestell\xfcbersicht"})}),(0,y.jsx)("div",{className:"closeDiv",onClick:a,children:(0,y.jsx)("img",{loading:"lazy",src:"/images/design/closeBtn.svg"})})]}),(0,y.jsx)("div",{className:"iPhone"===s.mobile()&&"Safari"===s.userAgent()?"customModal-body safari-body":"customModal-body",children:t})]})};f.defaultProps={};const w=f,C=e=>{let{basketData:t,removeFromBasket:a,triggerChangeCoupon:s,couponError:r,updateBasketData:o,insuranceChAmountChange:n,insuranceChAmount:d}=e;const[l,p]=(0,i.useState)("kaufen"),[h,m]=(0,i.useState)(8),[g,x]=(0,i.useState)(3),[b,j]=(0,i.useState)(!!window.isMobile),[N,v]=(0,i.useState)("00.00"),[k,f]=(0,i.useState)(!1);let C=0,S=[],I="";t.forEach((e=>{if(S.some((t=>t.shortcode===e.shortcode)))return!1;{let a=t.reduce(((t,a)=>t+(a.shortcode===e.shortcode?1:0)),0);e.count=a,S=[...S,e]}})),S.forEach((e=>{let t=e.count;if(11==e.productTypeId)C+=parseFloat(e.price)*t;else if(100==e.productTypeId)C-=parseFloat(e.price)*t;else if(999==e.productTypeId)C-=parseFloat(e.price)*t;else{if(501==e.productTypeId)return null;if(500==e.productTypeId)return null;if(u.W.includes(e.productTypeId))C+=t*(e.discountPrice?parseFloat(e.discountPrice):parseFloat(e.price)),""!=I&&(I+=", "),I+=e.model;else if(7==e.productTypeId){C+=t*(e.discountPrice?parseFloat(e.discountPrice):parseFloat(e.price)),""!=I&&(I+=", ");let a="";a+=e.model,a+=""!==e.capacity?" - "+e.capacity:"",a+=""!==e.color?" - "+e.color:"",I+=a}}})),(0,i.useEffect)((()=>{v((C/3).toFixed(2))}),[3,C]);const D=e=>{x(e),v((C/e).toFixed(2)),m(3===e?8:6===e?41:74)};function _(e,s){if(11==e.productTypeId)return(0,y.jsx)("div",{className:"basket-item",children:(0,y.jsx)("div",{className:"item-top-with-img",children:(0,y.jsxs)("div",{className:"basket-item-top",children:[(0,y.jsxs)("p",{className:"modelName",children:[e.name," ","PICKAS"===e.shortcode?t[0].placeDescription:""]}),(0,y.jsx)("div",{className:"devicePrice",children:(0,y.jsxs)("p",{className:"price",children:[Math.round(100*+e.price)/100," ",window.currencyValue]})}),(0,y.jsx)("span",{onClick:()=>a(e.productTypeId),className:"removeFromBasket"})]})})},"mapBasketData-".concat(s));if(100==e.productTypeId)return e.id=s,(0,y.jsx)("div",{className:"basket-item",children:(0,y.jsx)("div",{className:"item-top-with-img",children:(0,y.jsxs)("div",{className:"basket-item-top",children:[(0,y.jsx)("p",{className:"modelName",children:"Credits"}),(0,y.jsx)("div",{className:"devicePrice",children:(0,y.jsxs)("p",{className:"price",children:["-",Math.round(100*+e.price)/100," ",window.currencyValue]})}),(0,y.jsx)("span",{onClick:()=>a(e.productTypeId,s),className:"removeFromBasket"})]})})},"mapBasketData-".concat(s));if(999==e.productTypeId)return(0,y.jsx)("div",{id:"coupon",className:"basket-item",children:(0,y.jsx)("div",{className:"item-top-with-img",children:(0,y.jsxs)("div",{className:"basket-item-top",children:[(0,y.jsxs)("p",{className:"modelName",children:[e.note," (",e.shortcode,")"]}),(0,y.jsx)("div",{className:"devicePrice",children:(0,y.jsxs)("p",{className:"price",children:["-",Math.round(100*+e.price)/100," ",window.currencyValue]})}),(0,y.jsx)("span",{onClick:()=>a(e.productTypeId,e.shortcode),className:"removeFromBasket"})]})})},"mapBasketData-".concat(s));if(501==e.productTypeId)return null;if(500==e.productTypeId)return null;if(u.W.includes(e.productTypeId)){let t=e.model?e.model.split(" ").join("-").toLowerCase().replace(/\//g,"--"):"model",s=e.deviceName?e.deviceName.toLowerCase().replace(/ /g,"-"):"device",r=(e.color&&e.color.toLowerCase(),"/kaufen/detail/zubehoer/".concat(s,"/").concat(t,"/").concat(e.shortcode));return(0,y.jsxs)("div",{className:"basket-item",children:[(0,y.jsxs)("div",{className:"item-top-with-img",children:[window.isMobile&&(0,y.jsx)("img",{loading:"lazy",src:e.deviceImages.mainImg.src,alt:""}),(0,y.jsxs)("div",{className:"basket-item-top",children:[(0,y.jsxs)("p",{className:"modelName",children:[(0,y.jsx)(c.rU,{to:r,children:e.model},"mapBasketData-link-".concat(e.id)),(0,y.jsxs)("span",{className:"id",children:["ID: ",e.shortcode]})]}),(0,y.jsxs)("div",{className:"accessoryCountPrice",children:[(0,y.jsx)("input",{type:"number",defaultValue:e.count,min:"1",className:"basketItemCount",onBlur:t=>o(t.target.value,e.shortcode)}),e.discountPrice&&(0,y.jsxs)("p",{className:"price discount-price",children:[e.discountPrice," ",window.currencyValue]}),(0,y.jsxs)("p",{className:e.discountPrice?"price old-price":"price",children:[Math.round(100*+e.price)/100," ",window.currencyValue]})]}),"3"==e.productTypeId||"10"==e.productTypeId?(0,y.jsx)("span",{onClick:()=>a(e.productTypeId,e.shortcode),className:"removeFromBasket"}):(0,y.jsx)("span",{onClick:()=>a(null,e.shortcode),className:"removeFromBasket"})]})]}),(0,y.jsxs)("div",{className:"wrapCriterias",children:[!window.isMobile&&(0,y.jsx)("img",{loading:"lazy",src:e.deviceImages.mainImg.src,alt:""}),(0,y.jsxs)("ul",{children:[e.criterias&&e.criterias.map(P),(0,y.jsx)("li",{})]})]})]},"mapBasketData-".concat(e.id))}if(7==e.productTypeId){let t=e.model.replace(/ /g,"-").toLowerCase(),r=e.color?e.color.toLowerCase():"color",i=e.capacity?e.capacity.toLowerCase():"capacity",o=e.deviceName.replace(/ /g,"-").toLowerCase();return(0,y.jsxs)("div",{className:"basket-item",children:[(0,y.jsxs)("div",{className:"item-top-with-img",children:[window.isMobile&&(0,y.jsx)("img",{loading:"lazy",src:e.colorImage||e.deviceImages.mainImg.src,alt:""}),(0,y.jsxs)("div",{className:"basket-item-top",children:[(0,y.jsxs)("p",{className:"modelName",children:[(0,y.jsxs)(c.rU,{to:"/kaufen/detail/".concat(o,"/").concat(t,"/").concat(i,"/").concat(r,"/").concat(e.shortcode),children:[e.model,e.extendedTitle&&" (".concat(e.extendedTitle,")")]},"mapBasketData-link-".concat(s)),(0,y.jsxs)("span",{className:"id",children:["ID: ",e.shortcode]})]}),(0,y.jsxs)("div",{className:"devicePrice",children:[e.discountPrice&&(0,y.jsxs)("p",{className:"price discount-price",children:[Math.round(100*+e.discountPrice)/100," ",window.currencyValue]}),(0,y.jsxs)("p",{className:e.discountPrice?"price old-price":"price",children:[Math.round(100*+e.price)/100," ",window.currencyValue]})]}),(0,y.jsx)("span",{onClick:()=>a(null,e.shortcode),className:"removeFromBasket"})]})]}),(0,y.jsxs)("div",{className:"wrapCriterias",children:[!window.isMobile&&(0,y.jsx)("img",{loading:"lazy",src:e.colorImage||e.deviceImages.mainImg.src,alt:""}),(0,y.jsxs)("ul",{children:[(0,y.jsxs)("li",{children:[(0,y.jsx)("b",{children:"Farbe:"})," ",(0,y.jsxs)("span",{children:[(0,y.jsx)("span",{className:e.colorCode&&"#ffffff"===e.colorCode.toLowerCase()?"colorPic whiteColor":"colorPic",style:{backgroundColor:e.colorCode}})," ",e.color]})]}),(0,y.jsxs)("li",{children:[(0,y.jsx)("b",{children:"Allgemeiner Zustand:"})," ",e.condition]}),e.criterias.length&&e.criterias.map(P)]})]})]},"mapBasketData-".concat(s))}return null}function P(e,t){const a=e.values.length-1;return 16===e.id?null:(0,y.jsxs)("li",{children:[(0,y.jsxs)("b",{children:[e.name,": "]}),e.values.map(((t,s)=>(0,y.jsxs)("span",{children:["color"===e.id&&(0,y.jsx)("span",{className:t.colorCode&&"#ffffff"===t.colorCode.toLowerCase()?"colorPic whiteColor":"colorPic",style:{backgroundColor:t.colorCode}}),t.name,s!==a?", ":""]},"mapCriterias-value-".concat(s))))]},"mapCriterias-".concat(t))}const T=()=>{j(!b)},A=()=>(0,y.jsxs)("div",{className:"insurance-box-ch",children:[!1,(0,y.jsx)("div",{className:"priceInfo",children:(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"per-month-tab",children:[(0,y.jsxs)("div",{className:"slide-toggle",style:{left:"".concat(h,"%")},children:[g," ",(0,y.jsx)("span",{children:"Monate"})]}),parseFloat(3)>=1&&(0,y.jsx)("div",{className:"month-panel",onClick:()=>D(3),children:(0,y.jsx)("div",{className:"month-desc",children:"3"})}),parseFloat(3)>=2&&(0,y.jsx)("div",{className:"month-panel",onClick:()=>D(6),children:(0,y.jsx)("div",{className:"month-desc",children:"6"})}),parseFloat(3)>=3&&(0,y.jsx)("div",{className:"month-panel",onClick:()=>D(12),children:(0,y.jsx)("div",{className:"month-desc",children:"12"})})]}),(0,y.jsxs)("div",{className:"cost",children:[(0,y.jsxs)("h4",{children:[N," CHF"]}),(0,y.jsxs)("span",{children:["x ",g," Monate"]}),(0,y.jsxs)("p",{children:["Sie k\xf6nnen diesen Betrag ganz einfach per Einzahlungschein oder Kreditkarte bezahlen. ",(0,y.jsx)("strong",{children:"Jetzt mit 0%-Zinszahlung!"})]})]}),(0,y.jsxs)("div",{className:"or-panel",children:[(0,y.jsx)("div",{className:"vector-3"}),(0,y.jsx)("span",{className:"or",children:"oder"}),(0,y.jsx)("div",{className:"vector-4"})]}),(0,y.jsxs)("div",{className:"flex-between",children:[(0,y.jsxs)("div",{className:"one-time-price",children:[(0,y.jsx)("h3",{className:"title",children:"Sofort-Kaufen Preis"}),(0,y.jsx)("h3",{className:"description",children:"ohne Ratenzahlung"})]}),(0,y.jsx)("div",{children:(0,y.jsx)("div",{className:"price-wrap",children:(0,y.jsxs)("p",{className:"price","data-price-amount":C,children:[Math.round(100*+C)/100," ",window.currencyValue]})})})]})]})}),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"wrap",children:[(0,y.jsx)("span",{className:"garantie",children:"Garantie und Schtutz"}),(0,y.jsxs)("div",{className:"logos",children:[(0,y.jsx)("span",{children:"Ein Angebot von"}),(0,y.jsx)("img",{loading:"lazy",src:"/images/logo/remarket-care.jpg",alt:""})]}),(0,y.jsxs)("div",{className:"checkboxs",children:[(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"checkbox",onChange:e=>n(e),"data-insuranceamount":60,checked:60===d,disabled:!!k}),(0,y.jsx)("span",{className:"check"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"desc1",children:"Einzelversicherung"}),(0,y.jsx)("p",{className:"desc2",children:"60.- pro Kalenderjahr"})]}),(0,y.jsx)("div",{className:"question-sign",children:(0,y.jsxs)("div",{children:[(0,y.jsx)("img",{loading:"lazy",src:"/images/design/bi_question-circle.svg",alt:""}),(0,y.jsx)("div",{className:"info-icon-text",children:"Bei der Einzelversicherung ist nur Ihr eigenes Ger\xe4t versichert"})]})})]}),(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"checkbox",onChange:e=>n(e),"data-insuranceamount":120,checked:120===d,disabled:!!k}),(0,y.jsx)("span",{className:"check"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"desc1",children:"Familienversicherung"}),(0,y.jsx)("p",{className:"desc2",children:"120.- pro Kalenderjahr"})]}),(0,y.jsx)("div",{className:"question-sign",children:(0,y.jsxs)("div",{children:[(0,y.jsx)("img",{loading:"lazy",src:"/images/design/bi_question-circle.svg",alt:""}),(0,y.jsx)("div",{className:"info-icon-text",children:"Hier sind alle Ger\xe4te von allen Personen im gleichen Haushalt versichert"})]})})]})]})]})})]}),M=()=>(0,y.jsxs)("div",{className:"couponNote",children:[(0,y.jsxs)("div",{className:"couponField",children:[(0,y.jsxs)("div",{className:"couponNoteLabel",children:[(0,y.jsx)("img",{loading:"lazy",src:"/images/design/gift.svg"}),(0,y.jsx)("label",{children:"Gutschein-Code eingeben"})]}),(0,y.jsxs)("div",{className:"couponNoteInput",children:[(0,y.jsx)("input",{type:"text",className:r?"errorInput":"",name:"coupon",id:"input_coupon",placeholder:"Code eingeben"}),(0,y.jsx)("button",{type:"button",className:"couponButton btn",onClick:s,children:"einl\xf6sen"})]}),r&&(0,y.jsx)("span",{className:"errorText",children:r})]}),(0,y.jsxs)("div",{className:"commentField",children:[(0,y.jsxs)("div",{className:"couponNoteLabel",children:[(0,y.jsx)("img",{loading:"lazy",src:"/images/design/medical.svg"}),(0,y.jsx)("label",{children:"Notizen"})]}),(0,y.jsx)("textarea",{name:"comment",rows:"2",placeholder:"Notiz eingeben",style:{marginTop:"13px"}})]})]});return(0,y.jsx)("div",{className:"col-md-5 mobile-product-wrap",children:(0,y.jsxs)("div",{className:"productWrap",children:[!window.isMobile&&(0,y.jsxs)("h3",{className:"title",onClick:T,children:["Bestell\xfcbersicht  ",b?(0,y.jsx)("i",{className:"fa fa-angle-right","aria-hidden":"true"}):(0,y.jsx)("i",{className:"fa fa-angle-down","aria-hidden":"true"})]}),window.isMobile&&(0,y.jsxs)("div",{className:"title forMobile",onClick:T,children:[(0,y.jsxs)("div",{className:"titleArea",children:[(0,y.jsx)("p",{className:"overview",children:"Bestell\xfcbersicht"}),(0,y.jsx)("p",{className:"description",children:I})]}),b?(0,y.jsxs)("div",{className:"priceArea",children:[(0,y.jsx)("span",{children:"".concat(C," CHF ")}),(0,y.jsx)("i",{className:"fa fa-angle-right","aria-hidden":"true"})]}):(0,y.jsxs)("div",{className:"priceArea",children:[(0,y.jsx)("span",{children:"".concat(C," CHF ")}),(0,y.jsx)("i",{className:"fa fa-angle-down","aria-hidden":"true"})]})]}),!window.isMobile&&(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"basket-table ".concat(b?"mobileAccordionIsClose":""),children:[S.map(_),A()]}),M()]}),window.isMobile&&!b&&(0,y.jsx)(w,{onClose:T,children:(0,y.jsxs)("div",{className:"basket-table ".concat(b?"mobileAccordionIsClose":""),children:[S.map(_),A(),M()]})})]})})};C.defaultProps={};const S=C;a(72632);var I=a(61378),D=a(50718);(0,I.registerLocale)("de",D.Z);const _=e=>{let{choiceShipping:t,chooseShippingMethod:a,shippingMethod:s,shippingMethods:r,total:i,handlerSendForm:o,handlerShowHideBlocks:n,placeDescription:d,changeCheckbox:c,inputCheckbox:l,error:p,errorNoProducts:h}=e;const m=e=>{if(!0===l.agree){e.preventDefault();let t=$(".order");t.hasClass("animate")||(t.addClass("animate"),o(e))}};return(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"shippingMethod",children:[(0,y.jsxs)("h3",{className:"title",onClick:e=>n(e),"data-step":"shippingMethod",children:[(0,y.jsx)("span",{className:"num",children:"3"}),(0,y.jsx)("span",{className:"text",children:"Versand"}),(0,y.jsx)("span",{className:"arrow",children:(0,y.jsx)("i",{className:"fa fa-angle-down","aria-hidden":"true"})})]}),(0,y.jsxs)("div",{className:"wrapperItemBasket",children:[(0,y.jsx)("div",{className:"",children:(0,y.jsxs)("ul",{children:[r.map(((e,t)=>(0,y.jsxs)("li",{onClick:a,className:s.selected&&s.value.name===e.name?"active":"",children:[(0,y.jsx)("input",{type:"radio","data-id":e.id,"data-value":e.name,name:"shipping_method",className:"radio-check",id:"radio-shippingMethod-".concat(e.id),value:"".concat(e.name," ").concat("PICKAS"===e.shortcode?d:""," (").concat(e.price," ").concat(window.currencyValue,")"),required:!0,readOnly:!0,checked:s.selected&&s.value.name===e.name}),(0,y.jsxs)("label",{htmlFor:"radio-shippingMethod-".concat(e.id),children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"shipping-title",children:[e.name," ","PICKAS"===e.shortcode?d:"",(0,y.jsx)("div",{className:"shipping-note",children:"shipping-description"}),(0,y.jsxs)("div",{className:"shipping-price",children:[e.price," ",window.currencyValue]})]}),(0,y.jsx)("span",{className:"shipping-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/shipping-type/".concat(e.shortcode,".png"),alt:""})})]})]},"shippingMethod-".concat(t)))),t&&(0,y.jsx)("li",{children:(0,y.jsx)("span",{className:"choiceShipping",children:"Es muss eine Versandmethode angegeben werden"})})]})}),(0,y.jsx)("span",{className:"agree",children:(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"checkbox",name:"agree",required:!0,onChange:c}),(0,y.jsx)("span",{className:!l.agree&&s.selected?"checkbox button-pulse":"checkbox"}),(0,y.jsxs)("span",{className:"description",children:["Ich habe die"," ",(0,y.jsx)("a",{href:"/ueber-uns/agb",target:"_blank",children:"AGB"})," ","und die"," ",(0,y.jsx)("a",{href:"/ueber-uns/datenschutzerklaerung",target:"_blank",children:"Datenschutzerkl\xe4rung"})," ","gelesen und akzeptiere diese"]})]})}),(0,y.jsxs)("div",{className:"basketMobileBottom",children:[h&&(0,y.jsxs)("div",{className:"basketError",children:[(0,y.jsx)("img",{loading:"lazy",src:"/images/design/warning.svg",alt:""}),(0,y.jsx)("span",{children:h})]}),p&&""!==p.general&&(0,y.jsxs)("div",{className:"basketError",children:[(0,y.jsx)("img",{loading:"lazy",src:"/images/design/warning.svg",alt:""}),(0,y.jsx)("span",{children:p.general})]}),!window.isMobile&&(0,y.jsx)("div",{className:l.agree?"text-left button-row button-pulse":"text-left button-row",style:{display:"inline-block",borderRadius:"3px"},children:(0,y.jsxs)("button",{className:"order",onClick:e=>m(e),children:[(0,y.jsxs)("span",{className:"default",children:["Bestellung senden",(0,y.jsx)("div",{className:"arrow-image",children:(0,y.jsx)("img",{loading:"lazy",src:"images/arrow.svg",alt:""})})]}),(0,y.jsxs)("span",{className:"success",children:["Bestellung aufgegeben",(0,y.jsx)("svg",{viewBox:"0 0 12 10",children:(0,y.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})})]}),(0,y.jsx)("div",{className:"box"}),(0,y.jsxs)("div",{className:"truck",children:[(0,y.jsx)("div",{className:"back"}),(0,y.jsx)("div",{className:"front",children:(0,y.jsx)("div",{className:"window"})}),(0,y.jsx)("div",{className:"light top"}),(0,y.jsx)("div",{className:"light bottom"})]}),(0,y.jsx)("div",{className:"lines"})]})}),window.isMobile&&(0,y.jsx)("div",{className:l.agree?"toPaymentWrap button-pulse":"toPaymentWrap",children:(0,y.jsxs)("button",{className:"order",onClick:e=>m(e),children:[(0,y.jsxs)("span",{className:"default",children:["Jetzt bestellen",(0,y.jsx)("div",{className:"arrow-image",children:(0,y.jsx)("img",{loading:"lazy",src:"images/arrow.svg",alt:""})})]}),(0,y.jsxs)("span",{className:"success",children:["Bestellung aufgegeben",(0,y.jsx)("svg",{viewBox:"0 0 12 10",children:(0,y.jsx)("polyline",{points:"1.5 6 4.5 9 10.5 1"})})]}),(0,y.jsx)("div",{className:"box"}),(0,y.jsxs)("div",{className:"truck",children:[(0,y.jsx)("div",{className:"back"}),(0,y.jsx)("div",{className:"front",children:(0,y.jsx)("div",{className:"window"})}),(0,y.jsx)("div",{className:"light top"}),(0,y.jsx)("div",{className:"light bottom"})]}),(0,y.jsx)("div",{className:"lines"})]})})]})]})]})})};_.defaultProps={};const P=_;var T=a(22069);a(1253);(0,I.registerLocale)("de",D.Z);const A=(0,T.Z)((e=>({container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}))),M=e=>{let{choosePayMethod:t,shippingMethod:a,domain:s,checkedPayByCredits:r,goToDelivery:o,totalPrice:n,credits:d,userIsLogin:c,changeCreditsInput:l,handlerNextTab:p,handlerShowHideBlocks:h,onNoteToggle:m,dobChange:u,dobChange1:g,payMethod:x,payMethodError:b,noteShow:j,noteShow1:N,noteShow2:v}=e,k=Math.round(100*n)/100!==0,f=8*((""+d.currentValue).split("").length+1)+20+"px";const[w,C]=(0,i.useState)(new Date(1999,0,1)),[S,I]=(0,i.useState)(new Date(1999,0,1));A(),new URLSearchParams(window.location.search).get("samsung"),new URLSearchParams(window.location.search).get("apple");return(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"paymentMethod",children:[(0,y.jsxs)("h3",{className:Math.round(100*n)/100===0?"title answering":"title",onClick:e=>h(e),"data-step":"paymentMethod",id:"paymentPanel",children:[(0,y.jsx)("span",{className:"num",children:"1"}),(0,y.jsx)("span",{className:"text",children:"Zahlungsart"}),(0,y.jsx)("span",{className:"arrow",children:(0,y.jsx)("i",{className:"fa fa-angle-up","aria-hidden":"true"})})]}),(0,y.jsxs)("div",{className:"wrapperItemBasket",children:[(0,y.jsxs)("ul",{onChange:t,children:[c&&d.totalCredits>0&&(0,y.jsxs)("li",{children:[(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"checkbox",name:"payment_method",value:"payByCredits",defaultChecked:r}),(0,y.jsx)("span",{className:"radio check"}),(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/credits.png",width:"24",height:"24",className:"payment-icon",alt:"Credits"}),"Credits (Total: ",d.totalCredits,")",(0,y.jsx)("input",{id:"creditsInput",style:{width:f},type:"number",pattern:"[0-9]+",onChange:!r&&l,value:d.currentValue})]}),d.errorCredits&&(0,y.jsxs)("p",{className:"errorText",children:[" ",d.errorCredits]})]}),"PICKAS"===a.value.shortcode&&(0,y.jsx)("li",{children:(0,y.jsxs)("label",{children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",required:k,value:"payInShop",onChange:e=>m(e)}),(0,y.jsx)("span",{className:"radio"}),"Zahlung bei Abholung"]})}),2===s&&(0,y.jsxs)("div",{children:[!1,!1,(0,y.jsxs)("li",{className:"Payrexx"===x.method&&"bob-invoice"===x.paymethodpayrexx?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-Payrexx-bob-invoice",value:"Payrexx","data-paymethodpayrexx":"bob-invoice",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-Payrexx-bob-invoice",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["Zahlung per Rechnung oder Ratenzahlung (BobFinance)",(0,y.jsx)("div",{className:"payment-note",children:"0%-Zinsen - Bezahlen Sie die Ware bequem erst nach Erhalt der Ware per Rechnung / Einzahlungsschein in bis zu 3 Monatsraten. Der Einzahlungsschein wird nach Verifizierung des Anbieters direkt per E-Mail von BobFinance zugestellt."})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/109.png",className:"payment-icon",alt:"BobFinance"})})]})]}),(0,y.jsxs)("li",{className:"HeidiPay"===x.method?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-HeidiPay",value:"HeidiPay",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-HeidiPay",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["Ratenzahlung mit ",(0,y.jsx)("strong",{children:"0%-Zinsen"})," bis max. 12 Monate (Debit- und Kreditkarten) - HeidiPay",(0,y.jsx)("div",{className:"payment-note",children:"HeidiPay Description"})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/HeidiPay-logo-small.png",className:"payment-icon",alt:"HeidiPay"})})]})]}),(0,y.jsxs)("li",{className:"Datatrans"===x.method&&"VIS"===x.paymethoddatatrans?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-Datatrans-VIS",value:"Datatrans","data-paymethoddatatrans":"VIS",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-Datatrans-VIS",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["Visa",(0,y.jsx)("div",{className:"payment-note",children:"0%-Geb\xfchren - Mit der Visa Debit- oder Kreditkarte zahlen Sie schnell und sicher. Ihre Bestellung wird sofort nach Verifizierung des Kartenanbieters bei uns ausgel\xf6st."})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/4.png",className:"payment-icon",alt:"Visa"})})]})]}),(0,y.jsxs)("li",{className:"Datatrans"===x.method&&"ECA"===x.paymethoddatatrans?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-Datatrans-ECA",value:"Datatrans","data-paymethoddatatrans":"ECA",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-Datatrans-ECA",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["Mastercard",(0,y.jsx)("div",{className:"payment-note",children:"0%-Geb\xfchren - Mit der Mastercard Debit- oder Kreditkarte zahlen Sie schnell und sicher. Ihre Bestellung wird sofort nach Verifizierung des Kartenanbieters bei uns ausgel\xf6st."})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/5.png",className:"payment-icon",alt:"Mastercard"})})]})]}),(0,y.jsxs)("li",{className:"Datatrans"===x.method&&"AMX"===x.paymethoddatatrans?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-Datatrans-AMX",value:"Datatrans","data-paymethoddatatrans":"AMX",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-Datatrans-AMX",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["American Express",(0,y.jsx)("div",{className:"payment-note",children:"0%-Geb\xfchren - Mit der American Express Kreditkarte zahlen Sie schnell und sicher. Ihre Bestellung wird sofort nach Verifizierung des Kartenanbieters bei uns ausgel\xf6st."})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/7.png",className:"payment-icon",alt:"American Express"})})]})]}),(0,y.jsxs)("li",{className:"Datatrans"===x.method&&"PFC"===x.paymethoddatatrans?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-Datatrans-PFC",value:"Datatrans","data-paymethoddatatrans":"PFC",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-Datatrans-PFC",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["PostFinance Card",(0,y.jsx)("div",{className:"payment-note",children:"0%-Geb\xfchren - Mit der Postcard wird der Betrag direkt von Ihrem PostFinance-Konto abgebucht und die Bestellung wird sofort ausgel\xf6st."})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/3.png",className:"payment-icon",alt:"PostFinance Card"})})]})]}),(0,y.jsxs)("li",{className:"Datatrans"===x.method&&"TWI"===x.paymethoddatatrans?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-Datatrans-TWI",value:"Datatrans","data-paymethoddatatrans":"TWI",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-Datatrans-TWI",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["TWINT Wallet",(0,y.jsx)("div",{className:"payment-note",children:"0%-Geb\xfchren - Mit Twint bezahlen Sie bequem direkt per Smartphone (iOS und Android) und die Bestellung wird sofort ausgel\xf6st."})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/17.png",className:"payment-icon",alt:"TWINT Wallet"})})]})]}),(0,y.jsxs)("li",{className:"Datatrans"===x.method&&"DIB"===x.paymethoddatatrans?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-Datatrans-DIB",value:"Datatrans","data-paymethoddatatrans":"DIB",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-Datatrans-DIB",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["Sofort\xfcberweisung",(0,y.jsx)("div",{className:"payment-note",children:"0%-Geb\xfchren - Mit Sofort\xfcberweisung wird der Betrag direkt von Ihrem Bankkonto abgebucht und die Bestellung wird sofort ausgel\xf6st."})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/21.png",className:"payment-icon",alt:"Sofort\xfcberweisung"})})]})]}),(0,y.jsxs)("li",{className:"Payrexx"===x.method&&"apple-pay"===x.paymethodpayrexx?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-Payrexx-apple-pay",value:"Payrexx","data-paymethodpayrexx":"apple-pay",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-Payrexx-apple-pay",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["Apple Pay",(0,y.jsx)("div",{className:"payment-note",children:"0%-Geb\xfchren - Mit Apple Pay bezahlen Sie bequem direkt per Apple Device und die Bestellung wird sofort ausgel\xf6st."})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/107.png",className:"payment-icon",alt:"Apple Pay"})})]})]}),(0,y.jsxs)("li",{className:"Datatrans"===x.method&&"SAM"===x.paymethoddatatrans?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-Datatrans-SAM",value:"Datatrans","data-paymethoddatatrans":"SAM",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-Datatrans-SAM",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["Samsung Pay",(0,y.jsx)("div",{className:"payment-note",children:"0%-Geb\xfchren - Mit Samsung Pay bezahlen Sie bequem direkt per Samsung Smartphone / Tablet und die Bestellung wird sofort ausgel\xf6st."})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/110.png",className:"payment-icon",alt:"Samsung Pay"})})]})]})]}),(0,y.jsxs)("li",{className:"PayPal"===x.method?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-PayPal",value:"PayPal",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-PayPal",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["PayPal",(0,y.jsx)("div",{className:"payment-note",children:"0%-Geb\xfchren - Mit der PayPal wird der Betrag direkt von Ihrem PayPal-Konto bzw. Ihrer Kreditkarte abgebucht und die Bestellung wird sofort ausgel\xf6st."})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/6.png",className:"payment-icon",alt:"PayPal"})})]})]}),(0,y.jsxs)("li",{className:"Vorauskasse/\xdcberweisung"===x.method&&"BNK"===x.paymethoddatatrans?"active":"",children:[(0,y.jsx)("input",{type:"radio",name:"payment_method",className:"radio-check",id:"radio-Vorauskasse-BNK",value:"Vorauskasse/\xdcberweisung","data-paymethoddatatrans":"BNK",required:k,onChange:e=>m(e)}),(0,y.jsxs)("label",{htmlFor:"radio-Vorauskasse-BNK",children:[(0,y.jsx)("div",{className:"radio-container",children:(0,y.jsxs)("div",{className:"cRadioBtn",children:[(0,y.jsx)("div",{className:"overlay"}),(0,y.jsx)("div",{className:"drops xsDrop"}),(0,y.jsx)("div",{className:"drops mdDrop"}),(0,y.jsx)("div",{className:"drops lgDrop"})]})}),(0,y.jsxs)("span",{className:"payment-title",children:["Bank\xfcberweisung / Vorauskasse",(0,y.jsx)("div",{className:"payment-note",children:"0%-Geb\xfchren - Bei der Bezahlung via Bank\xfcberweisung senden wir Ihnen die Zahlungsinformationen per E-Mail zu. Ware wird erst nach Zahlungseingang versendet. Die Zahlung muss innerhalb von 3 Werktagen erfolgen, ansonsten wird die Bestellung wieder storniert."})]}),(0,y.jsx)("span",{className:"payment-img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/icons/payment-type/10.png",className:"payment-icon",alt:"Bank\xfcberweisung"})})]})]})]}),(0,y.jsxs)("div",{className:"basketMobileBottom",children:[b&&b.status&&(0,y.jsxs)("div",{className:"basketError",children:[(0,y.jsx)("img",{loading:"lazy",src:"/images/design/warning.svg",alt:""}),(0,y.jsx)("span",{children:b.msg})]}),!window.isMobile&&(0,y.jsx)("div",{className:"text-right button-row",children:(0,y.jsxs)("button",{type:"button",className:x.method?"basketSubmit btn button-pulse":"basketSubmit btn",onClick:p,children:["Weiter",(0,y.jsx)("span",{children:(0,y.jsx)("img",{loading:"lazy",src:"images/arrow.svg",alt:""})})]})}),window.isMobile&&(0,y.jsxs)("button",{type:"button",className:x.method?"btn toDelivery button-pulse":"btn toDelivery",onClick:o,children:["Weiter",(0,y.jsx)("span",{children:(0,y.jsx)("img",{loading:"lazy",src:"images/arrow.svg",alt:""})})]})]})]})]})})};M.defaultProps={};const B=M,E={gender:{error:!1,msg:""},companyName:{error:!1,msg:""},firstname:{error:!1,msg:""},lastname:{error:!1,msg:""},email:{error:!1,msg:""},phone:{error:!1,msg:""},street:{error:!1,msg:""},number:{error:!1,msg:""},zip:{error:!1,msg:""},city:{error:!1,msg:""},customer_gender:{error:!1,msg:""},customer_companyName:{error:!1,msg:""},customer_firstname:{error:!1,msg:""},customer_lastname:{error:!1,msg:""},customer_email:{error:!1,msg:""},customer_phone:{error:!1,msg:""},customer_street:{error:!1,msg:""},customer_number:{error:!1,msg:""},customer_zip:{error:!1,msg:""},customer_city:{error:!1,msg:""},company:{error:!1,msg:""}};class F extends i.PureComponent{constructor(e){super(e),this._loadRatingData=()=>{axios.get("/api/getRatings?page=1&&sort=highest").then((e=>{this.setState({infoRatings:e.data.info,rateData:e.data.items})}))},this.snapPixelStatistic=e=>{let t=[];this.props.basketData.forEach((e=>{if(t.some((t=>t.shortcode===e.shortcode)))return!1;{let a=this.props.basketData.reduce(((t,a)=>t+(a.shortcode===e.shortcode?1:0)),0);e.count=a,t=[...t,e]}}));let a=[11,100,500,501,900,999];t.forEach(((e,s)=>{a.forEach((a=>{+e.productTypeId===+a&&t.splice(s,1)}))}));let s=t.map((e=>e.shortcode));return snaptr("track","PURCHASE",{currency:window.currencyValue,price:e.data.totalPrice,transaction_id:e.data.basketShortcode,item_ids:s,number_items:s.length})},this.gtagEnhancedEcommerce=e=>{let t,a,s;e.categoryName?(t=e.criterias.find((e=>"manufacturer"===e.id)).values,a=t.length?t[0].name:"",s=e.categoryName):(a=e.deviceName,s=""),gtag("event","remove_from_cart",{items:[{id:e.shortcode,list_name:"Kaufen",quantity:1,price:e.discountPrice||e.price,name:e.descriptionLong||e.model||"",brand:a,category:s}]})},this.handleUpdateBasketData=(e,t)=>{if(""===e)return;let a=this.props.basketData,s=[],r=!1;a.forEach((a=>{if(a.shortcode!=t)s=[...s,a];else if(!r){for(let t=1;t<=e;++t)a.count=1,s=[...s,a];r=!0}})),this.props.basketActions.changeBasketData(s),this._getPrice(s,this.state.taxValue)},this.state={choiceShipping:!1,isRemarketingCampaign:!1,deadline:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.MIX_IS_BUY_COUPON||this.props.location.query.coupon,isVorauskasse:this.props.location.query.vorauskasse,deadlineIsActive:!1,deadlineExpired:!1,credits:{totalCredits:0,currentValue:null,errorCredits:""},checkedPayByCredits:!1,subject:0,tax:0,taxOnlyForVat:0,taxValue:null,total:0,shippingMethods:[],country:{countriesList:[],currentCountry:{inputCountry:"CH",customer_inputCountry:"CH"}},domain:null,inputCheckbox:{shippingAddress:!0,company:!1,customerCompanyName:!1,asGuest:!0,agree:!1},couponError:null,payMethod:{method:null,paymethoddatatrans:null,paymethodpayrexx:null},autoloadPersonalData:{element:null,data:null},payForm:null,errorPay:null,errorNoProducts:null,errors:{password:"",info:"",general:""},similarItems:[],showTabs:{paymentMethod:!0,personalData:!1,shippingMethod:!1},noteShow:!1,noteShow1:!1,noteShow2:!1,infoRatings:{total:0,average:0,statistics:[{stars:5,count:0},{stars:4,count:0},{stars:3,count:0},{stars:2,count:0},{stars:1,count:0}]},rateData:[],uniqueSessionId:"REMARKET_SCRIPT_ISSUE",userIP:"127.0.0.1",userCountryCode3:"CHE",userDOB:"",userDOB1:"",insuranceChAmount:0,dataTransSign:"180103170812117471",dataTransMerchantId:"3000012768",dataTransSignSandbox:"160613112229164683",dataTransMerchantIdSandbox:"1100006526",payMethodError:{status:!1,msg:""},validateError:E,isValidate:!1},this.sendForm=this.sendForm.bind(this),this._getPrice=this._getPrice.bind(this),this._showHideBlocks=this._showHideBlocks.bind(this),this._goToDelivery=this._goToDelivery.bind(this),this.handleRemoveFromBasket=this.handleRemoveFromBasket.bind(this),this.addCreditsToBasket=this.addCreditsToBasket.bind(this),this.addInsuranceToBasket=this.addInsuranceToBasket.bind(this),this.addInsuranceToBasketCh=this.addInsuranceToBasketCh.bind(this),this.chooseShippingMethod=this.chooseShippingMethod.bind(this),this.choosePayMethod=this.choosePayMethod.bind(this),this.choosePersonalData=this.choosePersonalData.bind(this),this.changeCheckbox=this.changeCheckbox.bind(this),this.changeCountry=this.changeCountry.bind(this),this.changeCoupon=this.changeCoupon.bind(this),this.triggerChangeCoupon=this.triggerChangeCoupon.bind(this),this.changeNameField=this.changeNameField.bind(this),this.changeCreditsInput=this.changeCreditsInput.bind(this),this.nextTab=this.nextTab.bind(this),this.goToPaymentMobile=this.goToPaymentMobile.bind(this),this._gtag_report_conversion=this._gtag_report_conversion.bind(this),this.updateCountDown=this.updateCountDown.bind(this),this.activateCountDownCoupon=this.activateCountDownCoupon.bind(this),this.onNoteToggle=this.onNoteToggle.bind(this),this.dobChange=this.dobChange.bind(this),this.dobChange1=this.dobChange1.bind(this),this.insuranceChAmountChange=this.insuranceChAmountChange.bind(this),this.goTab=this.goTab.bind(this),this.validateForm=this.validateForm.bind(this),this.validateCheck=this.validateCheck.bind(this),this.validateEmail=this.validateEmail.bind(this),this.validatePhoneNumber=this.validatePhoneNumber.bind(this),this.validateNumeric=this.validateNumeric.bind(this)}componentWillReceiveProps(e){if(e.user.isLogin!==this.props.user.isLogin&&!1===e.user.isLogin){document.querySelectorAll(".personalData input").forEach((e=>{e.value="",e.checked=!1}));let{inputCheckbox:e}=this.state;e.company=!1,this.setState({inputCheckbox:e});let t=this.props.basketData.filter((e=>100!=e.productTypeId&&999!=e.productTypeId));this.props.basketActions.changeBasketData(t)}e.user.isLogin!==this.props.user.isLogin&&!0===e.user.isLogin&&(axios.get("/api/getTotalCredits").then((e=>{let{data:t}=e;this.setState({credits:{...this.state.credits,totalCredits:t.credits}},(()=>{this._getPrice(this.props.basketData,this.state.taxValue)}))})).catch((e=>{})),this.setState({errors:{...this.state.errors,info:""}})),e.user.data!==this.props.user.data&&e.user.data&&(window.localStorage.removeItem("userDataVerkaufen"),window.localStorage.removeItem("userData"),g.ce.call(this,e.user.data)),this.props.basketData.length!==e.basketData.length&&(this._getPrice(e.basketData,this.state.taxValue),window.isGoogleConnection&&this._gtag_snippet(e.basketData))}componentDidUpdate(e){let t=e.basketData.filter((e=>11!=e.productTypeId)),a=this.props.basketData.filter((e=>11!=e.productTypeId));if(document.forms.basketForm&&0===t.length&&1===a.length){if(this.props.user.isLogin&&this.props.user.data)g.ce.call(this,this.props.user.data);else{let e=JSON.parse(window.localStorage.getItem("userData"));e&&g.ce.call(this,e)}this.setState({showTabs:{...this.state.showTabs,paymentMethod:!0,personalData:!1,shippingMethod:!1}})}}componentWillMount(){window.localStorage.getItem("paymentFailedTryAgain")&&this.setState({showTabs:{...this.state.showTabs,paymentMethod:!0,personalData:!1,shippingMethod:!1}}),this.inputCouponCallback=r()((function(e){var t=7;"CASE43"==e.target.value.toUpperCase()?t=3:"TEMP43"==e.target.value.toUpperCase()&&(t=10);let a=document.forms.basketForm.email.value,{shippingAddress:s}=this.state.inputCheckbox;axios.get("/api/checkCoupon?coupon=".concat(e.target.value.toUpperCase(),"&email=").concat(a,"&shippingAddress=").concat(s,"&couponType=").concat(t)).then((a=>{if(3==t||10==t){for(var s=99999,r=99999,i=0;i<this.props.basketData.length;i++)this.props.basketData[i].productTypeId==t&&this.props.basketData[i].price<r&&(r=this.props.basketData[i].price,s=i);99999!=s&&(a.data.price=this.props.basketData[s].price)}else{if(!this.props.basketData.some((e=>7==e.productTypeId)))throw new Error("Dieses Gutscheincode ist leider nicht f\xfcr diese Produktkategorie g\xfcltig");if(this.state.subject<a.data.minSellpriceValue)throw new Error("Dieser Gutschein ist erst ab einem Ger\xe4tebestelltwert von "+a.data.minSellpriceValue+" CHF m\xf6glich");if("0"==a.data.newDeviceValid&&this.props.basketData.some((e=>7==e.productTypeId))&&(this.props.basketData.some((e=>1==e.conditionId))||this.props.basketData.some((e=>2==e.conditionId))))throw new Error("Dieser Gutschein ist nur f\xfcr gebrauchte Ger\xe4te g\xfcltig")}if(this.props.basketData.some((e=>999==e.productTypeId)))throw new Error("Gutschein wurde bereits benutzt oder es wurde schon ein Gutschein angewendet");{let t=[...this.props.basketData,a.data];this.props.basketActions.changeBasketData(t),this._getPrice(t,this.state.taxValue),e.target.value=""}})).catch((e=>{let t=e.response?e.response.data:e.message;this.setState({couponError:t})}))}),1e3),this.inputNameCallback=r()((function(e){let t=e.target.name.indexOf("customer")<0?"shippingAddress":"billingAddress";axios.get("/api/autoloadAgileData?search=".concat(e.target.value,"&fieldName=").concat(e.target.name)).then((e=>{let{data:a}=e;a.length>0?this.setState({autoloadPersonalData:{...this.state.autoloadPersonalData,element:(0,y.jsx)(j,{data:a,formType:t,choosePersonalData:this.choosePersonalData}),data:a}}):this.setState({autoloadPersonalData:{...this.state.autoloadPersonalData,element:null,data:a}})})).catch((e=>{}))}),500),this.getShippingMethods("Normal"),this.props.user.isLogin&&axios.get("/api/getTotalCredits").then((e=>{let{data:t}=e;this.setState({credits:{...this.state.credits,totalCredits:t.credits}},(()=>{this._getPrice(this.props.basketData,this.state.taxValue)}))})).catch((e=>{})),function(e,t,a){var s,r=e.getElementsByTagName(t)[0];e.getElementById(a)||((s=e.createElement(t)).id=a,s.src="https://pay.datatrans.com/upp/payment/js/datatrans-2.0.0.js",r.parentNode.insertBefore(s,r))}(document,"script","datatrans"),(0,n.Z)().then((e=>{this.setState({userIP:e})}));var e=this.props.location.query.coupon,t=JSON.parse(window.localStorage.getItem("deadline"));if({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.MIX_IS_BUY_COUPON||e||t&&t.isRemarketingCampaign){if(this.setState({deadline:!0}),t&&e)this.setState({isRemarketingCampaign:!0}),t.isRemarketingCampaign=!0,window.localStorage.setItem("deadline",JSON.stringify(t));else if(!t&&e){var a=new Date;a.setHours(a.getHours()+3),t={countDownDate:a,isActive:0,deadlineExpired:0,couponShortcode:"",isRemarketingCampaign:!0},window.localStorage.setItem("deadline",JSON.stringify(t))}if(t&&t.isActive&&this.setState({deadlineIsActive:!0}),t&&t.deadlineExpired&&this.setState({deadlineExpired:!0}),t&&t.couponShortcode&&t.isActive&&!this.props.basketData.find((e=>e.shortcode==t.couponShortcode))){let e=this.props.basketData.find((e=>999==e.productTypeId));e&&this.handleRemoveFromBasket(999,e.shortcode),this.setState({couponError:null}),this.inputCouponCallback({target:{value:t.couponShortcode}})}}else if(!t||!t.isRemarketingCampaign){let e=this.props.basketData.filter((e=>!(999==e.productTypeId&&"Limitierter Gutschein"==e.note)));this.props.basketActions.changeBasketData(e),this._getPrice(e,this.state.taxValue)}}loadStripe(e){if(window.StripeCheckout)e();else{const t=document.createElement("script");t.onload=function(){e()},t.src="https://checkout.stripe.com/checkout.js",document.head.appendChild(t)}}componentDidMount(){let e=window.localStorage.getItem("basketShortcode"),{inputCheckbox:t}=this.state;if(e&&window.localStorage.removeItem("basketShortcode"),this.props.user.isLogin&&this.props.basketData.length>0&&this.props.user.data)g.ce.call(this,this.props.user.data);else{let e=JSON.parse(window.localStorage.getItem("userData"));"undefined"!=typeof e&&e&&0!==Object.keys(e).length&&this.props.basketData.length>0&&(g.ce.call(this,e),t.company=e.shippingAddress.company,t.customerCompanyName=e.billingAddress.customerCompanyName,t.shippingAddress=e.usingShippingAddress,this.setState({inputCheckbox:t}))}if(this.setState({country:{...this.state.country,countriesList:[{value:"ch",label:"Schweiz"},{value:"li",label:"Liechtenstein"}]},domain:2}),window.isGoogleConnection&&g.o9.call(this,2,"userData"),axios.post("/api/similarItems",{basketData:this.props.basketData}).then((e=>{this.setState({similarItems:e.data})})).catch((()=>!1)),this._getPrice(this.props.basketData,this.state.taxValue),window.isGoogleConnection&&this._gtag_snippet(this.props.basketData),window.localStorage.getItem("paymentFailedTryAgain")){let e=window.localStorage.getItem("customerShortcode");window.localStorage.removeItem("paymentFailedTryAgain"),window.localStorage.removeItem("customerShortcode"),window.isMobile?($(".productWrap, .personalData").hide(),$("#accordion, .shippingMethod .wrapperItemBasket").show(),this.goToPaymentMobile(!0),this.setState({ifErrorPayment:!0,customerShortcode:e})):($(".paymentMethod h3.title").click(),$(".shippingMethod h3.title, .personalData h3.title").addClass("answering"),$(".basketSubmit.hideBtn").show(),this.setState({ifErrorPayment:!0,customerShortcode:e}))}let a=JSON.parse(window.localStorage.getItem("deadline"));({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MIX_IS_BUY_COUPON||a&&a.isRemarketingCampaign?(document.getElementById("numeric-timer")?(this.setState({deadline:!1}),this.updateCountDown()):setTimeout((()=>{this.setState({deadline:!1}),this.updateCountDown()}),1e3),this.countdown=setInterval((()=>{this.setState({deadline:!1}),this.updateCountDown()}),6e4)):window.localStorage.removeItem("deadline"),window.localStorage.hasOwnProperty("coupon")&&axios.get("/api/checkCoupon?coupon=".concat(window.localStorage.getItem("coupon"),"&couponType=7")).then((e=>{if(!this.props.basketData.some((e=>999==e.productTypeId))){let t=[...this.props.basketData,e.data];this.props.basketActions.changeBasketData(t),this._getPrice(t,this.state.taxValue)}})).catch((e=>{})),this._loadRatingData();var s=0,r=0,i=0,o=document.getElementById("topButtonsCarousel");"undefined"!==typeof o&&null!=o&&(o.addEventListener("touchstart",(function(e){r=e.changedTouches[0].pageX}),{passive:!0}),o.addEventListener("touchmove",(function(e){(s=i+(e.changedTouches[0].pageX-r))>0?s=0:s<-750&&(s=-750),o.style.transform="translate("+s+"px,0px)"}),{passive:!0}),o.addEventListener("touchend",(function(e){i=s}),{passive:!0})),this.props.basketData.forEach((e=>{500!=e.productTypeId||"undefined"===typeof e.shortcode||"IDK3VU"!==e.shortcode&&"8JXTVN"!==e.shortcode||this.setState({insuranceChAmount:e.price})}))}componentWillUnmount(){if(!this.props.user.isLogin){let e=(0,g.S_)();window.localStorage.setItem("userData",JSON.stringify(e))}document.getElementById("datatrans").remove(),this.stripeHandler&&this.stripeHandler.close(),clearInterval(this.countdown)}updateCountDown(){this.setState({deadline:!0});let e=JSON.parse(window.localStorage.getItem("deadline")),t=document.getElementById("numeric-timer");if(e&&e.deadlineExpired)return this.setState({deadlineExpired:!0}),void clearInterval(this.countdown);if(e&&e.isActive&&this.setState({deadlineIsActive:!0}),!e){var a=new Date;a.setHours(a.getHours()+3),e={countDownDate:a,isActive:0,deadlineExpired:0,couponShortcode:""},window.localStorage.setItem("deadline",JSON.stringify(e))}var s=(new Date).getTime(),r=new Date(e.countDownDate).getTime()-s,i=Math.floor(r%864e5/36e5),o=Math.floor(r%36e5/6e4);Math.floor(r%6e4/1e3);t&&(t.innerHTML=i+"Std. "+o+"Min. verbleiben"),r<0&&(e.deadlineExpired=1,window.localStorage.setItem("deadline",JSON.stringify(e)),clearInterval(this.countdown),this.setState({deadlineExpired:!0}))}activateCountDownCoupon(){let e=JSON.parse(window.localStorage.getItem("deadline"));if(e)if(e.isActive=1,this.setState({deadlineIsActive:!0}),window.localStorage.setItem("deadline",JSON.stringify(e)),e.couponShortcode){if(!this.props.basketData.find((t=>t.shortcode==e.couponShortcode))){let t=this.props.basketData.find((e=>999==e.productTypeId));t&&this.handleRemoveFromBasket(999,t.shortcode),this.setState({couponError:null}),this.inputCouponCallback({target:{value:e.couponShortcode}})}}else axios.get("/api/generateCountDownCoupon").then((t=>{if(e.couponShortcode=t.data.shortcode,window.localStorage.setItem("deadline",JSON.stringify(e)),!this.props.basketData.find((t=>t.shortcode==e.couponShortcode))){let t=this.props.basketData.find((e=>999==e.productTypeId));t&&this.handleRemoveFromBasket(999,t.shortcode),this.setState({couponError:null}),this.inputCouponCallback({target:{value:e.couponShortcode}})}})).catch((e=>{console.log("error",e.response.data)}))}_gtag_report_conversion(e,t){return gtag("event","conversion",{send_to:"AW-827036726/Mt4fCLj803sQtqiuigM",value:e,currency:"CHF",transaction_id:"",event_callback:function(){"undefined"!=typeof t&&(window.location=t)}}),!1}_gtag_snippet(e){let t=[],a=0;e.forEach((e=>{7==e.productTypeId&&(t.push(e.shortcode),a+=+e.discountPrice||+e.price)})),gtag("event","page_view",{send_to:"AW-827036726",ecomm_prodid:t,ecomm_pagetype:"cart",ecomm_totalvalue:a,ecomm_category:"Electronics"})}_showHideBlocks(e){let t=e.currentTarget.getAttribute("data-step"),a={...this.state.showTabs};(a[t]||a.personalData||a.shippingMethod)&&("none"===$(e.currentTarget).parent().find(".wrapperItemBasket").css("display")&&($(".wrapperItemBasket").each((function(){$(this).hide("slow"),$(this).parent().find(".title i.fa").removeClass("fa-angle-up").addClass("fa-angle-down")})),$(e.currentTarget).parent().find(".wrapperItemBasket").toggle("slow"),$(e.currentTarget).parent().css({paddingBottom:"44px"}),$(e.currentTarget).parent().find(".title i.fa").removeClass("fa-angle-down").addClass("fa-angle-up")),a.personalData=!("personalData"!==t),a.shippingMethod=!("shippingMethod"!==t),a.paymentMethod=!("paymentMethod"!==t),this.setState({showTabs:a}))}_getPrice(e,t){let a,s,r=0,i=0,o=0,n=0,d=this.state.credits.currentValue,c=e.some((e=>100==e.productTypeId));e.forEach((e=>{500!=e.productTypeId&&(100==e.productTypeId||999==e.productTypeId?i+=+e.price:(r+=e.discountPrice?+e.discountPrice:+e.price,e.euVatApplicable&&(n+=e.price)))})),a=r-i,s=a/(1+t/100)*(t/100),o=n/(1+t/100)*(t/100),this.state.credits.currentValue&&c||(d=this.state.credits.totalCredits>a?a:this.state.credits.totalCredits),c&&e.forEach((e=>{100==e.productTypeId&&(d=e.price)})),this.setState({subject:r,total:a,tax:s,taxOnlyForVat:o,checkedPayByCredits:c,credits:{...this.state.credits,currentValue:d}})}_goToDelivery(){let{total:e,payMethod:t}=this.state;[...document.querySelectorAll('.paymentMethod input[type="radio"][required]')].some((e=>e.checked))?(this.setState({payMethodError:{status:!1,msg:""}}),"Payrexx"===t.method&&(parseFloat(e)<50||parseFloat(e)>999)?this.setState({payMethodError:{status:!0,msg:"Die Zahlung per Rechnung mit Bobfinance ist ab 50.00 CHF und bis maximal 1000.00 CHF m\xf6glich"}}):this.props.goToDelivery()):this.setState({payMethodError:{status:!0,msg:"Bitte Zahlungsart ausw\xe4hlen"}})}goToPaymentMobile(e){this.props.goToPayment(e),this.setState({showTabs:{...this.state.showTabs,personalData:!1,shippingMethod:!1,paymentMethod:!0}})}goTab(e,t){let{total:a,payMethod:s}=this.state;if(this.setState({payMethodError:{status:!1,msg:""}}),this.setState({validateError:E}),this.props.basketStep!==t)if(e.preventDefault(),"paymentMethod"==t)this.props.goToMethod();else if("personalData"==t)this._goToDelivery();else if("shippingMethod"==t)if([...document.querySelectorAll('.paymentMethod input[type="radio"][required]')].some((e=>e.checked)))if(this.setState({payMethodError:{status:!1,msg:""}}),"Payrexx"===s.method&&(parseFloat(a)<50||parseFloat(a)>999))this.setState({payMethodError:{status:!0,msg:"Die Zahlung per Rechnung mit Bobfinance ist ab 50.00 CHF und bis maximal 1000.00 CHF m\xf6glich"}});else if("paymentMethod"===this.props.basketStep)this.validateForm()?this.goToPaymentMobile(!1):this.setState({payMethodError:{status:!0,msg:"Bitte Personalien ausf\xfcllen"}});else{if(!this.validateForm())return;this.goToPaymentMobile(!1)}else this.setState({payMethodError:{status:!0,msg:"Bitte Zahlungsart ausw\xe4hlen"}})}nextTab(){let{total:e,payMethod:t}=this.state;this.props.basketData.map((e=>snaptr("track","START_CHECKOUT",{"shortcode or name":e.shortcode||e.name}))),window.isFBConnection&&fbq("track","InitiateCheckout",{value:this.state.total,currency:window.currencyValue});let{showTabs:a}=this.state,s=this.props.basketData.find((e=>999==e.productTypeId)),r=this.props.basketData.filter((e=>![11,100,999,500,501].includes(e.productTypeId))),i=r.map((e=>{let t,a,s;return e.categoryName?(t=e.criterias.find((e=>"manufacturer"===e.id)).values,a=t.length?t[0].name:"",s=e.categoryName):(a=e.deviceName,s=""),{id:e.shortcode,name:e.descriptionLong||e.model||"",list_name:"Kaufen",quantity:1,brand:a,category:s,price:e.discountPrice||e.price}}));if(a.paymentMethod)[...document.querySelectorAll('.paymentMethod input[type="radio"][required]')].some((e=>e.checked))?(this.setState({payMethodError:{status:!1,msg:""}}),"Payrexx"===t.method&&(parseFloat(e)<50||parseFloat(e)>999)?this.setState({payMethodError:{status:!0,msg:"Die Zahlung per Rechnung mit Bobfinance ist ab 50.00 CHF und bis maximal 1000.00 CHF m\xf6glich"}}):(a.personalData=!0,a.shippingMethod=!1,a.paymentMethod=!1,this.setState({showTabs:a}),$(".personalData h3.title").click(),$(".paymentMethod h3.title").addClass("answering"))):this.setState({payMethodError:{status:!0,msg:"Bitte Zahlungsart ausw\xe4hlen"}});else if(a.personalData){let e=[],t=r.map((t=>{let a,s,r,i="";if(u.W.includes(t.productTypeId)){let e=t.model?t.model.split(" ").join("-").toLowerCase().replace(/\//g,"--"):"model",a=t.deviceName?t.deviceName.toLowerCase().replace(/ /g,"-"):"device";i="/kaufen/detail/zubehoer/".concat(a,"/").concat(e,"/").concat(t.shortcode)}else{let e=t.model.replace(/ /g,"-").toLowerCase(),a=t.color?t.color.toLowerCase():"color",s=t.capacity?t.capacity.toLowerCase():"capacity",r=t.deviceName.replace(/ /g,"-").toLowerCase();i="/kaufen/detail/".concat(r,"/").concat(e,"/").concat(s,"/").concat(a,"/").concat(t.shortcode)}return t.categoryName?(a=t.criterias.find((e=>"manufacturer"===e.id)).values,s=a.length?a[0].name:"",r=t.categoryName):(s=t.deviceName,r=""),e.push(t.descriptionLong||t.model),{ProductID:t.shortcode,ProductName:t.descriptionLong||t.model||"",Quantity:1,ProductBrand:s,ProductURL:i,ImageURL:t.deviceImages?t.deviceImages.mainImg.src:"",ProductCategories:[r],ItemPrice:t.discountPrice||t.price}}));(0,g.mW)(),_learnq.push(["track","Started Checkout",{$event_id:this.props.total+Date.now(),$value:this.props.total,ItemNames:e,CheckoutURL:window.location.href,Items:[t]}]),document.querySelector('input[name="shippingAddress"]').checked?[...document.querySelectorAll('.personalData input:not([type="radio"])[required]')].every((e=>""!==e.value.trim()))&&[...document.querySelectorAll('.personalData .billingForm input[type="radio"][required]')].some((e=>e.checked))&&$('input[name="inputCountry"]').length>0?(a.personalData=!1,a.shippingMethod=!0,a.paymentMethod=!1,this.setState({showTabs:a}),$(".shippingMethod h3.title").click(),$(".personalData h3.title").addClass("answering"),$(".basketSubmit.hideBtn").show(),gtag("event","begin_checkout",{items:i,coupon:s?s.shortc\u043ede:""}),gtag("event","set_checkout_option",{checkout_step:1,checkout_option:"personal data"})):$(".basketSubmit").click():[...document.querySelectorAll('.personalData input:not([type="radio"])[required]')].every((e=>""!==e.value.trim()))&&[...document.querySelectorAll('.personalData .shippingForm input[type="radio"][required]')].some((e=>e.checked))&&[...document.querySelectorAll('.personalData .billingForm input[type="radio"][required]')].some((e=>e.checked))?(a.personalData=!1,a.shippingMethod=!0,a.paymentMethod=!1,this.setState({showTabs:a}),$(".shippingMethod h3.title").click(),$(".personalData h3.title").addClass("answering"),$(".basketSubmit.hideBtn").show(),gtag("event","begin_checkout",{items:i,coupon:s?s.shortc\u043ede:""}),gtag("event","set_checkout_option",{checkout_step:1,checkout_option:"personal data"})):$(".basketSubmit").click()}else a.shippingMethod&&([...document.querySelectorAll('.shippingMethod input[type="radio"][required]')].some((e=>e.checked))?(a.personalData=!1,a.shippingMethod=!1,a.paymentMethod=!0,this.setState({showTabs:a}),0!==this.state.total&&$(".paymentMethod h3.title").click(),$(".shippingMethod h3.title").addClass("answering"),gtag("event","set_checkout_option",{checkout_step:2,checkout_option:"shipping method",value:[...document.querySelectorAll('.shippingMethod input[type="radio"][required]')].find((e=>e.checked)).value})):$(".basketSubmit").click());this.setState({showTabs:a})}changeCoupon(e){this.setState({couponError:null}),e.persist(),this.inputCouponCallback(e)}getShippingMethods(e){axios.get("/api/shippingMethods").then((t=>{let a=null,{basketData:s}=this.props,r=[],i=!0,o=t.data.shippingMethods.filter((e=>e!=n));const n=o.find((e=>"PICKAS"===e.shortcode));s.find((e=>u.W.includes(e.productTypeId)))&&(i=!1);const d=s.filter((e=>7==e.productTypeId));if(d.length>1){const{placeId:e}=d[0];d.every((t=>t.placeId==e))||(i=!1)}i||(o=o.filter((e=>e!=n))),"SWB"===e&&d.length>0?(o=o.filter((e=>"PRIRMP"===e.shortcode)),o.forEach((e=>{"PRIRMP"===e.shortcode&&(a=e)}))):(o=o.filter((e=>"PRIRMP"!==e.shortcode)),o.forEach((e=>{"GRVERS"===e.shortcode&&(a=e)}))),a?(r=s.filter((e=>11!=e.productTypeId)),r.push(a),this._getPrice(r,t.data.tax)):this._getPrice(s,t.data.tax),this.setState({shippingMethods:o,taxValue:t.data.tax},(()=>{a&&(this.props.basketActions.changeBasketData(r),this.props.basketActions.changeShippingMethod({selected:!0,value:a}))}))}))}triggerChangeCoupon(){""!=$("#input_coupon").val()?(this.setState({couponError:null}),this.inputCouponCallback({target:{value:$("#input_coupon").val()}})):this.setState({couponError:"Bitte Gutscheincode eingeben"})}changeCreditsInput(e){this.setState({credits:{...this.state.credits,errorCredits:null,currentValue:e.target.value}})}sendForm(e){let t=(0,g.S_)(),{shippingMethods:a,dataTransSign:s,dataTransMerchantId:r,dataTransSignSandbox:i,dataTransMerchantIdSandbox:n}=this.state,{shippingMethod:d}=this.props,l=s,p=r;if(e.preventDefault(),window.localStorage.removeItem("bankPaymentData"),a.length>0&&!1===d.selected)this.setState({choiceShipping:!0});else if(this.state.inputCheckbox.agree&&t){if("Datatrans"===this.state.payMethod.method&&"SWB"==this.state.payMethod.paymethoddatatrans&&""==this.state.userDOB)return document.getElementById("dob-field").scrollIntoView(!1),document.getElementById("dob-field").style.color="red",document.getElementById("dob-field").style.fontSize="14px",void $("#paymentPanel").click();let{shippingAddress:e}=this.state.inputCheckbox,a=[1,2,3,4,5,6,7,8,9,10,12,20,996],s=new FormData(document.forms.basketForm);s.append("basketData",JSON.stringify(this.props.basketData)),s.append("addressType",!0===e?"custom":"billing"),s.append("totalPrice",this.state.total),s.append("clientIp",this.state.userIP),s.append("userAgent",JSON.stringify(this.props.ua)),s.append("payMethod",JSON.stringify(this.state.payMethod)),this.state.ifErrorPayment&&s.append("errorPayment",!0),this.state.ifErrorPayment&&s.append("customerShortcode",this.state.customerShortcode);let r=t.billingAddress.customer_email,i={displayName:t.billingAddress.customer_firstname+" "+t.billingAddress.customer_lastname,email:t.billingAddress.customer_email};(0,o.FullStoryAPI)("identify",r,i),this.props.basketData.some((e=>a.some((t=>e.productTypeId==t))))?(document.getElementById("spinner-box-load").style.display="block",gtag("event","set_checkout_option",{checkout_step:3,checkout_option:"payment method",value:this.state.payMethod.method}),axios.post("/api/basket/add",s).then((e=>{if(200===e.status){this.snapPixelStatistic(e),window.localStorage.setItem("customerShortcode",e.data.customerShortcode),window.localStorage.setItem("asGuest",JSON.stringify(this.state.inputCheckbox.asGuest)),document.getElementById("spinner-box-load").style.display="none",window.localStorage.setItem("userData",JSON.stringify(t)),window.localStorage.setItem("basketShortcode",e.data.basketShortcode),window.localStorage.setItem("snaptrUserEmail",t.billingAddress.customer_email);let a=e.data.totalPrice;if(window.isGoogleConnection&&this._gtag_report_conversion(a),0===Math.round(a))document.getElementById("spinner-box-load").style.display="block",axios.get("/api/successPaymentByCredits?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId,"&paymentPrice=").concat(e.data.paymentPrice)).then((e=>{document.getElementById("spinner-box-load").style.display="none",200===e.status&&c.mW.push("/danke")}));else{let s="";if(t&&"Frau"==t.billingAddress.customer_gender?s="female":t&&"Herr"==t.billingAddress.customer_gender&&(s="male"),"Datatrans"===this.state.payMethod.method){l=""!==e.data.hmac?e.data.hmac:l;let r=e.data.transactionId;if("INT"==this.state.payMethod.paymethoddatatrans?""==this.state.userDOB?(document.getElementById("dob-field").scrollIntoView(!1),document.getElementById("dob-field").style.color="red",document.getElementById("dob-field").style.fontSize="14px"):(this.setState({payForm:(0,y.jsx)("form",{id:"paymentForm","data-merchant-id":p,"data-amount":Math.round(100*a),"data-currency":"CHF","data-paymentmethod":this.state.payMethod.paymethoddatatrans,"data-refno":e.data.basketShortcode,"data-refno2":e.data.basketOrderInfoId,"data-upp-customer-gender":s,"data-upp-customer-first-name":t.billingAddress.customer_firstname,"data-upp-customer-last-name":t.billingAddress.customer_lastname,"data-upp-customer-street":t.billingAddress.customer_street,"data-upp-customer-street2":t.billingAddress.customer_number,"data-upp-customer-city":t.billingAddress.customer_city,"data-upp-customer-zip-code":t.billingAddress.customer_zip,"data-upp-customer-language":"de","data-upp-customer-phone":t.billingAddress.customer_phone,"data-upp-customer-email":t.billingAddress.customer_email,"data-language":"de","data-upp-customer-country":this.state.userCountryCode3,"data-upp-customer-id":e.data.basketShortcode,"data-upp-customer-type":"P","data-upp-customer-birth-date":this.state.userDOB,"data-pmethod":this.state.payMethod.paymethoddatatrans,"data-sub_pmethod":"BYJUNO-INVOICE","data-upp-customer-details":"yes","data-upp-customer-name":t.billingAddress.customer_firstname+" "+t.billingAddress.customer_lastname,"data-intrum-device-fingerprint-id":this.state.uniqueSessionId,"data-intrum-delivery-method":"POST","data-upp-shipping-details":"no","data-upp-customer-ip-address":this.state.userIP,"data-intrum-risk-owner":"IJ","data-intrum-repayment-type":"4","data-upp-customer-cell-phone":t.billingAddress.customer_phone,"data-sign":l})}),console.log("Datatrans.startPayment started"),Datatrans.startPayment({form:"#paymentForm",transactionId:r,opened:function(){console.log("payment-form opened")},loaded:function(){console.log("payment-form loaded")},closed:function(){axios.get("/api/closePaymentWindow?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId,"&totalPrice=").concat(a))},error:function(){console.log("error")}})):"INT1"==this.state.payMethod.paymethoddatatrans&&(""==this.state.userDOB1?(document.getElementById("dob-field1").scrollIntoView(!1),document.getElementById("dob-field1").style.color="red",document.getElementById("dob-field1").style.fontSize="14px"):(this.setState({payForm:(0,y.jsx)("form",{id:"paymentForm","data-merchant-id":p,"data-amount":Math.round(100*a),"data-currency":"CHF","data-paymentmethod":"INT","data-refno":e.data.basketShortcode,"data-refno2":e.data.basketOrderInfoId,"data-upp-customer-gender":s,"data-upp-customer-first-name":t.billingAddress.customer_firstname,"data-upp-customer-last-name":t.billingAddress.customer_lastname,"data-upp-customer-street":t.billingAddress.customer_street,"data-upp-customer-street2":t.billingAddress.customer_number,"data-upp-customer-city":t.billingAddress.customer_city,"data-upp-customer-zip-code":t.billingAddress.customer_zip,"data-upp-customer-language":"de","data-upp-customer-phone":t.billingAddress.customer_phone,"data-upp-customer-email":t.billingAddress.customer_email,"data-language":"de","data-upp-customer-country":this.state.userCountryCode3,"data-upp-customer-id":e.data.basketShortcode,"data-upp-customer-type":"P","data-upp-customer-birth-date":this.state.userDOB1,"data-pmethod":"INT","data-sub_pmethod":"BYJUNO-INVOICE","data-upp-customer-details":"yes","data-upp-customer-name":t.billingAddress.customer_firstname+" "+t.billingAddress.customer_lastname,"data-intrum-device-fingerprint-id":this.state.uniqueSessionId,"data-intrum-delivery-method":"POST","data-upp-shipping-details":"no","data-upp-customer-ip-address":this.state.userIP,"data-intrum-risk-owner":"IJ","data-intrum-repayment-type":"4","data-upp-customer-cell-phone":t.billingAddress.customer_phone,"data-sign":l})}),console.log("Datatrans.startPayment started"),Datatrans.startPayment({form:"#paymentForm",transactionId:r,opened:function(){console.log("payment-form opened")},loaded:function(){console.log("payment-form loaded")},closed:function(){axios.get("/api/closePaymentWindow?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId,"&totalPrice=").concat(a))},error:function(){console.log("error")}}))),"SWB"==this.state.payMethod.paymethoddatatrans)if(""==this.state.userDOB)document.getElementById("dob-field").scrollIntoView(!1),document.getElementById("dob-field").style.color="red",document.getElementById("dob-field").style.fontSize="14px";else{let i=e.data.taxTotalAmount,o=e.data.articleItems,n={merchantId:p,sign:l,uppShippingDetails:"no",refno:"".concat(e.data.basketShortcode),language:"de",hiddenMode:"yes",reqtype:"CAA",currency:"CHF",theme:"DT2015",taxAmount:"".concat(Math.round(100*i)),amount:"".concat(Math.round(100*a)),uppMsgType:"web",uppCustomerDetails:"yes",uppCustomerId:"".concat(e.data.basketShortcode),uppCustomerTitle:"",uppCustomerName:"".concat(t.billingAddress.customer_firstname," ").concat(t.billingAddress.customer_lastname),uppCustomerFirstName:"".concat(t.billingAddress.customer_firstname),uppCustomerLastName:"".concat(t.billingAddress.customer_lastname),uppCustomerType:"P",uppCustomerStreet:"".concat(t.billingAddress.customer_street+" "+t.billingAddress.customer_number),uppCustomerStreet2:"",uppCustomerCity:"".concat(t.billingAddress.customer_city),uppCustomerCountry:"".concat(this.state.userCountryCode3),uppCustomerZipCode:"".concat(t.billingAddress.customer_zip),uppCustomerState:"",uppCustomerPhone:"".concat(t.billingAddress.customer_phone),uppCustomerFax:"",uppCustomerEmail:"".concat(t.billingAddress.customer_email),uppCustomerGender:"".concat(s),uppCustomerBirthDate:"".concat(this.state.userDOB),uppCustomerLanguage:"de",uppCustomerOccurence:"EXISTING",uppCustomerSubscription:"",uppCustomerIpAddress:"".concat(this.state.userIP)};o.forEach(((e,t)=>{n={...n,["uppArticle_"+(t+1)+"_Id"]:"".concat(e.article_id),["uppArticle_"+(t+1)+"_Name"]:"".concat(e.article_desc),["uppArticle_"+(t+1)+"_Description"]:"".concat(e.article_desc),["uppArticle_"+(t+1)+"_Type"]:"goods",["uppArticle_"+(t+1)+"_Quantity"]:"".concat(e.count),["uppArticle_"+(t+1)+"_PriceGross"]:"".concat(Math.round(100*e.price)),["uppArticle_"+(t+1)+"_Price"]:"".concat(Math.round(100*e.price)),["uppArticle_"+(t+1)+"_Tax"]:"7.7",["uppArticle_"+(t+1)+"_PriceWithoutVAT"]:"".concat(Math.round(100*e.priceWithoutVat)),["uppArticle_"+(t+1)+"_TaxAmount"]:"".concat(Math.round(100*e.taxAmount))}})),this.setState({payForm:(0,y.jsx)("form",{id:"paymentForm","data-merchant-id":p,"data-amount":Math.round(100*a),"data-currency":"CHF","data-refno":e.data.basketShortcode,"data-refno2":e.data.basketOrderInfoId,"data-sign":l,"data-paymentmethod":"SWB","data-upp-web-response-method":"POST"})}),console.log("Datatrans.startPayment started"),Datatrans.startPayment({form:"#paymentForm",transactionId:r,params:n,opened:function(){console.log("payment-form opened")},loaded:function(){console.log("payment-form loaded")},closed:function(){axios.get("/api/closePaymentWindow?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId,"&totalPrice=").concat(a))},error:function(){console.log("error")}})}else"SAM"==this.state.payMethod.paymethoddatatrans?(this.setState({payForm:(0,y.jsx)("form",{id:"paymentForm","data-merchant-id":p,"data-amount":Math.round(100*a),"data-currency":"CHF","data-paymentmethod":"SAM","data-refno":e.data.basketShortcode,"data-refno2":e.data.basketOrderInfoId,"data-upp-customer-gender":s,"data-upp-customer-first-name":t.billingAddress.customer_firstname,"data-upp-customer-last-name":t.billingAddress.customer_lastname,"data-upp-customer-street":t.billingAddress.customer_street+", "+t.billingAddress.customer_number,"data-upp-customer-city":t.billingAddress.customer_city,"data-upp-customer-zip-code":t.billingAddress.customer_zip,"data-upp-customer-language":"de","data-upp-customer-phone":t.billingAddress.customer_phone,"data-upp-customer-email":t.billingAddress.customer_email,"data-sign":l})}),Datatrans.startPayment({form:"#paymentForm",transactionId:r,opened:function(){console.log("payment-form opened")},loaded:function(){console.log("payment-form loaded")},closed:function(){axios.get("/api/closePaymentWindow?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId,"&totalPrice=").concat(a))},error:function(){console.log("error")}})):"APL"==this.state.payMethod.paymethoddatatrans?(this.setState({payForm:(0,y.jsx)("form",{id:"paymentForm","data-merchant-id":p,"data-amount":Math.round(100*a),"data-currency":"CHF","data-paymentmethod":"APL","data-refno":e.data.basketShortcode,"data-refno2":e.data.basketOrderInfoId,"data-upp-customer-gender":s,"data-upp-customer-first-name":t.billingAddress.customer_firstname,"data-upp-customer-last-name":t.billingAddress.customer_lastname,"data-upp-customer-street":t.billingAddress.customer_street+", "+t.billingAddress.customer_number,"data-upp-customer-city":t.billingAddress.customer_city,"data-upp-customer-zip-code":t.billingAddress.customer_zip,"data-upp-customer-language":"de","data-upp-customer-phone":t.billingAddress.customer_phone,"data-upp-customer-email":t.billingAddress.customer_email,"data-sign":l})}),Datatrans.startPayment({form:"#paymentForm",transactionId:r,opened:function(){console.log("payment-form opened")},loaded:function(){console.log("payment-form loaded")},closed:function(){axios.get("/api/closePaymentWindow?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId,"&totalPrice=").concat(a))},error:function(){console.log("error")}})):(this.setState({payForm:(0,y.jsx)("form",{id:"paymentForm","data-merchant-id":p,"data-amount":Math.round(100*a),"data-currency":"CHF","data-paymentmethod":this.state.payMethod.paymethoddatatrans,"data-refno":e.data.basketShortcode,"data-refno2":e.data.basketOrderInfoId,"data-upp-customer-gender":s,"data-upp-customer-first-name":t.billingAddress.customer_firstname,"data-upp-customer-last-name":t.billingAddress.customer_lastname,"data-upp-customer-street":t.billingAddress.customer_street+", "+t.billingAddress.customer_number,"data-upp-customer-city":t.billingAddress.customer_city,"data-upp-customer-zip-code":t.billingAddress.customer_zip,"data-upp-customer-language":"de","data-upp-customer-phone":t.billingAddress.customer_phone,"data-upp-customer-email":t.billingAddress.customer_email,"data-sign":l})}),console.log("Datatrans.startPayment started"),Datatrans.startPayment({form:"#paymentForm",transactionId:r,opened:function(){console.log("payment-form opened")},loaded:function(){console.log("payment-form loaded")},closed:function(){axios.get("/api/closePaymentWindow?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId,"&totalPrice=").concat(a))},error:function(){console.log("error")}}))}else"Bitcoin"===this.state.payMethod.method?(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/bitpayPayment?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId)).then((e=>{window.open(e.data.url,"_self")}))):"Stripe"===this.state.payMethod.method?this.loadStripe((()=>{let t=!1;this.stripeHandler=window.StripeCheckout.configure({key:window.stripeKey.key,image:"/images/logo.png",locale:"auto",currency:"EUR",token:a=>{a.id&&(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/stripePayment?tokenId=".concat(a.id,"&basketShortcode=").concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId,"&email=").concat(a.email)).then((e=>{document.getElementById("spinner-box-load").style.display="none",200===e.status&&c.mW.push("/danke")})).catch((t=>{document.getElementById("spinner-box-load").style.display="none",404===t.response.status&&(axios.get("/api/errorOrder?basketOrderInfoId=".concat(e.data.basketOrderInfoId,"&payment_type_id=20")),c.mW.push("/error-payment"))})),t=!0)},closed:()=>{t||axios.get("/api/closePaymentWindow?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId,"&totalPrice=").concat(a))}}),document.querySelector(".stripe-button-el")&&(document.querySelector(".stripe-button-el").style.display="none"),this.stripeHandler.open({amount:100*a,name:"Remarket",allowRememberMe:!1})})):"Vorauskasse/\xdcberweisung"===this.state.payMethod.method?(document.getElementById("spinner-box-load").style.display="block",window.localStorage.setItem("isVorauskasse",!0),axios.get("/api/bankPayment?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId)).then((e=>{document.getElementById("spinner-box-load").style.display="none",window.localStorage.setItem("bankPaymentData",JSON.stringify(e.data)),200===e.status&&c.mW.push("/danke")})).catch((t=>{window.localStorage.removeItem("isVorauskasse"),404===t.response.status&&(axios.get("/api/errorOrder?basketOrderInfoId=".concat(e.data.basketOrderInfoId,"&payment_type_id=19")),c.mW.push("/error-payment"))}))):"PayPal"===this.state.payMethod.method?(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/paypalPayment?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId)).then((e=>{window.open(e.data.link,"_self")}))):"Payrexx"===this.state.payMethod.method?(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/payrexxPayment?paymethodpayrexx=".concat(this.state.payMethod.paymethodpayrexx,"&basketShortcode=").concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId)).then((e=>{window.open(e.data.link,"_self")}))):"payInShop"===this.state.payMethod.method?(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/paymentByCash?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId)).then((e=>{document.getElementById("spinner-box-load").style.display="none",200===e.status&&c.mW.push("/danke")})).catch((t=>{404===t.response.status&&(axios.get("/api/errorOrder?basketOrderInfoId=".concat(e.data.basketOrderInfoId,"&payment_type_id=21")),c.mW.push("/error-payment"))}))):"payByCredits"===this.state.payMethod.method?(document.getElementById("spinner-box-load").style.display="block",axios.post("/api/paymentByCredits",{basketShortcode:e.data.basketShortcode,basketOrderInfoId:e.data.basketOrderInfoId}).then((e=>{document.getElementById("spinner-box-load").style.display="none",200===e.status&&c.mW.push("/danke")})).catch((e=>{document.getElementById("spinner-box-load").style.display="none",404===e.response.status&&c.mW.push("/error-payment")}))):"HeidiPay"===this.state.payMethod.method&&(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/heidipayPayment?basketShortcode=".concat(e.data.basketShortcode,"&basketOrderInfoId=").concat(e.data.basketOrderInfoId)).then((e=>{"string"===typeof e.data.link?window.open(e.data.link,"_self"):console.log(e)})).catch((t=>{200!==t.status&&(document.getElementById("spinner-box-load").style.display="none",axios.get("/api/errorOrder?basketOrderInfoId=".concat(e.data.basketOrderInfoId,"&payment_type_id=108")),c.mW.push("/error-payment"))})))}}})).catch((e=>{let t,a,s,r,i=e.response.data.errors;i&&(i.email&&(t=i.email),i.password&&(a=i.password),i.general&&(r=i.general),i.credits&&(s=i.credits),(t||a)&&($(".personalData h3.title").click().removeClass("answering"),$(window).scrollTop(0))),this.setState({errors:{...this.state.errors,info:t,password:a,general:r},credits:{...this.state.credits,errorCredits:s}}),document.getElementById("spinner-box-load").style.display="none"}))):this.setState({errorNoProducts:"Es muss mindestens ein Produkt dem Warenkorb hinzugef\xfcgt werden"})}}changeCountry(e,t){let{value:a}=e,{currentCountry:s}=this.state.country;s[t]=a,this.setState({country:{...this.state.country,currentCountry:s}}),"li"==e.value?this.setState({userCountryCode3:"LIE"}):"de"==e.value?this.setState({userCountryCode3:"DEU"}):this.setState({userCountryCode3:"CHE"})}changeCheckbox(e){let{inputCheckbox:t}=this.state,{name:a}=e.target;t[a]=!t[a],this.setState({inputCheckbox:t})}addInsuranceToBasket(e,t){e.target.checked?(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/getInsuranceInfo?deviceShortcode=".concat(t)).then((e=>{document.getElementById("spinner-box-load").style.display="none",e.data.productTypeId=501,e.data.deviceShortcode=t;let a=[...this.props.basketData,e.data];this.props.basketActions.changeBasketData(a),this._getPrice(a,this.state.taxValue)})).catch((e=>{document.getElementById("spinner-box-load").style.display="none",this.setState({errors:{...this.state.errors,general:"Kann Versicherungszertifikat nicht erstellen"}})}))):this.handleRemoveFromBasket(501,t)}addInsuranceToBasketCh(e){if(0!==this.state.insuranceChAmount){let t="";60===this.state.insuranceChAmount?t="IDK3VU":120===this.state.insuranceChAmount&&(t="8JXTVN"),""!==t&&(e.target.checked?(document.getElementById("spinner-box-load").style.display="block",axios.get("/api/getInsuranceInfoCh?productShortcode=".concat(t)).then((e=>{document.getElementById("spinner-box-load").style.display="none",e.data.productTypeId=500,e.data.shortcode=t,e.data.price=this.state.insuranceChAmount;let a=[...this.props.basketData,e.data];this.props.basketActions.changeBasketData(a),this._getPrice(a,this.state.taxValue)})).catch((e=>{document.getElementById("spinner-box-load").style.display="none",this.setState({errors:{...this.state.errors,general:"Kann Versicherungszertifikat nicht erstellen"}})}))):(this.handleRemoveFromBasket(500,t),this.setState({insuranceChAmount:0})))}}addCreditsToBasket(){let{currentValue:e}=this.state.credits,t={credits:e,basketData:this.props.basketData};axios.post("/api/validateCredits",t).then((t=>{let{data:a}=t,s={productTypeId:100,price:e},r=[...this.props.basketData,s];this.props.basketActions.changeBasketData(r),this._getPrice(r,this.state.taxValue),this.setState({checkedPayByCredits:!0})})).catch((e=>{let t=e.response.data;this.setState({credits:{...this.state.credits,errorCredits:t}})}))}choosePayMethod(e){if("Payrexx"==e.target.value||"payByCredits"==e.target.value||"payInShop"==e.target.value||"PayPal"==e.target.value||"Vorauskasse/\xdcberweisung"==e.target.value||"Stripe"==e.target.value||"Bitcoin"==e.target.value||"HeidiPay"==e.target.value||"Datatrans"==e.target.value)if("payByCredits"===e.target.value)e.target.checked?this.addCreditsToBasket():this.handleRemoveFromBasket(100);else if("creditsInput"!=e.target.id){let t=e.target.value,a=e.target.getAttribute("data-paymethoddatatrans"),s=e.target.getAttribute("data-paymethodpayrexx");this.setState({payMethod:{...this.state.payMethod,method:t,paymethoddatatrans:a,paymethodpayrexx:s}}),$(".paymentMethod h3.title").addClass("answering")}}chooseShippingMethod(e){let t=e.currentTarget.firstChild.getAttribute("data-value"),{basketData:a}=this.props,s=this.state.shippingMethods.filter((e=>e.name===t)),r=a.filter((e=>11!=e.productTypeId));r.push(s[0]),this.props.basketActions.changeBasketData(r),this.props.basketActions.changeShippingMethod({selected:!0,value:s[0]}),this._getPrice(r,this.state.taxValue),this.setState({choiceShipping:!1})}choosePersonalData(e){let t=e.target.getAttribute("data-position"),a=this.state.autoloadPersonalData.data[t];g.ce.call(this,a),window.localStorage.setItem("userData",JSON.stringify(a))}handleRemoveFromBasket(e,t){let a=this.props.basketData,s=[],r=JSON.parse(window.localStorage.getItem("deadline"));if(11==e)s=a.filter((e=>"11"!=e.productTypeId)),this.props.basketActions.changeShippingMethod({selected:!1,value:{}});else if(10==e||3==e){let r=a.filter((e=>e.shortcode==t));r&&r.length>0&&(window.isGoogleConnection&&this.gtagEnhancedEcommerce(r[0]),s=a.filter((e=>e.shortcode!=t)),10==e&&(s=s.filter((e=>!("TEMP43"==e.shortcode&&e.price==r[0].price)))),3==e&&(s=s.filter((e=>!("CASE43"==e.shortcode&&e.price==r[0].price)))))}else if(999==e)r&&r.couponShortcode==t&&(r.isActive=0,this.setState({deadlineIsActive:!1}),window.localStorage.setItem("deadline",JSON.stringify(r)),setTimeout((()=>{this.setState({deadline:!1}),this.updateCountDown()}),1e3)),s=a.filter((e=>e.shortcode!=t));else if(100==e)s=a.filter((t=>t.productTypeId!=e)),this.setState({checkedPayByCredits:!1});else if(501==e)s=a.filter((e=>e.deviceShortcode!=t));else if(500==e)s=a.filter((e=>e.shortcode!=t));else if(u.W.includes(e)){let e=a.filter((e=>e.shortcode==t));window.isGoogleConnection&&this.gtagEnhancedEcommerce(e[0]),s=a.filter((e=>e.shortcode!=t))}else{let e=a.filter((e=>e.shortcode==t));window.isGoogleConnection&&this.gtagEnhancedEcommerce(e[0]),s=a.filter((e=>e.shortcode!=t))}!s.some((e=>7==e.productTypeId))&&s.some((e=>999==e.productTypeId))&&(s=s.filter((e=>999!=e.productTypeId))),s.some((e=>7==e.productTypeId))||r&&(r&&(r.isActive=0),window.localStorage.setItem("deadline",JSON.stringify(r)),this.setState({deadlineIsActive:!1})),this.props.basketActions.changeBasketData(s),this._getPrice(s,this.state.taxValue)}changeNameField(e){e.persist(),this.inputNameCallback(e)}changeForm(){let e=(0,g.S_)();window.localStorage.setItem("userData",JSON.stringify(e)),this.setState({errorSendForm:null,errors:{...this.state.errors,info:"",password:"",general:""}})}cancelSendByEnter(e){if("Enter"===e.key)return e.preventDefault(),!1}onNoteToggle(e){this.setState({payMethodError:{status:!1,msg:""}}),this.setState({noteShow:"INT"===e.currentTarget.getAttribute("data-paymethoddatatrans")}),this.setState({noteShow1:"INT1"===e.currentTarget.getAttribute("data-paymethoddatatrans")}),this.setState({noteShow:"SWB"===e.currentTarget.getAttribute("data-paymethoddatatrans")}),this.setState({noteShow2:"BNK"===e.currentTarget.getAttribute("data-paymethoddatatrans")}),"SWB"===e.currentTarget.getAttribute("data-paymethoddatatrans")?this.getShippingMethods("SWB"):this.getShippingMethods("Normal")}dobChange(e){if(e){var t=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2);this.setState({userDOB:t})}else this.setState({userDOB:""})}dobChange1(e){if(e){var t=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2);this.setState({userDOB1:t})}else this.setState({userDOB1:""})}insuranceChAmountChange(e){e.persist(),"60"===e.target.dataset.insuranceamount?this.setState({insuranceChAmount:0===this.state.insuranceChAmount||120===this.state.insuranceChAmount?60:0}):"120"===e.target.dataset.insuranceamount&&this.setState({insuranceChAmount:0===this.state.insuranceChAmount||60===this.state.insuranceChAmount?120:0})}validateForm(){let{inputCheckbox:e}=this.state,t=(0,g.S_)();var a={};let s=!0;for(const[r,i]of Object.entries(t.shippingAddress))!1!==e.company||"companyName"!==r?""===i?(s=!1,a[r]={error:!0,msg:""}):"email"!==r||this.validateEmail(i)?"phone"!==r||this.validatePhoneNumber(i)?"number"!==r&&"zip"!==r||this.validateNumeric(i)?a[r]={error:!1,msg:""}:(s=!1,a[r]={error:!0,msg:"Falsches Format"}):(s=!1,a[r]={error:!0,msg:"Falsches Format (mind. 10, max. 15 Zahlen)"}):(s=!1,a[r]={error:!0,msg:"Falsches Format"}):a[r]={error:!1,msg:""};if(!1===e.shippingAddress)for(const[r,i]of Object.entries(t.billingAddress))!1!==e.customerCompanyName||"customer_companyName"!==r?""===i?(s=!1,a[r]={error:!0,msg:""}):"customer_email"!==r||this.validateEmail(i)?"customer_phone"!==r||this.validatePhoneNumber(i)?"customer_number"!==r&&"customer_zip"!==r||this.validateNumeric(i)?a[r]={error:!1,msg:""}:(s=!1,a[r]={error:!0,msg:"Falsches Format"}):(s=!1,a[r]={error:!0,msg:"Falsches Format (mind. 10, max. 15 Zahlen)"}):(s=!1,a[r]={error:!0,msg:"Falsches Format"}):a[r]={error:!1,msg:""};return this.setState({validateError:{...this.state.validateError,...a}}),this.setState({isValidate:s}),s}validateCheck(){let{inputCheckbox:e}=this.state,t=(0,g.S_)(),a=!0;for(const[s,r]of Object.entries(t.shippingAddress))!1===e.company&&"companyName"===s||(""===r?a=!1:("email"!==s||this.validateEmail(r))&&("phone"!==s||this.validatePhoneNumber(r))&&("number"!==s&&"zip"!==s||this.validateNumeric(r))||(a=!1));if(!1===e.shippingAddress)for(const[s,r]of Object.entries(t.billingAddress))!1===e.customerCompanyName&&"customer_companyName"===s||(""===r?a=!1:("customer_email"!==s||this.validateEmail(r))&&("customer_phone"!==s||this.validatePhoneNumber(r))&&("customer_number"!==s&&"customer_zip"!==s||this.validateNumeric(r))||(a=!1));this.setState({isValidate:a})}validateEmail(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}validatePhoneNumber(e){return e.match(/^[\+]?[(]?[0-9]{4}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{3,8}$/im)}validateNumeric(e){return"string"==typeof e&&(!isNaN(e)&&!isNaN(parseFloat(e)))}render(){let{subject:e,tax:t,total:a,country:s,inputCheckbox:r,couponError:o,shippingMethods:n,autoloadPersonalData:d,errors:c,credits:l,domain:p,errorNoProducts:h,showTabs:m,checkedPayByCredits:u,taxValue:g,taxOnlyForVat:b,noteShow:j,noteShow1:v,noteShow2:k,isVorauskasse:f,infoRatings:w,rateData:C}=this.state,{basketData:I,user:D}=this.props;return(0,y.jsxs)("div",{className:"basketWrap",children:[(0,y.jsxs)("div",{className:"container",children:[window.isMobile?(0,y.jsxs)("div",{className:"process-bar",children:[(0,y.jsxs)("div",{className:"process-bar-title",children:["paymentMethod"!==this.props.basketStep&&(0,y.jsx)("img",{loading:"lazy",src:"/images/design/mobile/back-btn-arrow.svg",onClick:this.props.handlerBack,alt:""}),(0,y.jsx)("h3",{children:"Kauf\xfcbersicht"})]}),(0,y.jsxs)("div",{className:"process-items",children:[(0,y.jsxs)("div",{className:"process-item ".concat("paymentMethod"===this.props.basketStep?"step-active":"step-done"),onClick:e=>this.goTab(e,"paymentMethod"),children:[(0,y.jsx)("div",{className:"round"}),(0,y.jsx)("span",{children:"Zahlungsart"})]}),(0,y.jsx)("div",{className:"separator"}),(0,y.jsxs)("div",{className:"process-item ".concat("personalData"===this.props.basketStep?"step-active":"shippingMethod"===this.props.basketStep?"step-done":"step-disable"),onClick:e=>this.goTab(e,"personalData"),children:[(0,y.jsx)("div",{className:"round"}),(0,y.jsx)("span",{children:"Pers\xf6nliche Daten"})]}),(0,y.jsx)("div",{className:"separator"}),(0,y.jsxs)("div",{className:"process-item ".concat("shippingMethod"===this.props.basketStep?"step-active":"step-disable"),onClick:e=>this.goTab(e,"shippingMethod"),children:[(0,y.jsx)("div",{className:"round"}),(0,y.jsx)("span",{children:"Versand"})]})]})]}):"",this.state.errorPay&&(0,y.jsxs)("p",{className:"errorPay",children:["Zahlungsfehler: ",this.state.errorPay]}),I.filter((e=>11!=e.productTypeId)).length>0?(0,y.jsx)(i.Fragment,{children:(0,y.jsx)("form",{action:"#",name:"basketForm",onChange:this.changeForm.bind(this),onSubmit:this.sendForm,onKeyPress:this.cancelSendByEnter.bind(this),children:(0,y.jsxs)("div",{className:"row formWrap",children:[(0,y.jsxs)("div",{className:"col-md-7",id:"accordion",children:[(0,y.jsx)(B,{isVorauskasse:f,credits:l,total:a,userIsLogin:D.isLogin,totalPrice:a,domain:p,shippingMethods:n,choosePayMethod:this.choosePayMethod,checkedPayByCredits:u,changeCreditsInput:this.changeCreditsInput,showTabs:m,handlerNextTab:this.nextTab,handlerShowHideBlocks:this._showHideBlocks,handlerSendForm:this.sendForm,shippingMethod:this.props.shippingMethod,placeDescription:I[0].placeDescription,goToDelivery:this._goToDelivery,changeCheckbox:this.changeCheckbox,onNoteToggle:this.onNoteToggle,dobChange:this.dobChange,dobChange1:this.dobChange1,payMethod:this.state.payMethod,payMethodError:this.state.payMethodError,noteShow:j,noteShow1:v,noteShow2:k}),(0,y.jsx)(N.Z,{country:s,cancelRedirect:this.props.userActions.cancelRedirectToMyAccount,ifErrorPayment:this.state.ifErrorPayment,user:D,error:c,inputCheckbox:r,changeCountry:this.changeCountry,showTabs:m,handlerNextTab:this.nextTab,handlerShowHideBlocks:this._showHideBlocks,handlerSendForm:this.sendForm,total:a,goToPayment:this.goToPaymentMobile,changeCheckbox:this.changeCheckbox,validateError:this.state.validateError,validateForm:this.validateForm,validateCheck:this.validateCheck,isValidate:this.state.isValidate}),(0,y.jsx)(P,{chooseShippingMethod:this.chooseShippingMethod,choiceShipping:this.state.choiceShipping,isVorauskasse:f,credits:l,total:a,userIsLogin:D.isLogin,totalPrice:a,domain:p,shippingMethods:n,checkedPayByCredits:u,changeCreditsInput:this.changeCreditsInput,showTabs:m,handlerNextTab:this.nextTab,handlerShowHideBlocks:this._showHideBlocks,handlerSendForm:this.sendForm,shippingMethod:this.props.shippingMethod,placeDescription:I[0].placeDescription,changeCheckbox:this.changeCheckbox,onNoteToggle:this.onNoteToggle,inputCheckbox:r,error:c,errorNoProducts:h}),(0,y.jsxs)("div",{className:"offer-tab basket-offer-tab",children:[(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("div",{className:"img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/offer9.svg",alt:""})}),(0,y.jsx)("p",{children:"Auf Rechnung in"}),(0,y.jsx)("p",{children:"Raten bezahlen"})]}),(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("div",{className:"img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/offer2.svg",alt:""})}),(0,y.jsx)("p",{children:"1 Jahr Garantie auf Occassionen"}),(0,y.jsx)("p",{children:"2 Jahre auf Neuger\xe4te"})]}),(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("div",{className:"img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/offer10.svg",alt:""})}),(0,y.jsx)("p",{children:"14 Tage"}),(0,y.jsx)("p",{children:"Zufriedenheitsgarantie"})]}),(0,y.jsxs)("div",{className:"item",children:[(0,y.jsx)("div",{className:"img",children:(0,y.jsx)("img",{loading:"lazy",src:"/images/offer4.svg",alt:""})}),(0,y.jsx)("p",{children:"Schnelle"}),(0,y.jsx)("p",{children:"Lieferung"})]})]})]}),(0,y.jsx)(S,{basketData:I,addCreditsToBasket:this.addCreditsToBasket,addInsuranceToBasket:this.addInsuranceToBasket,addInsuranceToBasketCh:this.addInsuranceToBasketCh,credits:l,changeCreditsInput:this.changeCreditsInput,removeFromBasket:this.handleRemoveFromBasket,changeCoupon:this.changeCoupon,triggerChangeCoupon:this.triggerChangeCoupon,couponError:o,user:D,subject:e,tax:t,taxValue:g,taxOnlyForVat:b,total:a,goToCheckoutMobile:this.props.goToCheckout,updateBasketData:this.handleUpdateBasketData,deadline:this.state.deadline,activateCountDownCoupon:this.activateCountDownCoupon,deadlineIsActive:this.state.deadlineIsActive,deadlineExpired:this.state.deadlineExpired,infoRatings:w,rateData:C,insuranceChAmountChange:this.insuranceChAmountChange,insuranceChAmount:this.state.insuranceChAmount})]})})}):(0,y.jsxs)("div",{children:[(0,y.jsx)("h1",{children:"Warenkorb"}),(0,y.jsx)("p",{className:"emptyBasket",children:"Ihr Warenkorb ist noch leer."})]}),this.state.payForm,d.element]}),!window.isMobile&&(0,y.jsx)("div",{className:"similar",children:(0,y.jsxs)("div",{className:"container",children:[(0,y.jsx)(x.Z,{similarItems:this.state.similarItems}),(0,y.jsx)("div",{className:"cb"})]})})]})}}F.defaultProps={};const O=(0,d.$j)((function(e){return{basketData:e.basket.basketData,shippingMethod:e.basket.shippingMethod,user:e.user}}),(function(e){return{basketActions:(0,p.DE)(h,e),userActions:(0,p.DE)(m,e)}}),null,{pure:!1})((0,l.withUserAgent)(F))},67449:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(47313),r=a(39157),i=a(46417);const o=e=>{let{changeCountry:t,country:a,inputCheckbox:o,changeCheckbox:n,ifErrorPayment:d,error:c,user:l,goToPayment:p,cancelRedirect:h,handlerSendSellBasket:m,handlerNextTab:u,handlerShowHideBlocks:g,validateError:x,validateForm:y,validateCheck:b,isValidate:j}=e;const[N,v]=(0,s.useState)(!1);(0,s.useEffect)((()=>{b()}),[]);const k=()=>{v(!0),setTimeout((()=>{v(!1)}),5500),y()&&(window.isMobile?p():u())};return(0,i.jsxs)("div",{className:"personalData",children:[(0,i.jsxs)("h3",{className:"title",onClick:e=>g(e),"data-step":"personalData",children:[(0,i.jsx)("span",{className:"num",children:"2"}),(0,i.jsx)("span",{className:"text",children:"Pers\xf6nliche Daten"}),(0,i.jsx)("span",{className:"arrow",children:(0,i.jsx)("i",{className:"fa fa-angle-down","aria-hidden":"true"})})]}),(0,i.jsxs)("div",{className:"wrapperItemBasket",children:[(0,i.jsxs)("div",{className:"billingForm",children:[(0,i.jsxs)("div",{className:"topPersonalData",children:[!l.isLogin&&(0,i.jsxs)("div",{className:"login-buttons buy-form",children:[(0,i.jsx)("div",{className:"buttons-row",children:window.isMobile&&(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",onChange:n,name:"asGuest",className:"checkbox-login-as-guest",defaultChecked:!0}),(0,i.jsx)("span",{className:"check"}),"Als Gast bestellen - hierbei wird kein Benutzeraccount erstellt"]})}),!window.isMobile&&(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",onChange:n,name:"asGuest",className:"checkbox-login-as-guest",defaultChecked:!0}),(0,i.jsx)("span",{className:"check"}),"Als Gast bestellen - hierbei wird kein Benutzeraccount erstellt"]})]}),(0,i.jsxs)("div",{className:"form-subheading",children:[(0,i.jsx)("img",{loading:"lazy",src:"/images/basket-form1.svg",alt:""}),(0,i.jsx)("h3",{children:"Lieferadresse"})]}),(0,i.jsxs)("div",{className:"wrapLabel",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:x.gender.error?!0===N?"genderArea genderError purple":"genderArea genderError":"genderArea",children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",name:"gender",value:"Herr",onClick:()=>y(),required:!0}),(0,i.jsx)("span",{}),"Herr"]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",name:"gender",value:"Frau",onClick:()=>y(),required:!0}),(0,i.jsx)("span",{}),"Frau"]})]}),(0,i.jsx)("span",{className:"errorText",children:x.gender.msg})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",name:"company",checked:!0===o.company?"true":null,onChange:n}),(0,i.jsx)("span",{className:"check"}),"Firma"]})]}),!l.isLogin&&(0,i.jsx)("span",{className:"loginForSellForm",onClick:function(){h(!0),document.getElementById("op").checked=!0,$(".login-box-wrapper").css({display:"block"})},children:"Sie haben bereits ein Konto? Jetzt einloggen"})]}),(0,i.jsx)("div",{className:o.company?" rowInputs":" rowInputs hide",children:(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"companyName",className:x.companyName.error?!0===N?"error purple":"error":null,placeholder:"Firma",onChange:()=>y(),required:o.company}),(0,i.jsx)("span",{className:"placeholder",children:"Firma"}),(0,i.jsx)("span",{className:"errorText",children:x.companyName.msg})]})}),(0,i.jsx)("div",{className:"rowInputs-wrapper",children:(0,i.jsxs)("div",{className:" rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"firstname",className:x.firstname.error?!0===N?"error purple":"error":null,placeholder:"Vorname",onChange:()=>y(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Vorname"}),(0,i.jsx)("span",{className:"errorText",children:x.firstname.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"lastname",className:x.lastname.error?!0===N?"error purple":"error":null,placeholder:"Nachname",onChange:()=>y(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Nachname"}),(0,i.jsx)("span",{className:"errorText",children:x.lastname.msg})]})]})}),(0,i.jsx)("div",{className:"rowInputs-wrapper",children:(0,i.jsxs)("div",{className:"rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,i.jsx)("input",{type:"email",name:"email",className:c.info||x.email.error?!0===N?"error purple":"error":null,placeholder:"E-Mail",onChange:()=>y(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"E-Mail"}),(0,i.jsx)("span",{className:"errorText",children:c.info?c.info:x.email.error?x.email.msg:""})]}),(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"tel",name:"phone",className:x.phone.error?!0===N?"error purple":"error":null,placeholder:"Telefon (mobil)",minLength:"10",onChange:()=>y(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Telefon (mobil)"}),(0,i.jsx)("span",{className:"errorText",children:x.phone.msg})]})]})}),(0,i.jsxs)("div",{className:"rowInputs-wrapper",children:[(0,i.jsxs)("div",{className:"personalDataAddress rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,i.jsx)("input",{type:"text",name:"street",className:x.street.error?!0===N?"error purple":"error":null,id:"route",placeholder:"Strasse",onChange:()=>y(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Strasse"}),(0,i.jsx)("span",{className:"errorText",children:x.street.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,i.jsx)("input",{type:"text",name:"number",className:x.number.error?!0===N?"error purple":"error":null,id:"street_number",placeholder:"Nr.",onChange:()=>y(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Nr."}),(0,i.jsx)("span",{className:"errorText",children:x.number.msg})]})]}),(0,i.jsxs)("div",{className:"personalDataCity rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,i.jsx)("input",{type:"text",name:"zip",className:x.zip.error?!0===N?"error purple":"error":null,placeholder:"PLZ",id:"postal_code",onChange:()=>y(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"PLZ"}),(0,i.jsx)("span",{className:"errorText",children:x.zip.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,i.jsx)("input",{type:"text",name:"city",className:x.city.error?!0===N?"error purple":"error":null,placeholder:"Stadt",id:"locality",onChange:()=>y(),required:!0}),(0,i.jsx)("span",{className:"placeholder",children:"Stadt"}),(0,i.jsx)("span",{className:"errorText",children:x.city.msg})]})]})]}),(0,i.jsxs)("div",{className:"select",children:[!a.countriesList.some((e=>e.value===a.currentCountry.inputCountry.toLowerCase()))&&(0,i.jsx)("input",{className:"requiredSelect",type:"text",required:!0}),(0,i.jsx)(r.ZP,{placeholder:"Land",value:a.currentCountry.inputCountry.toLowerCase(),name:"inputCountry",clearable:!1,options:a.countriesList,searchable:!1,required:!0,onChange:e=>t(e,"inputCountry")}),(0,i.jsx)("span",{className:"placeholder",children:"Ausw\xe4hlen"})]}),!l.isLogin&&!o.asGuest&&(0,i.jsxs)("div",{className:"inputFullWidth rowInputs",children:[(0,i.jsx)("input",{type:"password",name:"password",placeholder:"Password (min. 8 Zeichen + min. 1 Nr. )",className:c.password?"error":null,onChange:function(e){let{value:t}=e.target;/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,32}$/.test(t.trim())?$(e.target).parents(".inputFullWidth").find(".statusBarPassword").css({background:"#00cb94"}):$(e.target).parents(".inputFullWidth").find(".statusBarPassword").css({background:"#ff0000"})},required:!d}),(0,i.jsx)("span",{className:"errorText",children:c.password}),(0,i.jsx)("div",{className:"statusBarPassword"})]}),(0,i.jsxs)("label",{className:"shippingAddressCheck",children:[(0,i.jsx)("input",{type:"checkbox",name:"shippingAddress",checked:!0===o.shippingAddress,onChange:n}),(0,i.jsx)("span",{})," Diese Lieferadresse auch als Rechnungsadresse benutzen"]})]}),(0,i.jsxs)("div",{className:!0===o.shippingAddress?"hide shippingForm":"shippingForm",children:[(0,i.jsxs)("div",{className:"form-subheading",children:[(0,i.jsx)("img",{loading:"lazy",src:"/images/basket-form2.svg",alt:""}),(0,i.jsx)("h3",{children:"Rechnungsadresse"})]}),(0,i.jsx)("div",{className:"topPersonalData",children:(0,i.jsxs)("div",{className:"wrapLabel",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:x.customer_gender.error?!0===N?"genderArea genderError purple":"genderArea genderError":"genderArea",children:[(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",name:"customer_gender",value:"Herr",onClick:()=>y(),required:!o.shippingAddress}),(0,i.jsx)("span",{}),"Herr"]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"radio",name:"customer_gender",value:"Frau",onClick:()=>y(),required:!o.shippingAddress}),(0,i.jsx)("span",{}),"Frau"]})]}),(0,i.jsx)("span",{className:"errorText",children:x.customer_gender.msg})]}),(0,i.jsxs)("label",{children:[(0,i.jsx)("input",{type:"checkbox",name:"customerCompanyName",value:"1",checked:!0===o.customerCompanyName?"true":null,onClick:n}),(0,i.jsx)("span",{className:"check"}),"Firma"]})]})}),(0,i.jsx)("div",{className:o.customerCompanyName?"rowInputs":"rowInputs hide",children:(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"customer_companyName",className:x.customer_companyName.error?!0===N?"error purple":"error":null,placeholder:"Firma",onChange:()=>y(),required:o.customerCompanyName}),(0,i.jsx)("span",{className:"placeholder",children:"Firma"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_companyName.msg})]})}),(0,i.jsx)("div",{className:"rowInputs-wrapper",children:(0,i.jsxs)("div",{className:"rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"customer_firstname",className:x.customer_firstname.error?!0===N?"error purple":"error":null,placeholder:"Vorname",onChange:()=>y(),required:!o.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Vorname"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_firstname.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"text",name:"customer_lastname",className:x.customer_lastname.error?!0===N?"error purple":"error":null,placeholder:"Nachname",onChange:()=>y(),required:!o.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Nachname"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_lastname.msg})]})]})}),(0,i.jsx)("div",{className:"rowInputs-wrapper",children:(0,i.jsxs)("div",{className:"rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,i.jsx)("input",{type:"email",name:"customer_email",className:c.info||x.customer_email.error?!0===N?"error purple":"error":null,placeholder:"E-Mail",onChange:()=>y(),required:!o.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"E-Mail"}),(0,i.jsx)("span",{className:"errorText",children:c.info?c.info:""!==x.customer_email.msg?x.customer_email.msg:""})]}),(0,i.jsxs)("div",{className:"input-wrapper",children:[(0,i.jsx)("input",{type:"tel",name:"customer_phone",className:x.customer_phone.error?!0===N?"error purple":"error":null,placeholder:"Telefon (mobil)",onChange:()=>y(),required:!o.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Telefon (mobil)"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_phone.msg})]})]})}),(0,i.jsxs)("div",{className:"rowInputs-wrapper",children:[(0,i.jsxs)("div",{className:"personalDataAddress rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,i.jsx)("input",{type:"text",name:"customer_street",id:"customer_route",className:x.customer_street.error?!0===N?"error purple":"error":null,placeholder:"Strasse",onChange:()=>y(),required:!o.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Strasse"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_street.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,i.jsx)("input",{type:"text",name:"customer_number",id:"customer_street_number",className:x.customer_number.error?!0===N?"error purple":"error":null,placeholder:"Nr.",onChange:()=>y(),required:!o.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Nr."}),(0,i.jsx)("span",{className:"errorText",children:x.customer_number.msg})]})]}),(0,i.jsxs)("div",{className:"personalDataCity rowInputs",children:[(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,i.jsx)("input",{type:"text",name:"customer_zip",className:x.customer_zip.error?!0===N?"error purple":"error":null,placeholder:"PLZ",id:"customer_postal_code",onChange:()=>y(),required:!o.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"PLZ"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_zip.msg})]}),(0,i.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,i.jsx)("input",{type:"text",name:"customer_city",className:x.customer_city.error?!0===N?"error purple":"error":null,placeholder:"Stadt",id:"customer_locality",onChange:()=>y(),required:!o.shippingAddress}),(0,i.jsx)("span",{className:"placeholder",children:"Stadt"}),(0,i.jsx)("span",{className:"errorText",children:x.customer_city.msg})]})]})]}),(0,i.jsxs)("div",{className:"select",children:[!a.countriesList.some((e=>e.value===a.currentCountry.customer_inputCountry.toLowerCase()))&&!0!==o.shippingAddress&&(0,i.jsx)("input",{className:"requiredSelect",type:"text",required:!0}),(0,i.jsx)(r.ZP,{placeholder:"Ausw\xe4hlen...",value:a.currentCountry.customer_inputCountry.toLowerCase(),name:"customer_inputCountry",clearable:!1,options:a.countriesList,searchable:!1,onChange:e=>t(e,"customer_inputCountry")}),(0,i.jsx)("span",{className:"placeholder",children:"Ausw\xe4hlen"})]})]}),(0,i.jsxs)("div",{className:"basketMobileBottom",children:[(0,i.jsxs)("div",{className:"text-right button-row",children:[!m&&(0,i.jsxs)("button",{type:"button",className:j?"basketSubmit btn button-pulse":"basketSubmit btn",onClick:()=>k(),children:["Weiter",(0,i.jsx)("span",{children:(0,i.jsx)("img",{loading:"lazy",src:"images/arrow.svg",alt:""})})]}),m&&(0,i.jsxs)("button",{type:"submit",className:j?"basketSubmit btn button-pulse":"basketSubmit btn",onSubmit:m,children:["Absenden",(0,i.jsx)("span",{children:(0,i.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]}),window.isMobile&&(0,i.jsx)("div",{className:"toPaymentWrap",children:(0,i.jsxs)("button",{className:j?"btn toPayment button-pulse":"btn toPayment",type:"button",onClick:()=>k(),children:["Weiter",(0,i.jsx)("span",{children:(0,i.jsx)("img",{loading:"lazy",src:"images/arrow.svg",alt:""})})]})})]})]})]})};o.defaultProps={};const n=o},22667:(e,t,a)=>{a.d(t,{Z:()=>o});var s=a(47313),r=a(46417);class i extends s.Component{constructor(e){super(e),this.state={}}componentDidMount(){const e=document.querySelector(".addToBasketEffect"),{startPosition:t}=this.props,a=this.getEndPosition();e.style.top=t.top+"px",e.style.left=t.left+"px",setTimeout((()=>{e.style.transition="all 2s",e.style.top=a.top-20+"px",e.style.left=a.left-19+"px",e.style.transform="scale(.3)"}),0)}getEndPosition(){if("kaufen"!==this.props.basketType)return $(".cart-total-verkaufen").offset();let e=$(".cart-total-kaufen").offset();if(0==e.top&&0==e.left){e=$($(".cart-total-kaufen")[1]).offset()}return e}render(){return(0,r.jsx)("div",{className:"addToBasketEffect",children:(0,r.jsx)("img",{loading:"lazy",src:this.props.image,alt:""})})}}i.defaultProps={};const o=i},69947:(e,t,a)=>{a.d(t,{Z:()=>h});var s=a(47313),r=a(78081),i=a(72231),o=a(44021),n=a(72905),d=a(73815),c=a(22667),l=a(46417);class p extends s.Component{constructor(e){super(e),this.gtagEnhancedEcommerce=(e,t)=>{let a=e.criterias.find((e=>"manufacturer"===e.id)).values,s=a.length?a[0].name:"",r=[{id:e.shortcode,name:e.descriptionLong||e.model||"",list_name:"Kaufen",quantity:1,brand:s,price:e.discountPrice||e.price,category:e.categoryName}];if("select_content"==t){gtag("event",t,{content_type:"product",items:r});let a={category:e.categoryName};window.localStorage.setItem("gtag",JSON.stringify(a))}else gtag("event",t,{items:r})},this.clickOnLink=(e,t)=>{"BUTTON"===e.target.tagName?e.preventDefault():window.isGoogleConnection&&this.gtagEnhancedEcommerce(t,"select_content")},this.state={},this.mapSimilarItems=this.mapSimilarItems.bind(this),this.addModelToBasket=this.addModelToBasket.bind(this)}addModelToBasket(e,t){let a=e.target.getAttribute("data-status"),{basketData:s}=this.props,r=null,{accessoriesDetailPage:o}=this.props,n=o?3:7;r=s.every((e=>e.id!=t.id))?[...s,t]:s.filter((e=>e.shortcode!=t.shortcode&&e.productTypeId==n)),this.props.basketActions.changeBasketData(r),"out"===a&&(window.isGoogleConnection&&this.gtagEnhancedEcommerce(t,"add_to_cart"),window.isMobile?i.mW.push("/warenkorb"):(this.props.basketActions.basketAddEffect((0,l.jsx)(c.Z,{startPosition:$(e.target).offset(),image:t.colorImage,basketType:"kaufen"})),setTimeout((()=>{i.mW.push("/warenkorb"),this.props.basketActions.basketAddEffect(null)}),2e3)))}mapSimilarItems(e,t){let a="",{accessoriesDetailPage:s}=this.props;if(s){let t=e.model.split(" ").join("-").toLowerCase().replace(/\//g,"--"),s=e.deviceName.toLowerCase().replace(/ /g,"-");a="/kaufen/detail/zubehoer/".concat(s,"/").concat(t,"/").concat(e.shortcode)}else{let t=e.model.split(" ").join("-").toLowerCase(),s=e.color.toLowerCase()||"color",r=e.capacity.toLowerCase()||"capacity",i=e.deviceName.replace(/ /g,"-").toLowerCase();a="/kaufen/detail/".concat(i,"/").concat(t,"/").concat(r,"/").concat(s,"/").concat(e.shortcode)}return(0,l.jsx)("div",{className:"col-md-3 col-sm-6",children:(0,l.jsx)("div",{className:"itemModelWrap",children:(0,l.jsxs)(i.rU,{to:a,onClick:t=>this.clickOnLink(t,e),children:[(0,l.jsxs)("div",{style:{width:"100%"},children:[(0,l.jsx)("div",{className:"image",children:(0,l.jsx)("img",{loading:"lazy",src:e.colorImage||e.deviceImages.mainImg.src,alt:""})}),(0,l.jsxs)("p",{className:"modelName",children:[e.model,e.extendedTitle&&" (".concat(e.extendedTitle,")")]}),!s&&(0,l.jsx)("div",{children:(0,l.jsxs)("span",{className:"modelValues",children:[(0,l.jsxs)("span",{children:[e.capacity,e.capacityImage&&(0,l.jsx)("img",{loading:"lazy",src:e.capacityImage,alt:""})]}),(0,l.jsxs)("span",{children:[e.color,"\xa0",e.colorCode&&(0,l.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}})]})]})}),!s&&(0,l.jsxs)("p",{className:"condition",children:["Zustand: ",(0,l.jsx)("b",{children:e.condition})]})]}),(0,l.jsx)("div",{className:"bottomRow",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-xs-6 price",children:[(0,l.jsx)("p",{className:"price-head",children:"Preis"}),e.discountPrice&&(0,l.jsxs)("p",{className:"price-value discount-price",children:[e.discountPrice," ",window.currencyValue]}),(0,l.jsxs)("p",{className:e.discountPrice?"price-value old-price":"price-value",children:[e.price," ",window.currencyValue]})]}),(0,l.jsx)("div",{className:"col-xs-6 text-right",children:(0,l.jsx)("button",{"data-status":this.props.basketData.some((t=>t.id===e.id))?"in":"out",className:"btn addToBasket",onClick:t=>this.addModelToBasket(t,e)})})]})})]},t)})},t)}render(){let{similarItems:e}=this.props;return(0,l.jsx)("div",{children:e.length>0&&(0,l.jsxs)("div",{className:"listSimilarItems",children:[(0,l.jsx)("h2",{className:"tag",children:"Weitere Produkte"}),(0,l.jsx)("h2",{className:"head",children:"Folgendes k\xf6nnte Sie auch interessieren"}),(0,l.jsx)("div",{className:"row wrapItems",children:window.isMobile?(0,l.jsx)(o.Z,{dots:!0,arrows:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,children:e.map(this.mapSimilarItems)}):e.map(this.mapSimilarItems)})]})})}}p.defaultProps={accessoriesDetailPage:!1};const h=(0,r.$j)((function(e){return{basketData:e.basket.basketData}}),(function(e){return{basketActions:(0,n.DE)(d,e)}}))(p)},42513:(e,t,a)=>{a.d(t,{W:()=>s});const s=[3,4,5,9,10]}}]);