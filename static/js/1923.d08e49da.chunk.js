"use strict";(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[1923],{22667:(e,s,t)=>{t.d(s,{Z:()=>r});var i=t(47313),n=t(46417);class a extends i.Component{constructor(e){super(e),this.state={}}componentDidMount(){const e=document.querySelector(".addToBasketEffect"),{startPosition:s}=this.props,t=this.getEndPosition();e.style.top=s.top+"px",e.style.left=s.left+"px",setTimeout((()=>{e.style.transition="all 2s",e.style.top=t.top-20+"px",e.style.left=t.left-19+"px",e.style.transform="scale(.3)"}),0)}getEndPosition(){if("kaufen"!==this.props.basketType)return $(".cart-total-verkaufen").offset();let e=$(".cart-total-kaufen").offset();if(0==e.top&&0==e.left){e=$($(".cart-total-kaufen")[1]).offset()}return e}render(){return(0,n.jsx)("div",{className:"addToBasketEffect",children:(0,n.jsx)("img",{src:this.props.image,alt:""})})}}a.defaultProps={};const r=a},47274:(e,s,t)=>{t.d(s,{Z:()=>h});var i=t(47313),n=t(72231),a=t(12279),r=t.n(a),o=t(86473),l=t.n(o),c=t(46417);class d extends i.Component{constructor(e){super(e),this.renderSuggestion=e=>{let{pathname:s}=this.props.location,{value:t}=this.state,n="";if(e.modelName.toLowerCase().indexOf(t.toLowerCase())>=0){let a=e.modelName.toLowerCase().trim().indexOf(t.trim().toLowerCase()),r=e.modelName.slice(0,a);return t&&32===t.split("")[t.length-1].charCodeAt()&&(n="addPadding"),r+='<span class="searchText">'+e.modelName.slice(a,a+t.length)+"</span>",r+=e.modelName.slice(a+t.length),(0,c.jsxs)(i.Fragment,{children:["/"===s?(0,c.jsx)("img",{className:"verkaufen-search-img",src:e.image,alt:e.modelName}):null,(0,c.jsx)("span",{className:n,dangerouslySetInnerHTML:{__html:r}})]})}},this.onChange=(e,s)=>{let{newValue:t}=s;this.setState({value:t})},this.onSuggestionsFetchRequested=e=>{let{value:s}=e;this.debouncedLoadSuggestions(s)},this.onSuggestionSelected=(e,s)=>{let{suggestion:t}=s;axios.get("/api/searchSellModelsInfo?modelId=".concat(t.modelId)).then((e=>{this.props.setResults(e.data)})).catch((e=>{if(404===e.response.status){let e=window.isMobile?".invalidModel":".invalidModel .wrap";$(".invalidModel").css({display:"block"}),setTimeout((()=>$(e).css({opacity:"1"})),500),setTimeout((()=>{$(e).css({opacity:"0"}),setTimeout((()=>$(".invalidModel").css({display:"none"})),2500)}),5e3)}}))},this.onSuggestionsClearRequested=()=>{},this.state={value:"",suggestions:[]},this.debouncedLoadSuggestions=r()(this.loadSuggestions,1e3)}loadSuggestions(e){axios.get("/api/searchSellModels?needle=".concat(e)).then((e=>{this.setState({suggestions:e.data.results})}))}render(){const{value:e,suggestions:s}=this.state;let{pathname:t}=this.props.location,i={};this.state.suggestions.length>0&&(i=this.state.suggestions[0]);const n={placeholder:this.props.placeHolder||"Modell suchen",value:e,onChange:this.onChange},{name:a}=this.props.option,{showButton:r}=this.props,o={right:window.isMobile?"":"45%"};return window.isMobile?(0,c.jsxs)("section",{className:"row search-input-block phone-search-section d-none",style:{display:"flex",justifyContent:"space-around"},children:[(0,c.jsxs)("div",{className:"searchBarBeta",style:a&&"Model"===a?o:{},children:[null,(0,c.jsx)(l(),{suggestions:s,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:u,renderSuggestion:this.renderSuggestion,highlightFirstSuggestion:!0,inputProps:n}),(0,c.jsx)("div",{className:"invalidModel",children:(0,c.jsx)("div",{className:"wrap",children:"/"===t?(0,c.jsx)("p",{children:"Dieses Modell konnte nicht gefunden werden"}):(0,c.jsx)("p",{children:"Leider kaufen wir dieses Modell nicht mehr an"})})})]}),r&&(0,c.jsx)("div",{className:"lable verkaufen-search",onClick:e=>this.onSuggestionSelected(e,{suggestion:i})})]}):(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"searchBarBeta",style:a&&"Model"===a?o:{},children:[null,(0,c.jsx)(l(),{suggestions:s,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:u,renderSuggestion:this.renderSuggestion,highlightFirstSuggestion:!0,inputProps:n}),(0,c.jsx)("div",{className:"invalidModel",children:(0,c.jsx)("div",{className:"wrap",children:"/"===t?(0,c.jsx)("p",{children:"Dieses Modell konnte nicht gefunden werden"}):(0,c.jsx)("p",{children:"Leider kaufen wir dieses Modell nicht mehr an"})})})]}),r&&(0,c.jsx)("div",{className:"lable verkaufen-search",onClick:e=>this.onSuggestionSelected(e,{suggestion:i}),children:"PREIS BERECHNEN"})]})}}d.defaultProps={};const h=(0,n.EN)(d),u=e=>e.modelName},41923:(e,s,t)=>{t.r(s),t.d(s,{VerkaufenBeta:()=>ee,calculatePrice:()=>te,default:()=>se});var i=t(47313),n=t(72231),a=t(77115),r=t.n(a),o=t(51426),l=t(46417);const c=e=>{let{type:s,typeButton:t,question:i,values:a,handleClick:r,name:o,indexOfCriteria:c,userAnswers:h,selectedAnswers:u,changeUserAnswerMultiply:m,criteriaId:p,toggleInfoAboutCondition:g}=e;("0"+(new Date).getHours()).slice(-2),("0"+(new Date).getMinutes()).slice(-2);return(0,l.jsx)("div",{className:"userAnswers text-center",children:"text"===s?(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsx)("p",{children:i})})}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"col-md-12 mobileScrollY",children:"Defects"===o?(0,l.jsx)("div",{className:"wrapUserAnswers",children:a.map((function(e,s){let i="";return i=u[o]&&u[o].some((s=>s.id==e.id))?"itemValueClientQuestion activeAnswer":"itemValueClientQuestion",(0,l.jsx)(n.rU,{to:"/verkaufen/".concat(d(e,o,t,u)),className:"verkaufenPageAnswers-defects",children:(0,l.jsxs)("p",{onClick:()=>m(o,e),className:i,children:[e["description-short"],(0,l.jsx)("br",{})]})},s)}))}):2==t?(0,l.jsxs)("select",{onChange:function(e){let{value:s}=e.target,i=a.filter((e=>e.name==s));r(o,i[0],c),n.mW.push("/verkaufen/".concat(d(i[0],o,t,u)))},value:"Choose answer",children:[(0,l.jsx)("option",{value:"Choose answer",children:"Choose answer"}),function(e){let s=[];return e.map(((e,t)=>{s.push((0,l.jsx)("option",{value:e.name,children:e.name},t))})),s}(a)]}):(0,l.jsxs)("div",{className:"wrapUserAnswers",children:[a.map((function(e,s){if(e.name){let s="";return s=u[o]&&u[o].some((s=>s.id==e.id))?"itemValueClientQuestion activeAnswer":"itemValueClientQuestion","Device"===o?(0,l.jsx)(n.rU,{to:"/verkaufen/".concat(d(e,o,t,u)),className:"verkaufenPageAnswers",children:(0,l.jsxs)("p",{onClick:()=>r(o,e,c),className:s,children:[e.image&&(0,l.jsx)("img",{src:e.image,className:"imgDevice"}),e.name]})},e.id):"Model"===o?(0,l.jsx)(n.rU,{to:"/verkaufen/".concat(d(e,o,t,u)),className:"verkaufenPageAnswers",children:(0,l.jsxs)("p",{onClick:()=>r(o,e,c),className:s,children:[e.name,e.nameExt?" (".concat(e.nameExt,")"):null]})},e.id):(0,l.jsx)(n.rU,{to:"/verkaufen/".concat(d(e,o,t,u)),className:"verkaufenPageAnswers",children:(0,l.jsxs)("p",{onClick:3==t?()=>r(o,e,c,p):()=>m(o,e,t),className:s,children:[e.name,16!=p&&e.image&&(0,l.jsx)("img",{src:e.image,className:"imgCriteria"}),e.colorCode&&(0,l.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}})]})},e.id)}})),("Condition"===o||2==p||4==p||5==p)&&(0,l.jsx)("img",{className:"img-question",onClick:()=>g(p),src:"/images/design/question_condition.svg",alt:""})]})}),1==t&&"Defects"!==o&&(0,l.jsx)(n.rU,{to:"/verkaufen/".concat(d(null,o,t,u)),children:(0,l.jsxs)("button",{className:"btn",onClick:()=>r(o,null,c,p),children:["Weiter",(0,l.jsx)("span",{children:(0,l.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})}),1==t&&"Defects"===o&&(0,l.jsxs)("button",{className:"btn",onClick:()=>{u[o]&&u[o].length>0&&r(o,null,c,p)},children:["Weiter",(0,l.jsx)("span",{children:(0,l.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]})})};c.defaultProps={};function d(e,s,t,i){let n="",a={...i};for(let r in a)"image"!==r&&(a[r]=[...a[r]],a[r].forEach(((e,s)=>a[r][s]={...e})));if("Device"===s)for(let r in a)"Device"!==r&&delete a[r];if("Brand"===s)for(let r in a)"Device"!==r&&delete a[r];if("Submodel"===s)for(let r in a)"Device"!==r&&"Brand"!==r&&delete a[r];if("Model"===s)for(let r in a)"Device"!==r&&"Brand"!==r&&"Submodel"!==r&&delete a[r];if("Condition"===s)for(let r in a)"Device"!==r&&"Brand"!==r&&"Model"!==r&&"Submodel"!==r&&delete a[r];a[s]?3==t||2==t?(a[s]=[],a[s].push(e)):e&&(a[s].some((s=>s.id==e.id))?a[s]=a[s].filter((s=>s.id!=e.id)):a[s].push(e)):(a[s]=[],e&&a[s].push(e));for(let r in a){let e="";switch(r){case"Condition":e="allgemeiner-zustand";break;case"Model":case"Device":case"Brand":e=a[r][0].name;break;case"Submodel":e="sub-"+a[r][0].name;break;case"Defects":e="defects";break;default:e=r}"image"!==r&&(a[r].length>0?a[r].forEach(((s,t)=>{0===t?1===a[r].length?n+="".concat(e.replace(/ /g,"-").toLowerCase(),"-").concat(s.id,"/"):n+="".concat(e.replace(/ /g,"-").toLowerCase(),"-").concat(s.id):t===a[r].length-1?n+=",".concat(s.id,"/"):n+=",".concat(s.id)})):n+="".concat(e.replace(/ /g,"-").toLowerCase(),"-leer/"))}return n}var h=t(23320),u=t(44251),m=t.n(u);class p extends i.Component{constructor(e){super(e),this.sendCouponForm=e=>{e.preventDefault();let s,t,i,n=null,{name:a}=e.target;a.includes("linkByEmail")?(s=new FormData(document.querySelector("form[id='linkByEmail-".concat(this.props.id,"']"))),t="email",i=document.querySelector(".couponEmail").innerHTML):(s=new FormData(document.querySelector("form[id='linkBySms-".concat(this.props.id,"']"))),t="phone",i=document.querySelector(".couponSMS").innerText),s.append("type",t),s.append("message",i),n="email"==t?document.querySelector("form[name='linkByEmail-".concat(this.props.id,"']")):document.querySelector("form[name='linkBySms-".concat(this.props.id,"']")),document.getElementById("spinner-box-load").style.display="block",axios.post("/api/shareLink",s).then((e=>{document.getElementById("spinner-box-load").style.display="none",n.parentNode.classList.remove("active"),a.includes("linkByEmail")?(this.setState({successMsg:"Die E-Mail wurde erfolgreich versendet"}),$(".successLinkMessage").fadeIn()):(this.setState({successMsg:"Die SMS wurde erfolgreich versendet"}),$(".successLinkMessage").fadeIn())}))},this.clickButton=e=>{let s="";s="email"===e?document.querySelector("form[name='linkByEmail-".concat(this.props.id,"']")):document.querySelector("form[name='linkBySms-".concat(this.props.id,"']")),-1==s.parentNode.className.search("active")?s.parentNode.classList.add("active"):s.parentNode.classList.remove("active")},this.state={userData:{number:""},successMsg:""},this.clickCheckbox=this.clickCheckbox.bind(this),this._setDataFields=this._setDataFields.bind(this),this.changePhoneNumber=this.changePhoneNumber.bind(this),this.sendForm=this.sendForm.bind(this)}componentWillReceiveProps(e){e.user.data!==this.props.user.data&&e.user.data&&this._setDataFields(e.user.data),e.user.isLogin!==this.props.user.isLogin&&!1===e.user.isLogin&&[...document.querySelectorAll('input[name="email"], input[name="number"]')].forEach((e=>e.value=""))}componentDidMount(){[...document.querySelectorAll(".textarea")].forEach((e=>e.setAttribute("contentEditable",!0))),this.props.user.isLogin&&this.props.user.data&&this._setDataFields(this.props.user.data)}changePhoneNumber(e){this.setState({userData:{...this.state.userData,number:e}})}_setDataFields(e){let s=e.systemAddress.email,t=e.systemAddress.phone,i=document.forms["linkByEmail-"+this.props.id];0===t.indexOf("0041")&&(t="+"+t.slice(2)),i.emailFrom&&(i.emailFrom.value=s),this.setState({userData:{...this.state.userData,number:t}})}sendForm(e){e.preventDefault();let s,t,i=null,{name:n}=e.target,a=0;n.includes("linkByEmail")?(s=new FormData(document.forms["linkByEmail-"+this.props.id]),t="email",i=$(".textarea.email").html(),a=$(e.target).closest(".itemBtn").position().left):(s=new FormData(document.forms["linkBySms-"+this.props.id]),t="phone",i=document.querySelector(".textarea.phone").innerText,a=$(e.target).closest(".itemBtn").position().left),s.append("type",t),s.append("message",i),document.getElementById("spinner-box-load").style.display="block",axios.post("/api/shareLink",s).then((e=>{document.getElementById("spinner-box-load").style.display="none",[...document.querySelectorAll('input[name="linkBtn"]')].forEach((e=>e.checked=!1)),[...document.querySelectorAll(".itemBtn label")].forEach((e=>e.classList.remove("active"))),n.includes("linkByEmail")?(this.setState({successMsg:"Die E-Mail wurde erfolgreich versendet"}),$(".successMessage").css({left:a+"px"}).fadeIn(),setTimeout((()=>$(".successMessage").fadeOut()),2e3)):(this.setState({successMsg:"Die SMS wurde erfolgreich versendet"}),$(".successMessage").css({left:a+"px"}).fadeIn(),setTimeout((()=>$(".successMessage").fadeOut()),2e3))}))}clickCheckbox(e){if([...document.querySelectorAll(".itemBtn label")].forEach((e=>e.classList.remove("active"))),e.target.checked?([...document.querySelectorAll('input[name="linkBtn"]')].forEach((e=>e.checked=!1)),e.target.checked=!0,e.target.parentNode.querySelector("label").classList.add("active")):e.target.checked=!1,e.target.id.includes("clipboard")){document.querySelector(".hiddenInputWithLink").select(),document.execCommand("copy"),e.target.checked=!1,e.target.parentNode.querySelector("label").classList.remove("active"),this.setState({successMsg:"Der Link wurde erfolgreich in die Zwischenablage kopiert"}),window.isMobile?$(".successMessage").fadeIn():$(".successMessage").css({left:"-20px"}).fadeIn(),setTimeout((()=>$(".successMessage").fadeOut()),2e3)}}render(){let e=window.location.href,s="remarket.ch"===window.domainName.name?"ch":"de",{id:t,isAssistantQuestion:n,isSellDeadline:a}=this.props;return(0,l.jsx)(i.Fragment,{children:a?(0,l.jsxs)("div",{className:"row countdownLinks",children:[(0,l.jsxs)("div",{className:"successLinkMessage",children:[(0,l.jsx)("img",{src:"/images/design/ok-links.svg"}),(0,l.jsx)("span",{className:"copy",children:this.state.successMsg})]}),(0,l.jsxs)("div",{className:"col-md-6 text-center",children:[(0,l.jsx)("button",{className:"btn white",onClick:()=>this.clickButton("email"),children:"Angebot jetzt per E-Mail sichern"}),(0,l.jsx)("div",{className:"form",children:(0,l.jsxs)("form",{id:"linkByEmail-".concat(t),name:"linkByEmail-".concat(t),onSubmit:this.sendCouponForm,children:[(0,l.jsx)("input",{type:"email",name:"email",required:!0,placeholder:"Ihre E-Mail"}),(0,l.jsxs)("div",{className:"textarea couponEmail",children:["Hallo,",(0,l.jsx)("br",{}),"gerne senden wir Ihnen unser Angebot mit dem +20.00 CHF Gutschein, Link: ",(0,l.jsx)("br",{}),(0,l.jsx)("a",{contentEditable:!1,href:e+"?shortcode="+this.props.sellCouponShortcode,children:e+"?shortcode="+this.props.sellCouponShortcode})]}),(0,l.jsx)("button",{className:"btn",onSubmit:this.sendCouponForm,children:"Senden"})]})})]}),(0,l.jsxs)("div",{className:"col-md-6 text-center",children:[(0,l.jsx)("button",{className:"btn",onClick:()=>this.clickButton("sms"),children:"Angebot jetzt per SMS sichern"}),(0,l.jsx)("div",{className:"form",children:(0,l.jsxs)("form",{id:"linkBySms-".concat(t),name:"linkBySms-".concat(t),onSubmit:this.sendCouponForm,children:[(0,l.jsx)("span",{className:"inputTitle",children:"Empf\xe4nger Mobiltelefonnummer"}),(0,l.jsx)(m(),{inputProps:{name:"phoneTo",required:!0},pattern:"(\\+?\\d){11,}",defaultCountry:s,autoFormat:!1,placeholder:"Mobiltelefonnummer Ihres Freundes",flagsImagePath:"/images/design/flags.png"}),(0,l.jsxs)("div",{className:"textarea couponSMS",children:["Hallo,",(0,l.jsx)("br",{}),"gerne senden wir Ihnen unser Angebot mit dem +20.00 CHF Gutschein, Link: ",(0,l.jsx)("br",{}),(0,l.jsx)("a",{contentEditable:!1,href:e+"?shortcode="+this.props.sellCouponShortcode,children:e+"?shortcode="+this.props.sellCouponShortcode})]}),(0,l.jsx)("button",{className:"btn",onSubmit:this.sendCouponForm,children:"Senden"})]})})]})]}):(0,l.jsxs)("div",{className:"sendLinksWrap",children:[(0,l.jsxs)("div",{className:"successMessage",children:[(0,l.jsx)("img",{src:"/images/design/ok-links.svg"})," ",(0,l.jsx)("span",{className:"copy",children:this.state.successMsg})]}),(0,l.jsx)("span",{className:"title",children:"Link teilen"}),n?"":(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"wrapLinks",children:[(0,l.jsxs)("span",{className:"itemBtn",children:[(0,l.jsx)("label",{htmlFor:"email-".concat(t),children:n?(0,l.jsx)("img",{src:"/images/design/mail-links-white.svg",alt:""}):(0,l.jsx)("img",{src:"/images/design/mail-links-black.svg",className:"mail-links-img",alt:""})}),(0,l.jsx)("input",{type:"checkbox",id:"email-".concat(t),name:"linkBtn",onChange:this.clickCheckbox}),(0,l.jsx)("div",{className:"form",children:(0,l.jsxs)("form",{name:"linkByEmail-".concat(t),onSubmit:this.sendForm,children:[(0,l.jsxs)("p",{className:"header",children:["Link mit Freunden teilen",(0,l.jsx)("span",{children:"via E-mail"})]}),(0,l.jsx)("input",{type:"email",name:"emailFrom",required:!0,placeholder:"Ihre E-Mail"}),(0,l.jsx)("input",{type:"email",name:"emailTo",required:!0,placeholder:"E-Mail Ihres Freundes"}),(0,l.jsxs)("div",{className:"textarea email",children:["Hallo,",(0,l.jsx)("br",{}),"hier der Link von remarket um dein Ger\xe4t zu verkaufen:",(0,l.jsx)("br",{}),(0,l.jsx)("a",{contentEditable:!1,href:e,children:e})]}),(0,l.jsx)("button",{className:"btn",onSubmit:this.sendForm,children:"Senden"})]})})]}),(0,l.jsxs)("span",{className:"itemBtn",children:[(0,l.jsx)("label",{htmlFor:"sms-".concat(t),children:n?(0,l.jsx)("img",{src:"/images/design/sms-link-white.svg",alt:""}):(0,l.jsx)("img",{src:"/images/design/sms-link-black.svg",className:"sms-links-img",alt:""})}),(0,l.jsx)("input",{type:"checkbox",id:"sms-".concat(t),name:"linkBtn",onChange:this.clickCheckbox}),(0,l.jsx)("div",{className:"form",children:(0,l.jsxs)("form",{name:"linkBySms-".concat(t),onSubmit:this.sendForm,children:[(0,l.jsxs)("p",{className:"header",children:["Link mit Freunden teilen",(0,l.jsx)("span",{children:"via SMS"})]}),(0,l.jsx)("span",{className:"inputTitle",children:"Absender Mobiltelefonnummer"}),(0,l.jsx)(m(),{inputProps:{name:"phoneFrom",required:!0},pattern:"(\\+?\\d){11,}",value:this.state.userData.number,onChange:this.changePhoneNumber,defaultCountry:s,autoFormat:!1,placeholder:"Ihre Mobiltelefonnummer",flagsImagePath:"/images/design/flags.png"}),(0,l.jsx)("span",{className:"inputTitle",children:"Empf\xe4nger Mobiltelefonnummer"}),(0,l.jsx)(m(),{inputProps:{name:"phoneTo",required:!0},pattern:"(\\+?\\d){11,}",defaultCountry:s,autoFormat:!1,placeholder:"Mobiltelefonnummer",flagsImagePath:"/images/design/flags.png"}),(0,l.jsxs)("div",{className:"textarea phone",children:["Hallo,",(0,l.jsx)("br",{}),"hier der Link von remarket um dein Ger\xe4t zu verkaufen"," ",(0,l.jsx)("br",{}),(0,l.jsx)("a",{contentEditable:!1,href:e,children:e})]}),(0,l.jsx)("button",{className:"btn",onSubmit:()=>this.sendForm,children:"Senden"})]})})]}),(0,l.jsxs)("span",{className:"itemBtn",children:[(0,l.jsx)("label",{htmlFor:"clipboard-".concat(t),children:n?(0,l.jsx)("img",{src:"/images/design/copy-to-clipboard-white.svg",alt:""}):(0,l.jsx)("img",{src:"/images/design/copy-to-clipboard-black.svg",className:"copy-to-clipboard-img",alt:""})}),(0,l.jsx)("input",{id:"clipboard-".concat(t),type:"checkbox",name:"linkBtn",onChange:this.clickCheckbox}),(0,l.jsxs)("div",{className:"form copyForm",children:[(0,l.jsx)("textarea",{defaultValue:e,className:"hiddenInputWithLink"}),(0,l.jsx)("img",{src:"/images/design/ok-links.svg"})," ",(0,l.jsx)("span",{className:"copy",children:"Link wurde in Zwischenablage kopiert"})]})]})]})]})})}}p.defaultProps={};const g=p,x=e=>{let{id:s="spinner-dots-load"}=e;return(0,l.jsxs)("div",{id:s,className:"spinner",children:[(0,l.jsx)("div",{className:"bounce1"}),(0,l.jsx)("div",{className:"bounce2"}),(0,l.jsx)("div",{className:"bounce3"})]})};class w extends i.Component{constructor(){super(...arguments),this.state={isAnim:!0,sellDeadline:!!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.MIX_IS_SELL_COUPON,sellDeadlineExpired:!1,isUnlimited:!1,isActive:!1},this._calculatePrice=e=>{let s=+e.Model[0].minPrice,t=0,i=0;for(let n in e)"Defects"===n?e[n].forEach((e=>t+=+e.price)):"Brand"!==n&&"Submodel"!==n&&"image"!==n&&"Device"!==n&&"Condition"!==n&&"comment"!==n&&("Model"===n?e[n].forEach((e=>{t+=+e.price})):e[n].forEach((s=>{let i=+e.Model[0].price,n=+s.valuePrice.replace(/,/g,".").replace(/[^\d.]/g,""),a=0,r=s.valuePrice.includes("%"),o=s.valuePrice.includes("-");r?(a=5*Math.ceil(i*(n/100)/5),o?t-=a:t+=a):o?t-=n:t+=n})));return t<s&&(t=s),i=t,e.Model[0].discountPrice>0&&(t+=+e.Model[0].discountPrice),i===t&&(i=0),i=5*Math.round(i/5),t=5*Math.round(t/5),{price:t||0,oldPrice:i||0,couponPrice:t+20}},this._mapCriterias=e=>{let s=[];for(let t in e){let i="",n="col-xs-12 col-sm-6 itemAnswerAssistant";switch(t){case"Brand":i="Marke";break;case"Submodel":i="Untermodell";break;case"Model":i="Modell";break;case"Condition":i="Allgemeiner Zustand";break;case"Defects":i="Liste der Defekte";break;default:i=t}"image"!==t&&"Device"!==t&&"Defects"!==t&&"comment"!==t&&s.push((0,l.jsxs)("div",{className:n,children:[(0,l.jsx)("p",{className:"title",children:i}),(0,l.jsxs)("ul",{children:[e[t].map(((e,s)=>(0,l.jsxs)("li",{children:[e.name," ",e.nameExt?" (".concat(e.nameExt,")"):null,!e.hasOwnProperty("colorCode")&&"Model"!==t&&e.image&&(0,l.jsx)("img",{src:e.image}),e.colorCode&&(0,l.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}})]},s))),0===e[t].length&&(0,l.jsx)("li",{children:"-"})]})]},t)),"Defects"===t&&s.push((0,l.jsxs)("div",{className:n,children:[(0,l.jsx)("p",{className:"title",children:i}),(0,l.jsx)("p",{children:e[t].map(((s,i)=>(0,l.jsxs)("span",{children:[s["description-short"],i<e[t].length-1?", ":null]},i)))})]},t))}return s.reduce(((e,s,t)=>(t%2===0&&e.push([]),e[e.length-1].push(s),e)),[]).map((function(e,s){return(0,l.jsx)("div",{className:"row",children:e},s)}))}}componentWillMount(){const{selectedAnswers:e,values:s,name:t,content:i}=this.props;let n=[];t&&e&&(n=e[t]),n&&n.length>0&&n.every((e=>s.some((s=>s.id==e.id))))&&this.setState({isAnim:!1}),i&&(axios.get("/api/updatePurchaseStatistics"),snaptr("track","VIEW_CONTENT",{VIEW_CONTENT:"true"}))}componentDidMount(){location.search.split("discount=")[1]&&window.localStorage.removeItem("sellDeadline"),{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.MIX_IS_SELL_COUPON&&this.props.content&&(this.setState({sellDeadline:!1}),this.updateCountDown(),setTimeout((()=>{this.updateCountDown()}),1e3),this.countdown=setInterval((()=>{this.setState({sellDeadline:!1}),this.updateCountDown()}),6e4))}componentWillUnmount(){clearInterval(this.countdown)}updateCountDown(){const e=location.search.split("shortcode=")[1];this.setState({sellDeadline:!0});let s=JSON.parse(window.localStorage.getItem("sellDeadline")),t=document.getElementById("timer");if(!s){var i=new Date;i.setSeconds(i.getSeconds()-1),i.setHours(i.getHours()+48),s={countDownDate:i,sellDeadlineExpired:0,couponShortcode:"",isUnlimited:0,isActive:1},window.localStorage.setItem("sellDeadline",JSON.stringify(s))}if(s&&!e&&s.sellDeadlineExpired)return this.setState({sellDeadlineExpired:!0}),void clearInterval(this.countdown);if(e||""!==s.couponShortcode&&!s.sellDeadlineExpired){let t=e||s.couponShortcode;axios.get("/api/checkCoupon?coupon=".concat(t,"&couponType=6")).then((i=>{s.couponShortcode=t,s.isUnlimited=s.isUnlimited||e?1:0,s.sellDeadlineExpired=s.isUnlimited?0:this.state.sellDeadlineExpired,this.setState({isUnlimited:s.isUnlimited,sellDeadlineExpired:s.sellDeadlineExpired}),window.localStorage.setItem("sellDeadline",JSON.stringify(s))})).catch((e=>{let{data:t}=e.response;console.log("error",t),s.sellDeadlineExpired=1,s.isUnlimited=0,window.localStorage.setItem("sellDeadline",JSON.stringify(s)),clearInterval(this.countdown),this.setState({sellDeadlineExpired:!0})}))}let n=JSON.parse(window.localStorage.getItem("basketDataVerkaufen")),a=n?n.filter((e=>999===e.productTypeId)):[];s.isActive=a.length?0:1,this.setState({isActive:s.isActive}),window.localStorage.setItem("sellDeadline",JSON.stringify(s));var r=(new Date).getTime(),o=new Date(s.countDownDate).getTime()-r,l=Math.floor(o%1728e5/36e5),c=Math.floor(o%36e5/6e4);Math.floor(o%6e4/1e3);t&&(t.innerHTML=l+"Std. "+c+"Min."),!e&&!s.isUnlimited&&o<0&&(s.sellDeadlineExpired=1,window.localStorage.setItem("sellDeadline",JSON.stringify(s)),this.setState({sellDeadlineExpired:!0}),clearInterval(this.countdown))}render(){const{question:e,content:s,userAnswers:t,user:n,handleSellNow:a}=this.props,r=this.props.delay,{sellDeadlineExpired:o,sellDeadline:c,isUnlimited:d,isActive:u}=this.state,m=t?this._calculatePrice(t):null;let p=0;return p=r?0===r?0:r+1e3:1e3,(0,l.jsx)(h.f,{animationInDelay:r||0,animateOnMount:!!r,className:r?"":"cancelAnimation",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"Remo"}),s&&(0,l.jsxs)("div",{className:"question assistant",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{className:"assistantContent",src:"/images/design/assistantForQuestion-small.svg",alt:""}),(0,l.jsx)("span",{children:e}),(0,l.jsx)("div",{className:"tabSummary sendLinks",children:!window.isMobile&&(0,l.jsx)(g,{user:n,id:"summary1",isAssistantQuestion:!0})})]}),(0,l.jsx)("div",{className:"assistant content panel",children:(0,l.jsxs)("div",{className:"panel-body",children:[(0,l.jsx)("div",{className:"col-md-12 tabSummary",children:(0,l.jsx)("div",{className:"row",children:window.isMobile&&(0,l.jsx)(g,{user:n,id:"summary1"})})}),!window.isMobile&&(0,l.jsxs)("div",{className:"col-md-5 top-row",children:[(0,l.jsx)("div",{className:"col-sm-12  text-center",children:(0,l.jsx)("img",{src:t.image,className:"imageAssistantContent"})}),(0,l.jsxs)("div",{className:"priceAssistant",children:[(0,l.jsxs)("p",{className:"title",children:["Ihr Preis",u&&!o&&m.price>99?(0,l.jsx)(h.f,{animationIn:"zoomIn",animationInDelay:1500,style:{display:"inline"},children:(0,l.jsxs)("span",{children:[" ","|"," ",(0,l.jsxs)("span",{className:"old-price",children:[" ",m.price," ",window.currencyValue]})]})}):""]}),u&&m.price>99&&!o?(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(h.f,{animationIn:"zoomOut",animationInDelay:1e3,children:(0,l.jsxs)("p",{className:"value",style:{color:"#333333",textDecoration:"line-through"},children:[m.price," ",window.currencyValue]})}),(0,l.jsx)(h.f,{animationIn:"bounceIn",animationInDelay:1500,children:(0,l.jsxs)("p",{className:"value",style:{display:"block",position:"absolute",bottom:"63%"},children:[m.couponPrice," ",window.currencyValue]})})]}):(0,l.jsx)(h.f,{animationIn:"bounceIn",animationInDelay:1e3,children:(0,l.jsxs)("p",{className:"value",children:[m.price," ",window.currencyValue]})})]}),c&&u&&!d&&!o&&m.price>99?(0,l.jsxs)("div",{className:"coupon",children:[(0,l.jsx)("p",{children:"Angebot gilt nur f\xfcr kurze Zeit!"}),(0,l.jsxs)("div",{className:"countdown",children:[(0,l.jsx)("img",{src:"/images/design/shop/coupons/group.svg",alt:""}),(0,l.jsx)("span",{id:"timer"})]})]}):""]}),(0,l.jsxs)("div",{className:"col-md-7 panel_markup",children:[(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"wrapAnswers",children:this._mapCriterias(t)})})}),window.isMobile&&(0,l.jsxs)(i.Fragment,{children:[(0,l.jsxs)("div",{className:"col-sm-5 top-row p-0",children:[(0,l.jsx)("div",{className:"col-xs-6 col-sm-12  text-center",children:(0,l.jsx)("img",{src:t.image,className:"imageAssistantContent"})}),(0,l.jsxs)("div",{className:"priceAssistant",children:[(0,l.jsxs)("p",{className:"title",children:["Ihr Preis",u&&!o&&m.price>99?(0,l.jsx)(h.f,{animationIn:"zoomIn",animationInDelay:2e3,style:{display:"inline"},children:(0,l.jsxs)("span",{children:[" ","|"," ",(0,l.jsxs)("span",{className:"old-price",children:[" ",m.price," ",window.currencyValue]})]})}):""]}),u&&m.price>99&&!o?(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(h.f,{animationIn:"zoomOut",animationInDelay:1500,children:(0,l.jsxs)("p",{className:"value",style:{color:"#333333",textDecoration:"line-through"},children:[m.price," ",window.currencyValue]})}),(0,l.jsx)(h.f,{animationIn:"bounceIn",animationInDelay:2e3,children:(0,l.jsxs)("p",{className:"value",style:{display:"block",position:"absolute",bottom:"63%"},children:[m.couponPrice," ",window.currencyValue]})})]}):(0,l.jsx)(h.f,{animationIn:"bounceIn",animationInDelay:1e3,children:(0,l.jsxs)("p",{className:"value",children:[m.price," ",window.currencyValue]})})]})]}),c&&u&&!d&&!o&&m.price>99?(0,l.jsxs)("div",{className:"coupon",children:[(0,l.jsx)("p",{children:"Angebot gilt nur f\xfcr kurze Zeit!"}),(0,l.jsxs)("div",{className:"countdown top-row",children:[(0,l.jsx)("img",{src:"/images/design/shop/coupons/group.svg",alt:""}),(0,l.jsx)("span",{id:"timer"})]})]}):""]}),(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsxs)("button",{className:"btn quickSell",onClick:a,children:["Jetzt verkaufen",(0,l.jsx)("img",{src:"/images/design/sell-icon-white.svg",alt:""})]})})})]})]})})]}),!s&&(0,l.jsxs)("div",{className:"question assistant",children:[(0,l.jsx)("img",{className:"assistant",src:"/images/design/assistantForQuestion-small.svg",alt:""}),this.state.isAnim&&(0,l.jsxs)("span",{children:[(0,l.jsx)(h.f,{animationOutDelay:p,isVisible:!1,children:(0,l.jsx)(x,{})}),(0,l.jsx)("span",{children:(0,l.jsx)(h.f,{animationInDelay:p,children:e})})]}),!this.state.isAnim&&(0,l.jsx)("span",{children:e})]})]})})}}w.defaultProps={};const b=w;var v=t(47274);const j=e=>{let{type:s,typeButton:t,name:a,values:r,userAnswers:o,handleClick:c,handleClickEditAnswer:d,criteriaId:u,selectedAnswers:m,indexOfCriteria:p,toggleInfoAboutCondition:g,changeUserAnswerMultiply:x,shipping:w,handleShipping:b,addToBasketVerkaufen:j,delay:f,answerDelay:k,isAnswerAnim:y,setResults:S}=e;f||(f=0);window.isMobile;const C=e=>"".concat(e,"_").concat((new Date).getTime()*Math.random());("0"+(new Date).getHours()).slice(-2),("0"+(new Date).getMinutes()).slice(-2);function A(){return 0===k?k:y&&!1===y[a]||m&&m[a]?0:f>k?f:k}return(0,l.jsx)("div",{className:"wrapAnswer",children:(0,l.jsxs)(h.f,{animationInDelay:A(),animateOnMount:!!A(),className:A()?"":"cancelAnimation",children:[(0,l.jsx)("p",{className:"text-right",children:"Ich"}),(0,l.jsx)("div",{className:"question client",children:(0,l.jsx)("div",{className:"userAnswers text-center",children:w?(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsxs)("div",{className:"row text-right buttons",style:{marginRight:23,marginLeft:-4},children:[(0,l.jsxs)("button",{className:"btn",onClick:()=>{b("chooseLocation")},children:["Ladenlokal besuchen",(0,l.jsx)("img",{src:"/images/design/ic-bring.svg",alt:""})]}),(0,l.jsxs)("button",{className:"btn",onClick:()=>b("perPost"),children:["GRATIS per Post senden",(0,l.jsx)("img",{src:"/images/design/ic-post.svg",alt:""})]})]})})}):"text"===s?(0,l.jsx)("div",{className:"row",children:(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsx)("span",{children:question})})}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"col-md-12 mobileScrollY",children:"Defects"===a?(0,l.jsx)("div",{className:"wrapUserAnswers",children:r.map((function(e,s){let i="";return i=m[a]&&m[a].some((s=>s.id==e.id))?"itemValueClientQuestionBeta activeAnswer":"itemValueClientQuestionBeta",(0,l.jsx)(n.rU,{to:"/verkaufen/".concat(N(e,a,t,m)),className:"verkaufenPageAnswersBeta-defects",children:(0,l.jsxs)("button",{onClick:()=>x(a,e),className:i,children:[e["description-short"],(0,l.jsx)("br",{})]})},C(e.id))}))}):2==t?(0,l.jsxs)("select",{onChange:function(e){let{value:s}=e.target,i=r.filter((e=>e.name==s));c(a,i[0],p),n.mW.push("/verkaufen/".concat(N(i[0],a,t,m)))},value:"Choose answer",children:[(0,l.jsx)("option",{value:"Choose answer",children:"Choose answer"}),function(e){let s=[];return e.map(((e,t)=>{s.push((0,l.jsx)("option",{value:e.name,children:e.name},t))})),s}(r)]}):(0,l.jsxs)("div",{className:"wrapUserAnswers",children:[r.map((function(e,s){if(e.name){let s="",r=!1;return m[a]?(s="itemValueClientQuestionBeta",m[a].some((s=>s.id==e.id))&&(s="itemValueClientQuestionBeta activeAnswer",r=!0)):s="itemValueClientQuestionBeta","Device"===a?(0,l.jsx)(n.rU,{to:"/verkaufen/".concat(N(e,a,t,m)),className:"verkaufenPageAnswersBeta",children:(0,l.jsxs)("button",{onClick:()=>c(a,e,p),className:s,children:[e.image&&(0,l.jsx)("img",{src:e.image,className:"imgDevice"}),e.name]})},C(e.id)):"Model"===a?(0,l.jsx)(n.rU,{to:"/verkaufen/".concat(N(e,a,t,m)),className:"verkaufenPageAnswersBeta modelAnswer",children:(0,l.jsxs)("div",{onClick:()=>c(a,e,p),className:s,children:[e.image&&(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)("div",{children:(0,l.jsx)("img",{src:e.image,className:"imgDeviceModel"})}),(0,l.jsx)("div",{className:"wrapZoomImg",children:(0,l.jsx)("img",{src:e.image,className:"zoomImg"})})]}),e.name,e.nameExt?" (".concat(e.nameExt,")"):null]})},e.id):"Condition"===a?(0,l.jsx)(n.rU,{to:"/verkaufen/".concat(N(e,a,t,m)),className:"verkaufenPageAnswersBeta",children:(0,l.jsxs)("button",{onClick:3==t?()=>c(a,e,p,u):()=>x(a,e,t),className:s,children:[r&&(0,l.jsx)("img",{src:e.imgActive,className:"imgCondition"}),!r&&(0,l.jsx)("img",{src:e.image,className:"imgCondition"}),e.name]})},C(e.id)):(0,l.jsx)(n.rU,{to:"/verkaufen/".concat(N(e,a,t,m)),className:"verkaufenPageAnswersBeta",children:(0,l.jsxs)("button",{onClick:3==t?()=>c(a,e,p,u):()=>x(a,e,t),className:s,children:[e.name,16!=u&&e.image&&(0,l.jsx)("img",{src:e.image,className:"imgCriteria"}),e.colorCode&&(0,l.jsx)("p",{className:"colorPic",style:{backgroundColor:e.colorCode}})]})},C(e.id))}})),("Device"===a||"Model"===a)&&(0,l.jsx)(v.Z,{setResults:S,option:{name:a},showButton:!1}),("Condition"===a||2==u||4==u||5==u)&&(0,l.jsx)("p",{className:"img-question text-right",children:(0,l.jsx)("img",{onClick:()=>g(u),src:"/images/design/question_condition.svg",alt:""})}),1==t&&"Defects"!==a&&(0,l.jsx)(n.rU,{to:"/verkaufen/".concat(N(null,a,t,m)),children:(0,l.jsxs)("button",{className:"btn defectBeta",style:{margin:"auto"},onClick:()=>c(a,null,p,u),children:["Weiter",(0,l.jsx)("span",{className:"spanArrow",children:(0,l.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})})]})}),1==t&&"Defects"===a&&(0,l.jsxs)("button",{className:"btn defectBeta",onClick:()=>{m[a]&&m[a].length>0&&c(a,null,p,u)},children:["Weiter",(0,l.jsx)("span",{className:"spanArrow",children:(0,l.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]})})})]})})};j.defaultProps={};const f=j;function N(e,s,t,i){let n="",a={...i};for(let r in a)"image"!==r&&(a[r]=[...a[r]],a[r].forEach(((e,s)=>a[r][s]={...e})));if("Device"===s)for(let r in a)"Device"!==r&&delete a[r];if("Brand"===s)for(let r in a)"Device"!==r&&delete a[r];if("Submodel"===s)for(let r in a)"Device"!==r&&"Brand"!==r&&delete a[r];if("Model"===s)for(let r in a)"Device"!==r&&"Brand"!==r&&"Submodel"!==r&&delete a[r];if("Condition"===s)for(let r in a)"Device"!==r&&"Brand"!==r&&"Model"!==r&&"Submodel"!==r&&delete a[r];a[s]?3==t||2==t?(a[s]=[],a[s].push(e)):e&&(a[s].some((s=>s.id==e.id))?a[s]=a[s].filter((s=>s.id!=e.id)):a[s].push(e)):(a[s]=[],e&&a[s].push(e));for(let r in a){let e="";switch(r){case"Condition":e="allgemeiner-zustand";break;case"Model":case"Device":case"Brand":e=a[r][0].name;break;case"Submodel":e="sub-"+a[r][0].name;break;case"Defects":e="defects";break;default:e=r}"image"!==r&&(a[r].length>0?a[r].forEach(((s,t)=>{0===t?1===a[r].length?n+="".concat(e.replace(/ /g,"-").toLowerCase(),"-").concat(s.id,"/"):n+="".concat(e.replace(/ /g,"-").toLowerCase(),"-").concat(s.id):t===a[r].length-1?n+=",".concat(s.id,"/"):n+=",".concat(s.id)})):n+="".concat(e.replace(/ /g,"-").toLowerCase(),"-leer/"))}return n}const k=e=>{let{name:s,handleClickEditAnswer:t,userAnswers:n,isCriteria:a}=e;window.isMobile;const r=n[s][0]&&n[s][0].colorCode?n[s][0].colorCode:null;return(0,l.jsx)("div",{className:"wrapAnswer",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-right",children:"Ich"}),(0,l.jsx)("div",{className:"question client",onClick:()=>t(s,n[s]),children:(0,l.jsx)("div",{className:"userAnswers text-center",children:(0,l.jsxs)("div",{className:"wrapUserAnswers",children:["Model"==s||"Condition"==s?n[s].map(((e,s)=>(0,l.jsxs)("div",{className:"verkaufenPageAnswersBeta",children:[(0,l.jsxs)("button",{className:"btnAnswer",children:[e.image&&(0,l.jsx)("img",{src:e.image,className:"imgDevice"}),e.name," ",e.nameExt?" (".concat(e.nameExt,")"):null]}),(0,l.jsx)("i",{className:"fa fa-pencil edit","aria-hidden":"true"})]},e.id))):"Defects"===s?(0,l.jsxs)("div",{className:"verkaufenPageAnswersBeta",children:[(0,l.jsx)("button",{className:"btnAnswer",children:(0,l.jsxs)("p",{children:[" ",n[s].map((function(e,t){return(0,l.jsxs)(i.Fragment,{children:[e["description-short"],t===n[s].length-1?"":", "]},t)}))]})}),(0,l.jsx)("i",{className:"fa fa-pencil edit","aria-hidden":"true"})]}):a?(0,l.jsxs)("div",{className:"verkaufenPageAnswersBeta",children:[(0,l.jsxs)("button",{className:"btnAnswer",children:[(0,l.jsxs)("p",{children:[" ",n[s].map((function(e,t){return(0,l.jsxs)(i.Fragment,{children:[e.name,t===n[s].length-1?"":", "]},t)}))]}),r&&(0,l.jsx)("p",{className:"colorPic",style:{backgroundColor:r}})]}),(0,l.jsx)("i",{className:"fa fa-pencil edit","aria-hidden":"true"})]}):n[s].map(((e,s)=>(0,l.jsxs)("div",{className:"verkaufenPageAnswersBeta",children:[(0,l.jsxs)("button",{className:"btnAnswer",children:[e.image&&(0,l.jsx)("img",{src:e.image,className:"imgDevice"}),e.name&&(0,l.jsx)("span",{children:e.name})]}),(0,l.jsx)("i",{className:"fa fa-pencil edit","aria-hidden":"true"})]},e.id))),0===n[s].length&&"-"]})})})]})})};class y extends i.Component{constructor(){super(...arguments),this.state={showShipping:!1,isFirstAnimate:!0},this.generateKey=e=>"".concat(e,"_").concat((new Date).getTime()*Math.random()),this.hitSee=()=>{let{selectedAnswers:e}=this.props;e&&e.Model.length>0&&axios.post("/api/hitSell",{modelId:e.Model[0].id}).then((e=>{})).catch((e=>{}))},this._animateAnswersField=()=>{const e=$("p:contains('Remo')").length,s=e>2?0:2e3;if(this.state.isFirstAnimate&&e>2&&this.setState({isFirstAnimate:!1}),!this.state.isFirstAnimate){const e=$(".answersBetaField").prop("scrollHeight");$(".answersBetaField").stop(),$(".answersBetaField").delay(s).animate({scrollTop:e},1500)}},this.mapQuestionsCriterias=()=>{let{criteriasList:e,selectedAnswers:s,showQuestion:t}=this.props;var i=e.filter((e=>e.active)),n=i[i.length-1];return i.map(((e,i)=>{let a=s.hasOwnProperty(e.name.toLowerCase())&&n.name!==e.name||t.btnOpenResult;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row itemAnswer",children:(0,l.jsx)(b,{question:e.question,delay:0,criteriaActive:e.active,criteriaId:e.id,selectedAnswers:s,values:e.values,name:e.name.toLowerCase()},this.generateKey(i))}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"row pull-right itemAnswer",children:[!a&&(0,l.jsx)(f,{values:e.values,name:e.name.toLowerCase(),selectedAnswers:s,typeButton:e.type,userAnswers:this.props.userAnswers,toggleInfoAboutCondition:this.props.toggleInfoAboutCondition,changeUserAnswerMultiply:this.props.selectAnswers,criteriaId:e.id,indexOfCriteria:i+1,handleClick:this.props.handleClick,answerDelay:this.props.answerDelay,delay:0,isAnswerAnim:this.props.isAnswerAnim},this.generateKey),a&&(0,l.jsx)(k,{name:e.name.toLowerCase(),handleClickEditAnswer:this.props.handleClickEditAnswer,userAnswers:this.props.userAnswers,isCriteria:!0})]}),(0,l.jsx)("div",{className:"clearfix"})]})]},this.generateKey(i))}))},this.sellNow=()=>{this.generateSellCountDownCoupon(),this.setState({showShipping:!0})}}componentWillReceiveProps(e){this.setState({showShipping:!1})}componentDidUpdate(){$(".verkaufenPageAnswersBeta-defects").length&&this.props.selectedAnswers.Defects||this._animateAnswersField(),$(".answersBetaField").stop(),this.props.showQuestion.btnOpenResult&&this.hitSee()}generateSellCountDownCoupon(){if({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.MIX_IS_SELL_COUPON){let e=JSON.parse(window.localStorage.getItem("sellDeadline"));e&&(""!==e.couponShortcode||e.sellDeadlineExpired||axios.get("/api/generateSellCountDownCoupon").then((s=>{e.couponShortcode=s.data.shortcode,window.localStorage.setItem("sellDeadline",JSON.stringify(e))})).catch((e=>{console.log("error",e.response.data)})))}}render(){const{showQuestion:e,devices:s,selectedAnswers:t,userAnswers:i,handleClick:n,handleClickEditAnswer:a,showAnswer:r,conditionQuestion:o,toggleInfoAboutCondition:c,handleShipping:d,addToBasketVerkaufen:h}=this.props,{showShipping:u}=this.state;return(0,l.jsx)("div",{className:"col-md-12",children:(0,l.jsxs)("div",{className:"answersBetaField",children:[(0,l.jsxs)("div",{className:"wrapAnswersBeta",children:[(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"row itemAnswer",children:(0,l.jsx)(b,{question:(0,l.jsx)("span",{children:"Gr\xfcezi, ich bin Remo. Gerne helfe ich Ihnen beim Verkauf"})})})}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"row itemAnswer",children:(0,l.jsx)(b,{question:(0,l.jsxs)("span",{children:["Welchen"," ",(0,l.jsx)("span",{style:{fontWeight:"bold"},children:"Ger\xe4tetyp"})," ","haben Sie?"]}),delay:2e3})})}),e.device&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(f,{values:s,name:"Device",selectedAnswers:t,typeButton:3,userAnswers:i,handleClick:n,delay:4e3,answerDelay:this.props.answerDelay,setResults:this.props.setResults},this.generateKey)})}),r.device&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(k,{name:"Device",handleClickEditAnswer:a,userAnswers:i})}),(0,l.jsx)("div",{className:"clearfix"})]}),e.brand&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row itemAnswer",children:(0,l.jsx)(b,{question:(0,l.jsxs)("span",{children:["Von welcher"," ",(0,l.jsx)("span",{style:{fontWeight:"bold"},children:"Marke"})," ist Ihr ",(0,l.jsx)("span",{children:i.Device[0].name}),"?"]})})}),!r.brand&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(f,{values:s,name:"Brand",selectedAnswers:t,typeButton:3,userAnswers:i,handleClick:n,answerDelay:this.props.answerDelay},this.generateKey)})}),r.brand&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(k,{name:"Brand",handleClickEditAnswer:a,userAnswers:i})}),(0,l.jsx)("div",{className:"clearfix"})]})]}),e.subModel&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row itemAnswer",children:(0,l.jsx)(b,{question:(0,l.jsxs)("span",{children:["Welches"," ",(0,l.jsxs)("span",{style:{fontWeight:"bold"},children:[this.props.userAnswers.Brand[0].name," Untermodell"]})," ","haben Sie?"]})})}),!r.subModel&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(f,{values:s,name:"Submodel",selectedAnswers:t,typeButton:3,userAnswers:i,handleClick:n,answerDelay:this.props.answerDelay},this.generateKey)})}),r.subModel&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(k,{name:"Submodel",handleClickEditAnswer:a,userAnswers:i})}),(0,l.jsx)("div",{className:"clearfix"})]})]}),e.model&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row itemAnswer",children:(0,l.jsx)(b,{question:(0,l.jsxs)("span",{children:["Welches"," ",(0,l.jsxs)("span",{style:{fontWeight:"bold"},children:[this.props.userAnswers.Brand&&this.props.userAnswers.Brand[0].name," "]})," ","haben Sie?"]})})}),!r.model&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"row pull-right itemAnswer models",children:(0,l.jsx)(f,{values:s,name:"Model",selectedAnswers:t,typeButton:3,userAnswers:i,handleClick:n,answerDelay:this.props.answerDelay,setResults:this.props.setResults},this.generateKey)})}),r.model&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(k,{name:"Model",handleClickEditAnswer:a,userAnswers:i})}),(0,l.jsx)("div",{className:"clearfix"})]})]}),o.show&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row itemAnswer",children:(0,l.jsx)(b,{question:(0,l.jsxs)("span",{children:["In welchem allgemeinen"," ",(0,l.jsx)("span",{style:{fontWeight:"bold"},children:"Zustand"})," ist Ihr Ger\xe4t?"]})})}),!r.condition&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(f,{values:s,name:"Condition",selectedAnswers:t,typeButton:3,userAnswers:i,handleClick:n,toggleInfoAboutCondition:c,answerDelay:this.props.answerDelay},this.generateKey)})}),r.condition&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(k,{name:"Condition",handleClickEditAnswer:a,userAnswers:i})}),(0,l.jsx)("div",{className:"clearfix"})]})]}),e.damagesList&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row itemAnswer",children:(0,l.jsx)(b,{question:(0,l.jsx)("span",{children:"Was ist bei Ihrem Ger\xe4t mangelhaft und/oder defekt?"})})}),!r.damagesList&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(f,{values:s,name:"Defects",selectedAnswers:t,typeButton:1,userAnswers:i,handleClick:n,indexOfCriteria:this.props.lastIndexOfCriteria,changeUserAnswerMultiply:this.props.selectAnswers,answerDelay:this.props.answerDelay},this.generateKey)})}),r.damagesList&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(k,{name:"Defects",handleClickEditAnswer:a,userAnswers:i})}),(0,l.jsx)("div",{className:"clearfix"})]})]}),e.criteriasList&&this.mapQuestionsCriterias(),e.btnOpenResult&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"row itemAnswer",children:(0,l.jsx)(b,{question:(0,l.jsxs)("span",{children:["Hier erhalten Sie Ihr"," ",(0,l.jsx)("span",{style:{fontWeight:"bold"},children:"Angebot:"})]}),content:1,userAnswers:i,user:this.props.user,handleSellNow:this.sellNow})})}),e.btnOpenResult&&u&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"row itemAnswer",children:(0,l.jsx)(b,{question:(0,l.jsx)("span",{children:"Wie wollen Sie das Ger\xe4t zu uns bringen?"}),delay:0})}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"row pull-right itemAnswer",children:(0,l.jsx)(f,{shipping:1,handleShipping:d,addToBasketVerkaufen:h,answerDelay:2e3},this.generateKey)})})]})]}),this.props.userAnswers.newOffer&&(0,l.jsxs)("div",{className:"row itemAnswer",children:[(0,l.jsx)(b,{question:(0,l.jsxs)("span",{children:["Guten Tag ",this.props.userData.gender," ",this.props.userData.name,", wir haben bei Ihrem Ankauf eine Abweichung der eingesendeten Angaben gefunden und offerieren Ihnen einen neuen Preis",this.props.showButton&&(0,l.jsx)("button",{className:"btn",onClick:this.props.viewNewOffer,children:"Neue Angebot ansehen"})]})}),this.props.userAnswers.newOffer.length>0&&(0,l.jsx)(f,{name:"newOffer",userAnswers:this.props.userAnswers,answerDelay:this.props.answerDelay})]})]})})}}y.defaultProps={};const S=y,C=e=>{let{userAnswers:s,handleClickEditAnswer:t,criteriasList:i=[]}=e,n="";i.forEach((e=>{16==e.id&&(n=e.name.toLowerCase())}));window.domainName.name.split(".")[window.domainName.name.split(".").length-1];return(0,l.jsxs)("aside",{children:[(0,l.jsx)("h6",{className:"yourChoices",children:"Ihre Angaben"}),(0,l.jsx)("div",{className:"userAnswers",children:function(){let e=[];for(let i in s){let a="";switch(i){case"Device":a="Ger\xe4tetyp";break;case"Brand":a="Marke";break;case"Submodel":a="Untermodell";break;case"Model":a="Modell";break;case"Condition":a="Allgemeiner Zustand";break;case"Defects":a="Liste der Defekte";break;default:a=i}"image"===i?e.unshift((0,l.jsx)("div",{className:"itemAnswer",children:(0,l.jsx)("img",{className:"modelImg",src:s[i],alt:""})},i)):"comment"!==i&&"Defects"!==i?e.push((0,l.jsxs)("div",{className:"itemAnswer",children:[(0,l.jsx)("h6",{children:a}),(0,l.jsxs)("ul",{children:[s[i].map(((e,s)=>(0,l.jsxs)("li",{children:[e.name,i!==n&&"Model"!==i&&"Device"!==i&&e.image&&(0,l.jsx)("img",{src:e.image}),e.colorCode&&(0,l.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}}),e.nameExt?" (".concat(e.nameExt,")"):null]},s))),0===s[i].length&&(0,l.jsx)("li",{children:"-"})]}),(0,l.jsx)("span",{className:"edit",onClick:()=>t(i,s[i]),children:(0,l.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})})]},i)):"Defects"===i&&e.push((0,l.jsxs)("div",{className:"itemAnswer",children:[(0,l.jsx)("h6",{children:a}),(0,l.jsx)("ul",{children:s[i].map(((e,s)=>(0,l.jsx)("li",{children:e["description-short"]},s)))}),(0,l.jsx)("span",{className:"edit",onClick:()=>t(i),children:(0,l.jsx)("i",{className:"fa fa-pencil","aria-hidden":"true"})})]},i))}return e.length>0?e:(0,l.jsxs)("div",{className:"noChoices",children:[(0,l.jsx)("img",{src:"/images/design/no-result-aside.svg",alt:""}),(0,l.jsx)("p",{children:"Keine Angaben bis jetzt"})]})}()})]})};class A extends i.Component{constructor(e){super(e),this.state={}}render(){let e="",s=null;return this.props.criteriaId?(s=M,24==this.props.deviceType?e+=this.props.deviceType:26==this.props.deviceType?e+=15==this.props.brandType?this.props.brandType:this.props.deviceType:23==this.props.deviceType&&(e+=3==this.props.brandType||2==this.props.brandType?this.props.brandType:"2")):(e="question-"+this.props.deviceType,s=I),(0,l.jsx)("div",{className:"detail-info-condition light-box",children:(0,l.jsx)("div",{className:"light-box-container",children:(0,l.jsx)("div",{className:"content",children:(0,l.jsxs)("div",{className:"",children:[(0,l.jsx)("div",{className:"top text-right",children:(0,l.jsx)("img",{src:"/images/design/simple-close-logForm.svg",onClick:this.props.toggleInfoAboutCondition,alt:""})}),(0,l.jsxs)("div",{className:"body",children:[(0,l.jsx)("p",{className:"title",children:s.title}),(0,l.jsx)("p",{className:"description",children:s.titleDescription}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsxs)("div",{className:"col-md-4 item-condition",children:[(0,l.jsx)("div",{className:"image",children:(0,l.jsx)("img",{src:"/images/design/detail-condition-".concat(e,"-1.png"),alt:""})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"title",children:s.itemConditionNew.title}),(0,l.jsx)("p",{className:"descr",children:s.itemConditionNew.description})]})]}),(0,l.jsxs)("div",{className:"col-md-4 item-condition",children:[(0,l.jsx)("div",{className:"image",children:(0,l.jsx)("img",{src:"/images/design/detail-condition-".concat(e,"-2.png"),alt:""})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"title",children:s.itemConditionUsed.title}),(0,l.jsx)("p",{className:"descr",children:s.itemConditionUsed.description})]})]}),(0,l.jsxs)("div",{className:"col-md-4 item-condition",children:[(0,l.jsx)("div",{className:"image",children:(0,l.jsx)("img",{src:"/images/design/detail-condition-".concat(e,"-3.png"),alt:""})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"title",children:s.itemConditionDefect.title}),(0,l.jsx)("p",{className:"descr",children:s.itemConditionDefect.description})]})]}),(0,l.jsx)("div",{className:"cb"})]})]})]})})})})}}const D=A,I={title:"Allgemeiner Zustand",titleDescription:"Definieren Sie Ihren Zustand ob Ihr Ger\xe4t neu, gebraucht oder mangelhaft / defekt ist.",itemConditionNew:{title:"Neu",description:"Unter der Definition neu verstehen wir ein komplett neues Ger\xe4t, welches sich noch in einer verschweissten Originalverpackung befindet inkl. Garantieschein."},itemConditionUsed:{title:"Sichtbare Gebrauchsspuren",description:"Unter der Definition gebraucht verstehen wir das Ihr Ger\xe4t benutzt wurde und Gebrauchsspuren enthalten kann, jedoch muss es voll funktionsf\xe4hig sein."},itemConditionDefect:{title:"Mangelhaft / Defekt",description:"Unter der Definition mangelhaft / defekt verstehen wir Ger\xe4te welche einen Mangel (z.B. Glas gebrochen, Batterie schwach, Ger\xe4t l\xe4sst sich nicht einschalten usw.) aufweisen."}},M={title:"Zustandsdefinitionen",titleDescription:"Beschreiben Sie welchen \xe4usserlichen Zustand Ihr Ger\xe4t hat.",itemConditionNew:{title:"Keine Gebrauchsspuren",description:"Beudeutet, dass keine Gebrauchsspuren sichtbar sind, ohne Kratzer, wie wenn es neu aus der Verpackung kommt."},itemConditionUsed:{title:"Leichte Gebrauchsspuren",description:"Bedeutet, dass es leichte feine Kratzer enthalten kann, welche jedoch nicht sp\xfcrbar sind."},itemConditionDefect:{title:"Sp\xfcrbare Gebrauchsspuren",description:"Beudetet, dass es st\xe4rkere Gebrauchsspuren wie Dellen, tiefe Kratzer, welche mit dem Finger sp\xfcrbar sind enthalten kann. Hiermit sind jedoch keine Br\xfcche oder Risse gemeint, diese m\xfcssen in der Kategorie mangelhaft / defekt deklariert werden."}};var L=t(78081),B=t(72905),P=t(73815),E=t(18871);class _ extends i.Component{constructor(){var e;super(...arguments),e=this,this._answerDelay=1e3,this.state={isAnswerAnim:[],modelsList:[],brandSubModels:[],subModels:[],conditionQuestion:{show:!1,data:[]},criteriasList:[],damagesList:{show:!1,data:[]},showQuestion:{device:!0,brand:!1,model:!1,damagesList:!1,criteriasList:!1,subModel:!1,btnOpenResult:!1},showAnswer:{device:!1,brand:!1,model:!1,damagesList:!1,criteriasList:!1,condition:!1,subModel:!1,btnOpenResult:!1},multiplyAnswers:{},showPriceMsg:{},selectedAnswers:{},lastIndexOfCriteria:0,answerOnAllQuestion:!1,showSearchBar:!0,showInfoAboutCondition:{show:!1,criteriaId:null}},this.handleClickEditAnswer=(e,s)=>{this._answerDelay=0;let{conditionQuestion:t,answerOnAllQuestion:i,lastIndexOfCriteria:n,showSearchBar:a,damagesList:r}=this.state,o=this.props.userAnswers,l={...this.state.showQuestion},c={...this.state.showAnswer},d=[...this.state.criteriasList];switch(d=d.map((e=>({...e}))),this.props.handlerMobileEditAnswers&&this.props.handlerMobileEditAnswers("close")(),e){case"Device":l.device=!0,l.brand=!1,l.model=!1,l.damagesList=!1,l.criteriasList=!1,l.subModel=!1,t.show=!1,l.btnOpenResult=!1,i=!1,a=!0,c.device=!1,c.brand=!1,c.subModel=!1,c.model=!1,c.condition=!1,c.criteriasList=!1,c.damagesList=!1;break;case"Brand":l.device=!1,l.brand=!0,l.model=!1,l.damagesList=!1,l.criteriasList=!1,l.subModel=!1,t.show=!1,l.btnOpenResult=!1,i=!1,a=!0,c.device=!0,c.brand=!1,c.subModel=!1,c.model=!1,c.condition=!1,c.criteriasList=!1,c.damagesList=!1;break;case"Submodel":l.device=!1,l.brand=!0,l.model=!1,l.damagesList=!1,l.criteriasList=!1,l.subModel=!0,t.show=!1,l.btnOpenResult=!1,i=!1,a=!0,c.device=!0,c.brand=!0,c.subModel=!1,c.model=!1,c.condition=!1,c.criteriasList=!1,c.damagesList=!1;break;case"Model":l.device=!1,l.brand=!0,l.model=!0,l.damagesList=!1,l.criteriasList=!1,l.subModel=!!o.Submodel,t.show=!1,l.btnOpenResult=!1,i=!1,a=!0,c.device=!0,c.brand=!0,c.subModel=!!o.Submodel,c.model=!1,c.condition=!1,c.criteriasList=!1,c.damagesList=!1;break;case"Condition":l.device=!1,l.brand=!0,l.model=!0,l.damagesList=!1,l.criteriasList=!1,l.subModel=!!o.Submodel,t.show=!0,a=!1,c.device=!0,c.brand=!0,c.subModel=!!o.Submodel,c.model=!0,c.condition=!1,c.criteriasList=!1,c.damagesList=!1,l.btnOpenResult=!1,i=!1;break;case"Defects":l.device=!1,l.brand=!0,l.model=!0,l.damagesList=!0,l.criteriasList=!1,l.subModel=!!o.Submodel,t.show=!0,a=!1,l.btnOpenResult=!1,c.device=!0,c.brand=!0,c.subModel=!!o.Submodel,c.model=!0,c.condition=!0,c.criteriasList=!0,c.damagesList=!1;break;default:l.device=!1,l.brand=!0,l.model=!0,l.damagesList=!!r.show,l.criteriasList=!0,l.subModel=!!o.Submodel,t.show=!0,a=!1,c.device=!0,c.brand=!0,c.subModel=!!o.Submodel,c.model=!0,c.condition=!0,c.criteriasList=!0,c.damagesList=!0,l.btnOpenResult=!1;let n=!0;d.forEach(((t,i)=>{0===s.length?t.name.toLowerCase()==e?t.active=!0:t.active=!1:(t.active=!!n,s.every((e=>t.values.some((s=>s.id==e.id))))&&(n=!1))}))}a&&document.querySelector(".answersBetaField").classList.add("withSearch"),this.setState({showQuestion:l,conditionQuestion:t,criteriasList:d,answerOnAllQuestion:i,lastIndexOfCriteria:n,showSearchBar:a,showAnswer:c})},this.handleDeviceClick=(e,s)=>{this._answerDelay=1e3;let{selectedAnswers:t}=this.state,i={...this.state.showQuestion},n={...this.state.showAnswer};t[e]=[s];for(let a in t)"Device"!==a&&delete t[a];t[e][0].submodels.length>0&&(this.props.changeUserAnswerDevice(e,t[e]),i.device=!1,i.brand=!0,n.device=!0,this.setState({brandSubModels:t[e][0].submodels,lastIndexOfCriteria:0,showQuestion:i,showAnswer:n,selectedAnswers:t}))},this.handleBrandClick=(e,s)=>{this._answerDelay=1e3;let{selectedAnswers:t}=this.state,i={...this.state.showQuestion},n={...this.state.showAnswer};t[e],t[e]=[s];for(let a in t)"Device"!==a&&a!==e&&delete t[a];t[e][0].submodels?(this.props.changeUserAnswer(e,t[e]),i.subModel=!0,n.device=!0,n.brand=!0,this.setState({subModels:t[e][0].submodels,showQuestion:i,showAnswer:n,selectedAnswers:t,lastIndexOfCriteria:0})):(this.props.changeUserAnswer(e,t[e]),o.Z.getModelsVerkaufen(t[e][0].id).then((e=>{let{data:s}=e;this.setState({modelsList:s.data}),i.model=!0,n.device=!0,n.brand=!0,n.subModel=!0,this.setState({showQuestion:i,showAnswer:n,selectedAnswers:t,lastIndexOfCriteria:0})})))},this.handleSubModelClick=(e,s)=>{this._answerDelay=1e3;let{selectedAnswers:t}=this.state,i={...this.state.showQuestion},n={...this.state.showAnswer};t[e]=[s];for(let a in t)"Device"!==a&&"Brand"!==a&&a!==e&&delete t[a];this.props.changeUserAnswer(e,t[e]),o.Z.getModelsVerkaufen(t[e][0].id).then((e=>{let{data:s}=e;this.setState({modelsList:s.data}),i.model=!0,n.device=!0,n.brand=!0,n.subModel=!0,this.setState({showQuestion:i,showAnswer:n,selectedAnswers:t,lastIndexOfCriteria:0})}))},this.handleModelClick=(e,s)=>{this._answerDelay=1e3;let{selectedAnswers:t}=this.state,i={...this.state.showQuestion},n={...this.state.showAnswer};t[e]=[s];for(let a in t)"Device"!==a&&"Brand"!==a&&"Submodel"!==a&&a!==e&&delete t[a];this.props.changeUserAnswerModel(e,t[e]),n.model=!0,this.setState({conditionQuestion:{...this.state.conditionQuestion,show:!0,data:t[e][0].conditions},damagesList:{...this.state.damagesList,show:!1,data:[]},criteriasList:[],showPriceMsg:{},showQuestion:i,showAnswer:n,selectedAnswers:t,showSearchBar:!1,lastIndexOfCriteria:0}),document.querySelector(".answersBetaField").classList.remove("withSearch")},this.handleConditionClick=(e,s)=>{this._answerDelay=1e3;let t=this.props.userAnswers.Model[0].id,{selectedAnswers:i,isAnswerAnim:n}=this.state,a=(this.state.showQuestion,{...this.state.conditionQuestion}),r={...this.state.showAnswer};i[e]=[s],n[e]=!1;for(let l in i)"Device"!==l&&"Brand"!==l&&"Submodel"!==l&&"Model"!==l&&l!==e&&delete i[l];let o=i[e][0].id;r.condition=!0,a.show=!0,3==o?axios.get("/api/modelDamagesList?modelId=".concat(t)).then((e=>{e.data.length>0?(axios.get("/api/criteriaList?modelId=".concat(t,"&conditionId=").concat(o)).then((e=>{this.setState({criteriasList:e.data.modelCriterias}),this.props.changeModelPriceByCondition(e.data.price)})),this.setState({damagesList:{...this.state.damagesList,show:!0,data:e.data},showPriceMsg:{},selectedAnswers:i,isAnswerAnim:n,showQuestion:{...this.state.showQuestion,damagesList:!0},conditionQuestion:a,showAnswer:r,lastIndexOfCriteria:0})):axios.get("/api/criteriaList?modelId=".concat(t,"&conditionId=").concat(o)).then((e=>{if(e.data.modelCriterias.length>0){e.data.discountPrice>0&&(this.props.userAnswers.Model[0].discountPrice=e.data.discountPrice);let s=e.data.modelCriterias;s[0].active=!0,this.setState({criteriasList:s,damagesList:{...this.state.damagesList,show:!1},showPriceMsg:{},selectedAnswers:i,isAnswerAnim:n,showQuestion:{...this.state.showQuestion,criteriasList:!0},conditionQuestion:a,showAnswer:r,lastIndexOfCriteria:0}),this.props.changeModelPriceByCondition(e.data.price)}}))})):axios.get("/api/criteriaList?modelId=".concat(t,"&conditionId=").concat(o)).then((e=>{if(e.data.modelCriterias.length>0){e.data.discountPrice>0&&(this.props.userAnswers.Model[0].discountPrice=e.data.discountPrice);let s=e.data.modelCriterias;s[0].active=!0,this.setState({criteriasList:s,damagesList:{...this.state.damagesList,show:!1,data:[]},showPriceMsg:{},selectedAnswers:i,isAnswerAnim:n,showQuestion:{...this.state.showQuestion,criteriasList:!0},showAnswer:r,lastIndexOfCriteria:0}),this.props.changeModelPriceByCondition(e.data.price)}})),this.props.changeUserAnswerCondition(e,i[e])},this.setResultsFromSearchBar=e=>{this._answerDelay=1e3;let s={...this.state.showQuestion},t=this.props.userAnswers,i={...this.state.showAnswer},a={};if(a.Device=[e.brand[0]],e.brand[0].submodels[0].submodels){a.Brand=[e.brand[0].submodels[0]],a.Submodel=[e.brand[0].submodels[0].submodels[0]],a.Model=[e.device];let s=this.props.devices.filter((s=>s.id==e.brand[0].id))[0].submodels,t=s.filter((s=>s.id===e.brand[0].submodels[0].id))[0].submodels;o.Z.getModelsVerkaufen(e.brand[0].submodels[0].submodels[0].id).then((e=>{let{data:i}=e;this.setState({brandSubModels:s,subModels:t,modelsList:i.data})}))}else{a.Brand=[e.brand[0].submodels[0]],a.Model=[e.device];let s=this.props.devices.filter((s=>s.id==e.brand[0].id))[0].submodels;o.Z.getModelsVerkaufen(e.brand[0].submodels[0].id).then((e=>{let{data:t}=e;this.setState({brandSubModels:s,modelsList:t.data})}))}if(t.Device=[e.brand[0]],e.brand[0].submodels[0].submodels){t.Brand=[e.brand[0].submodels[0]],t.Submodel=[e.brand[0].submodels[0].submodels[0]],t.Model=[e.device];let s=this.props.devices.filter((s=>s.id==e.brand[0].id))[0].submodels,i=s.filter((s=>s.id===e.brand[0].submodels[0].id))[0].submodels;o.Z.getModelsVerkaufen(e.brand[0].submodels[0].submodels[0].id).then((e=>{let{data:t}=e;this.setState({brandSubModels:s,subModels:i,modelsList:t.data})}))}else{t.Brand=[e.brand[0].submodels[0]],t.Model=[e.device],delete t.Submodel;let s=this.props.devices.filter((s=>s.id==e.brand[0].id))[0].submodels;o.Z.getModelsVerkaufen(e.brand[0].submodels[0].id).then((e=>{let{data:t}=e;this.setState({brandSubModels:s,modelsList:t.data})}))}for(let n in s)"brand"==n||"subModel"==n&&t.Submodel||"model"==n?s[n]=!0:s[n]=!1;i.device=!0,i.brand=!0,i.subModel=!!t.Submodel,i.model=!0,this.setState({conditionQuestion:{...this.state.conditionQuestion,show:!0,data:e.device.conditions},damagesList:{...this.state.damagesList,show:!1,data:[]},criteriasList:[],showPriceMsg:{},showQuestion:s,showAnswer:i,selectedAnswers:a,answerOnAllQuestion:!1,lastIndexOfCriteria:0,showSearchBar:!1}),document.querySelector(".answersBetaField").classList.remove("withSearch"),n.mW.push("/verkaufen/".concat(function(e){let s="",t={...e};for(let i in t)"image"!==i&&(t[i]=[...t[i]],t[i].forEach(((e,s)=>t[i][s]={...e})));for(let i in t){let e="";switch(i){case"Model":case"Device":case"Brand":e=t[i][0].name;break;case"Submodel":e="sub-"+t[i][0].name;break;default:e=i}"image"!==i&&t[i].length>0&&t[i].forEach(((n,a)=>{0===a?1===t[i].length?s+="".concat(e.replace(/ /g,"-").toLowerCase(),"-").concat(n.id,"/"):s+="".concat(e.replace(/ /g,"-").toLowerCase(),"-").concat(n.id):a===t[i].length-1?s+=",".concat(n.id,"/"):s+=",".concat(n.id)}))}return s}(a))),this.props.changeUserAnswerFromSearchBar(e)},this.selectAnswers=(e,s,t)=>{this._answerDelay=0;let{selectedAnswers:i,isAnswerAnim:n}=this.state;i[e]||(i[e]=[]),3!=t?i[e].some((e=>e.id==s.id))?i[e]=i[e].filter((e=>s.id!=e.id)):i[e].push(s):(i[e]=[],i[e].push(s)),n[e]=!1,this.setState({selectedAnswers:i,isAnswerAnim:n})},this.answeringToQuestion=(e,s,t,i)=>{this._answerDelay=1e3;let{damagesList:n,selectedAnswers:a,lastIndexOfCriteria:r,answerOnAllQuestion:o,isAnswerAnim:l}=this.state,c={...this.state.showQuestion},d={...this.state.showAnswer},h=[...this.state.criteriasList];h=h.map((e=>({...e})));let u=t||0,m=null;if("Defects"===e){if(a.Defects&&a.Defects.some((e=>8==e.id||10==e.id||11==e.id))){let e=h.filter((e=>2==e.id))[0];e&&(this.setState({tmpCriteriaDisplay:e}),m=e.name.toLowerCase(),delete a[m],h=h.filter((e=>2!=e.id)),u>1&&--u)}else this.state.tmpCriteriaDisplay&&(h.push(this.state.tmpCriteriaDisplay),o&&(o=!1,u=h.length-1));d.damagesList=!0,c.criteriasList=!0}o?c.btnOpenResult=!0:0===u?h.length>0?(h.forEach(((e,s)=>{e.active=!0,s&&(e.active=!1)})),this.setState({criteriasList:h})):c.btnOpenResult=!0:u<h.length?(h.forEach(((e,s)=>{e.active=s<t})),h[u-1].activeAnswersField=!0,h[u].active=!0,this.setState({criteriasList:h})):(h[u-1].activeAnswersField=!0,c.btnOpenResult=!0,u=0,this.setState({answerOnAllQuestion:!0})),null!==s?(a[e]=[s],this.props.changeUserAnswer(e,a[e],i)):(a[e]||(a[e]=[]),this.props.changeUserAnswer(e,a[e],i,m)),l[e]=!1,this.setState({showQuestion:c,showAnswer:d,criteriasList:h,damagesList:n,selectedAnswers:a,lastIndexOfCriteria:u,answerOnAllQuestion:o,isAnswerAnim:l})},this.toggleInfoAboutCondition=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e._answerDelay=0,e.setState({showInfoAboutCondition:{...e.state.showInfoAboutCondition,criteriaId:s,show:!e.state.showInfoAboutCondition.show}})}}componentWillReceiveProps(e){(e.params&&Object.keys(e.params).length<=0||!e.params.device)&&($(".questionWrap:not(.visible)").css({visibility:"hidden"}),this.setState({modelsList:[],subModels:[],brandSubModels:[],criteriasList:[],damagesList:{...this.state.damagesList,data:[],show:!1},showQuestion:{...this.state.showQuestion,device:!0,brand:!1,model:!1,damagesList:!1,criteriasList:!1,subModel:!1,btnOpenResult:!1},selectedAnswers:{},conditionQuestion:{...this.state.conditionQuestion,show:!1,data:[]},lastIndexOfCriteria:0,answerOnAllQuestion:!1,showSearchBar:!0}),$(".answersBetaField").css({paddingTop:"0"}),document.querySelector(".answersBetaField").classList.add("withSearch"))}componentDidMount(){document.querySelector(".answersBetaField").classList.add("withSearch"),this.props.currentDevice&&this._setUserAnswersObject()}componentDidUpdate(e,s){let t=0,i=0,a=document.querySelector(".itemQuestion.active div.assistantQuestion"),r=document.querySelector(".itemQuestion.active .userAnswers");if(r&&a&&(t=a.scrollHeight+r.scrollHeight),i=window.isMobile?window.innerHeight-$(".answersField").outerHeight()-$(".header-mobile").outerHeight()-45:window.innerHeight-$(".answersField").outerHeight()-$("header").outerHeight(),!window.isMobile&&$(".questionWrap").css({height:i+"px"}),t>i){let e=window.isMobile?i+45:i;$(".itemQuestion").css({height:e+"px","justify-content":"baseline","overflow-y":"scroll"})}else $(".itemQuestion").css({"overflow-y":"hidden"});let{criteriasList:o,selectedAnswers:l,lastIndexOfCriteria:c}=this.state;o.forEach(((e,s)=>{s===c&&e.active&&1===e.values.length&&!l[e.name.toLowerCase()]&&(this.answeringToQuestion(e.name.toLowerCase(),e.values[0],s+1,e.id),n.mW.push("/verkaufen/".concat(d(e.values[0],e.name,e.type,l))))}))}_setUserAnswersObject(){document.getElementById("spinner-box-load").style.display="block";let e=this.props.currentDevice.slice(this.props.currentDevice.lastIndexOf("-")+1);o.Z.loadDevices("/api/devicesForPurchase").then((s=>{let t=s.data.data.filter((s=>s.id==e)),i=[],n={show:!1,data:[]},a=this._parseUrl(this.props.params),r={},l={},c={...this.state.showQuestion},d={...this.state.showAnswer},h={...this.state.showSearchBar};const u=a.Submodel?6:5,m=a.Submodel?7:6;r.Device=t,l.Device=t,c={...c,device:!1,brand:!0},d={...d,device:!0,brand:!1},a.Brand&&(e=a.Brand[0],r.Brand=t[0].submodels.filter((e=>e.id===+a.Brand[0])),l.Brand=t[0].submodels.filter((e=>e.id===+a.Brand[0])),c=r.Brand[0].submodels?{...c,device:!1,brand:!0,subModel:!0}:{...c,device:!1,brand:!0,model:!0},d=r.Brand[0].submodels?{...d,device:!0,brand:!0,subModel:!1}:{...d,device:!0,brand:!0,model:!1},i=t[0].submodels.filter((e=>e.id===+a.Brand[0])),i[0].submodels&&this.setState({subModels:i[0].submodels})),a.Submodel&&(e=a.Submodel[0],c={...c,brand:!0,subModel:!0,model:!0},d={...d,brand:!0,subModel:!0,model:!1},r.Submodel=i[0].submodels.filter((e=>e.id===+a.Submodel[0])),l.Submodel=i[0].submodels.filter((e=>e.id===+a.Submodel[0]))),document.getElementById("spinner-box-load").style.display="block",o.Z.getModelsVerkaufen(e).then((e=>{let{data:s}=e;if(setTimeout((()=>document.getElementById("spinner-box-load").style.display="none"),2e3),a.Model){let e=s.data.filter((e=>e.id===+a.Model[0])),{showPriceMsg:t}=this.state;if(n={show:!1,data:e[0].conditions},c.model=!0,n.show=!0,d.model=!0,h=!1,r.image=e[0].image,l.image=e[0].image,r.Model=e,l.Model=e,a.Condition)if(e[0].conditions.map((e=>{e.id==a.Condition[0]&&(r.Condition=[e],l.Condition=[e])})),n={show:!0,data:e[0].conditions},d.condition=!0,3==a.Condition[0]){let e=a.Defects&&a.Defects.some((e=>8==e||10==e||11==e));a.Defects&&(d.damagesList=!0),document.getElementById("spinner-box-load").style.display="block",axios.get("/api/modelDamagesList?modelId=".concat(a.Model[0])).then((s=>{let i=s.data,o=i.length>0?m:u;axios.get("/api/criteriaList?modelId=".concat(a.Model[0],"&conditionId=").concat(a.Condition[0])).then((s=>{s.data.discountPrice>0&&(r.Model[0].discountPrice=s.data.discountPrice);let c={...c},u=null;if(e){let e=s.data.modelCriterias.filter((e=>2==e.id))[0];u=s.data.modelCriterias.filter((e=>2!=e.id)),this.setState({tmpCriteriaDisplay:e})}else u=s.data.modelCriterias;if(setTimeout((()=>document.getElementById("spinner-box-load").style.display="none"),2e3),c.damagesList=i.length>0,a.Defects){r.Defects=[],l.Defects=[];let e=0;i.forEach((s=>{a.Defects.some((e=>e==s.id))&&(r.Defects.push(s),l.Defects.push(s),e+=+s.price)})),t.Defects=e>0&&{price:e}}for(let e in a)u.forEach((s=>{if(s.name.toLowerCase()===e){s.activeAnswersField=!0,r[e]=[],l[e]=[];let i=0;s.values.forEach((t=>{a[e].some((e=>e==t.id))&&(16==s.id&&(r.image=t.image,l.image=t.image),r[e].push(t),l[e].push(t),i+=+t.valuePrice)})),t[e]=i>0&&{price:i}}}));let m={show:i.length>0,data:i.length>0?i:[]};if(Object.keys(r).length-o===u.length)document.getElementById("spinner-box-load").style.display="none",c.btnOpenResult=!0,u.forEach(((e,s)=>{u[s].active=!0})),this.setState({answerOnAllQuestion:!0,criteriasList:u});else if(a.Defects||0===i.length){let e=Object.keys(r).length-o;u.forEach(((s,t)=>{u[t].active=e>=t})),c.criteriasList=!0}this.setState({damagesList:m,criteriasList:u,showPriceMsg:t,loadPrevAnswers:!1}),!r.image&&(r.image=""),this.props.setUserAnswers(r),c.device=!1,c.brand=!0,c.model=!0,c.damagesList=!0,c.criteriasList=!0,c.subModel=!!r.Submodel,n.show=!0,h=!1,d.device=!0,d.brand=!0,d.subModel=!!r.Submodel,d.model=!0,d.condition=!0,d.criteriasList=!0,this.props.changeModelPriceByCondition(s.data.price),this.setState({showQuestion:c,showAnswer:d,showSearchBar:h})}))}))}else document.getElementById("spinner-box-load").style.display="block",axios.get("/api/criteriaList?modelId=".concat(a.Model[0],"&conditionId=").concat(a.Condition[0])).then((e=>{e.data.discountPrice>0&&(r.Model[0].discountPrice=e.data.discountPrice),setTimeout((()=>document.getElementById("spinner-box-load").style.display="none"),2e3);let s=e.data.modelCriterias,i={...i},o={...o},{damagesList:c}=this.state;for(let n in a)s.forEach((e=>{if(e.name.toLowerCase()===n){e.activeAnswersField=!0,r[n]=[],l[n]=[];let s=0;e.values.forEach((t=>{a[n].some((e=>e==t.id))&&(16==e.id&&(r.image=t.image,l.image=t.image),r[n].push(t),l[n].push(t),s+=+t.valuePrice)})),t[n]=s>0&&{price:s}}}));if(Object.keys(r).length-u===s.length)document.getElementById("spinner-box-load").style.display="none",i.device=!1,i.brand=!0,i.model=!0,i.subModel=!!r.Submodel,n.show=!0,h=!1,i.criteriasList=!0,o.criteriasList=!0,o.device=!0,o.brand=!0,o.subModel=!!r.Submodel,o.model=!0,o.condition=!0,o.criteriasList=!0,i.damagesList=!!c.show,i.btnOpenResult=!0,s.forEach(((e,t)=>{s[t].active=!0})),this.setState({answerOnAllQuestion:!0,criteriasList:s,showPriceMsg:t,showQuestion:i,showAnswer:o,showSearchBar:h,conditionQuestion:n});else{let e=Object.keys(r).length-u;s.forEach(((t,i)=>{s[i].active=e>=i})),i.device=!1,i.brand=!0,i.model=!0,i.subModel=!!r.Submodel,n.show=!0,h=!1,i.criteriasList=!0,o.criteriasList=!0,o.device=!0,o.brand=!0,o.subModel=!!r.Submodel,o.model=!0,o.condition=!0,o.criteriasList=!0,i.damagesList=!!c.show}this.setState({criteriasList:s,showPriceMsg:t,showQuestion:i,showAnswer:o,showSearchBar:h}),!r.image&&(r.image=""),r.Model[0].price=e.data.price,this.setState({userAnswers:r})}))}this.setState({modelsList:s.data,conditionQuestion:n,showQuestion:c,showAnswer:d,showSearchBar:h})})),this.props.setUserAnswers(r),this.setState({selectedAnswers:l,brandSubModels:t[0].submodels})}))}_parseUrl(e){let s={};for(let t in e)if("device"!==t&&e[t]){let i="",n=[];switch(t){case"model":i="Model";break;case"brand":i="Brand";break;case"submodel":i="Submodel";break;case"condition":i="Condition";break;case"defects":i="Defects";break;default:i=e[t].slice(0,e[t].lastIndexOf("-")).split("-").join(" ")}n=e[t].slice(e[t].lastIndexOf("-")+1).split(","),s[i]=n}return s}render(){let e,{conditionQuestion:s,showQuestion:t,selectedAnswers:i,criteriasList:n,showSearchBar:a,brandSubModels:r,showAnswer:o,subModels:c,modelsList:d,isAnswerAnim:h}=this.state,{devices:u,showLastQuestion:m,userAnswers:p}=this.props;return!t.brand||t.subModel||t.model||s.show||t.criteriasList||t.damagesList?!t.subModel||t.model||s.show||t.criteriasList||t.damagesList?!t.model||s.show||t.criteriasList||t.damagesList?!s.show||t.criteriasList||t.damagesList?t.criteriasList||t.damagesList?(u=this.state.damagesList.data,e=this.answeringToQuestion):e=this.handleDeviceClick:(u=this.state.conditionQuestion.data,e=this.handleConditionClick):(u=d,e=this.handleModelClick):(u=c,e=this.handleSubModelClick):(u=r,e=this.handleBrandClick),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"part-left",children:(0,l.jsx)(S,{devices:u,setResults:this.setResultsFromSearchBar,showSearchBar:a,handleClickEditAnswer:this.handleClickEditAnswer,showQuestion:t,criteriasList:n,conditionQuestion:s,userAnswers:p,selectedAnswers:i,toggleInfoAboutCondition:this.toggleInfoAboutCondition,handleClick:e,showAnswer:o,selectAnswers:this.selectAnswers,lastIndexOfCriteria:this.props.lastIndexOfCriteria,user:this.props.user,handleShipping:this.props.handleShipping,addToBasketVerkaufen:this.props.addToBasketVerkaufen,answerDelay:this._answerDelay,isAnswerAnim:h})}),(0,l.jsx)(C,{userAnswers:this.props.userAnswers,criteriasList:n,handleClickEditAnswer:this.handleClickEditAnswer}),this.state.showInfoAboutCondition.show&&(0,l.jsx)(D,{deviceType:this.props.userAnswers.Device[0].id,brandType:this.props.userAnswers.Brand[0].id,criteriaId:this.state.showInfoAboutCondition.criteriaId,toggleInfoAboutCondition:this.toggleInfoAboutCondition})]})}}const T=(0,L.$j)((function(e){return{devices:e.shop.devicesSell,basket:e.basket,user:e.user}}),(function(e){return{basketAction:(0,B.DE)(P,e),shopAction:(0,B.DE)(E,e)}}))(_);var F=t(12279),O=t.n(F),R=t(76233),U=t(91066);const V=e=>{let{basketData:s,removeFromBasket:t,couponError:i,changeCoupon:n,goToCheckoutMobile:a}=e,r=0;return(0,l.jsxs)("div",{className:"col-md-5 productWrap",children:[(0,l.jsx)("h3",{className:"title",children:"Verkaufs\xfcbersicht"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("table",{className:"verkaufenBasket",children:(0,l.jsx)("tbody",{children:s.map((function(e,s){if(999==e.productTypeId)return r+=+e.price,(0,l.jsxs)("tr",{children:[(0,l.jsxs)("td",{children:[e.note," (",e.shortcode,")"]}),(0,l.jsx)("td",{children:(0,l.jsxs)("h4",{className:"price",children:[Math.round(100*+e.price)/100," ",window.currencyValue]})}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{onClick:()=>t(e.productTypeId,e.shortcode),className:"removeFromBasket"})})]},s);{function i(){let s=[];for(let t in e)if("image"!==t&&"Device"!==t&&"Defects"!==t&&"Submodel"!==t&&"Model"!==t&&"Brand"!==t&&"id"!==t&&"comment"!==t){let i="Condition"===t?"Allgemeiner Zustand":t;s.push((0,l.jsxs)("li",{children:[(0,l.jsxs)("strong",{children:[i,":"]})," ",e[t].map(((s,i)=>(0,l.jsxs)("span",{children:[s.name,i!==e[t].length-1?", ":null]},i)))]},t))}return s}return e.id=s,r+=q(e).price,(0,l.jsxs)("tr",{className:"itemBasketDataVerkaufen",children:[(0,l.jsxs)("td",{children:[(0,l.jsxs)("h4",{children:[e.Model[0].name," ",e.Model[0].nameExt?" (".concat(e.Model[0].nameExt,")"):null]}),(0,l.jsxs)("div",{className:"wrapCriterias",children:[(0,l.jsx)("img",{src:e.image}),(0,l.jsxs)("ul",{children:[" ",i()," "]})]})]}),(0,l.jsxs)("td",{children:[(0,l.jsxs)("p",{className:"price discount-price",children:[q(e).price," ",window.currencyValue]}),q(e).oldPrice>0&&(0,l.jsxs)("p",{className:"price old-price",children:[q(e).oldPrice," ",window.currencyValue]})]}),(0,l.jsx)("td",{children:(0,l.jsx)("span",{onClick:()=>t(null,e.id),className:"removeFromBasket"})})]},s)}}))})}),r>0&&(0,l.jsxs)("div",{className:"total clearfix",children:[(0,l.jsx)("p",{className:"col-xs-6 title",children:"Total gesch\xe4tzter Preis:"}),(0,l.jsxs)("p",{className:"col-xs-6 priceTotal",children:[r," ",window.currencyValue]})]})]}),(0,l.jsx)("div",{className:"commentField",children:(0,l.jsx)("textarea",{name:"comment",rows:"2",placeholder:"Notiz / Spezielle Anmerkungen"})}),(0,l.jsx)("div",{className:"couponField",children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox"}),"+ Gutscheincode hinzuf\xfcgen",(0,l.jsx)("input",{type:"text",className:i?"errorInput":"",name:"coupon",placeholder:"Gutschein",onChange:n}),i&&(0,l.jsx)("span",{className:"errorText",children:i})]})})]}),window.isMobile&&(0,l.jsx)("div",{className:"btn basketToCheckout mobileFixedBtn",onClick:a,children:"Zur Kasse"})]})};V.defaultProps={};function q(e){let s=+e.Model[0].minPrice,t=0,i=0;for(let n in e)"Defects"===n?e[n].forEach((e=>t+=+e.price)):"Brand"!==n&&"Submodel"!==n&&"image"!==n&&"Device"!==n&&"Condition"!==n&&"id"!==n&&"comment"!==n&&("Model"===n?e[n].forEach((e=>{t+=+e.price})):e[n].forEach((s=>{let i=+e.Model[0].price,n=+s.valuePrice.replace(/,/g,".").replace(/[^0-9.]/g,""),a=0,r=s.valuePrice.includes("%"),o=s.valuePrice.includes("-");r?(a=5*Math.ceil(i*(n/100)/5),o?t-=a:t+=a):o?t-=n:t+=n})));return t<s&&(t=s),i=t,e.Model[0].discountPrice>0&&(t+=+e.Model[0].discountPrice),i===t&&(i=0),i=5*Math.round(i/5),t=5*Math.round(t/5),{price:t,oldPrice:i}}class Q extends i.Component{constructor(e){super(e),this.renderCustomerData=()=>{let{changeCountry:e,country:s,inputCheckbox:t,changeCheckbox:i,ifErrorPayment:n,error:a,user:r,goToDelivery:o,uidNumberField:c,handlerChangeInput:d}=this.props,h=window.domainName.name.split(".")[window.domainName.name.split(".").length-1],u=t.company?c?"rowInputs uid-number-wrap show-input":"rowInputs uid-number-wrap":"rowInputs uid-number-wrap hide";return(0,l.jsxs)("div",{className:"customer-data",children:[(0,l.jsxs)("h3",{className:"title",children:[(0,l.jsx)("span",{className:"num",children:"1"}),(0,l.jsx)("span",{className:"text",children:"Pers\xf6nliche Daten"}),(0,l.jsx)("span",{className:"arrow",children:(0,l.jsx)("i",{className:"fa fa-angle-up","aria-hidden":"true"})})]}),this.state.showLoginForm&&window.isMobile&&(0,l.jsxs)("form",{name:"loginFormMobile",children:[(0,l.jsx)("p",{children:(0,l.jsx)("input",{type:"text",placeholder:"password"})}),(0,l.jsx)("p",{children:(0,l.jsx)("input",{type:"text",placeholder:"e-mail"})}),(0,l.jsxs)("button",{type:"button",className:"btn right",onClick:this.showLoginForm,children:["Einloggen",(0,l.jsx)("span",{children:(0,l.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]}),!r.isLogin&&(0,l.jsxs)("div",{className:"login-buttons sell-form",children:[(0,l.jsx)("h3",{children:"Ihre Angaben:"}),(0,l.jsx)("div",{className:"topPersonalData as-guest",children:(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",onChange:i,name:"asGuest",className:"checkbox-login-as-guest"}),(0,l.jsx)("span",{className:"check"}),"Als Gast verkaufen - hierbei wird kein Benutzeraccount erstellt"]})})]}),(0,l.jsxs)("div",{className:"wrapperItemBasket",style:{display:"block"},children:[(0,l.jsx)("div",{className:"billingForm",children:(0,l.jsx)("div",{className:"row",children:(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("div",{className:"topPersonalData",children:(0,l.jsxs)("div",{className:"wrapLabel",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"gender",value:"Herr",required:!0}),(0,l.jsx)("span",{}),"Herr"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"gender",value:"Frau",required:!0}),(0,l.jsx)("span",{}),"Frau"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",name:"company",checked:t.company,onChange:i}),(0,l.jsx)("span",{className:"check"}),"Firma"]})]})}),(0,l.jsx)("div",{className:t.company?" rowInputs":" rowInputs hide",children:(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsx)("input",{type:"text",name:"companyName",placeholder:"Firma",required:t.company}),(0,l.jsx)("span",{className:"placeholder",children:"Firma"})]})}),(0,l.jsxs)("div",{className:u,children:[(0,l.jsxs)("div",{className:"text",children:[(0,l.jsxs)("span",{onClick:()=>$(".uid-number-wrap").addClass("show-input").find("input").focus(),children:["+",W[h].text]}),(0,l.jsxs)("div",{className:"question-sign",children:[(0,l.jsx)("img",{src:"/images/design/question_condition.svg",alt:""}),(0,l.jsx)("div",{className:"info-icon-text",children:W[h].tooltip})]})]}),(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsx)("input",{type:"text",onBlur:this.handlerBlurInputUIDNumber,name:"companyUidNumber",value:c,onChange:d,placeholder:W[h].text,required:t.company}),(0,l.jsx)("span",{className:"placeholder",children:W[h].text})]})]}),(0,l.jsx)("div",{className:"rowInputs-wrapper",children:(0,l.jsxs)("div",{className:" rowInputs",children:[(0,l.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,l.jsx)("input",{type:"text",name:"firstname",placeholder:"Vorname",required:!0}),(0,l.jsx)("span",{className:"placeholder",children:"Vorname"})]}),(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsx)("input",{type:"text",name:"lastname",placeholder:"Nachname",required:!0}),(0,l.jsx)("span",{className:"placeholder",children:"Nachname"})]})]})}),(0,l.jsx)("div",{className:"rowInputs-wrapper",children:(0,l.jsxs)("div",{className:"rowInputs",children:[(0,l.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,l.jsx)("input",{type:"email",name:"email",className:a.info?"error":null,placeholder:"E-Mail",required:!0}),(0,l.jsx)("span",{className:"placeholder",children:"E-Mail"}),(0,l.jsx)("span",{className:"errorText",children:a.info})]}),(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsx)("input",{type:"tel",name:"phone",placeholder:"Telefon (mobil)",minLength:"10",required:!0}),(0,l.jsx)("span",{className:"placeholder",children:"Telefon (mobil)"})]})]})}),window.isDesktop?(0,l.jsxs)("div",{className:"rowInputs-wrapper",children:[(0,l.jsxs)("div",{className:"personalDataAddress rowInputs",children:[(0,l.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,l.jsx)("input",{type:"text",name:"street",id:"route",placeholder:"Strasse",required:!0}),(0,l.jsx)("span",{className:"placeholder",children:"Strasse"})]}),(0,l.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,l.jsx)("input",{type:"text",name:"number",id:"street_number",placeholder:"Nr.",required:!0}),(0,l.jsx)("span",{className:"placeholder",children:"Nr."})]})]}),(0,l.jsxs)("div",{className:"personalDataCity rowInputs",children:[(0,l.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,l.jsx)("input",{type:"text",name:"zip",placeholder:"PLZ",id:"postal_code",required:!0}),(0,l.jsx)("span",{className:"placeholder",children:"PLZ"})]}),(0,l.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,l.jsx)("input",{type:"text",name:"city",placeholder:"Stadt",id:"locality",required:!0}),(0,l.jsx)("span",{className:"placeholder",children:"Stadt"})]})]})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"rowInputs-wrapper",children:(0,l.jsxs)("div",{className:"rowInputs",children:[(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsx)("input",{type:"text",name:"street",id:"route",placeholder:"Strasse",required:!0}),(0,l.jsx)("span",{className:"placeholder",children:"Strasse"})]}),(0,l.jsxs)("div",{className:"input-wrapper input-wrapper-sm d-none",children:[(0,l.jsx)("input",{type:"text",name:"number",id:"street_number",placeholder:"Nr."}),(0,l.jsx)("span",{className:"placeholder",children:"Nr."})]})]})}),(0,l.jsx)("div",{className:"rowInputs-wrapper",children:(0,l.jsxs)("div",{className:"rowInputs",children:[(0,l.jsxs)("div",{className:"input-wrapper input-wrapper-sm d-none",children:[(0,l.jsx)("input",{type:"text",name:"zip",placeholder:"PLZ",id:"postal_code"}),(0,l.jsx)("span",{className:"placeholder",children:"PLZ"})]}),(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsx)("input",{type:"text",name:"city",placeholder:"Stadt",id:"locality",required:!0}),(0,l.jsx)("span",{className:"placeholder",children:"Stadt"})]})]})})]}),(0,l.jsxs)("div",{className:"select",children:[!s.countriesList.some((e=>e.value===s.currentCountry.inputCountry.toLowerCase()))&&(0,l.jsx)("input",{className:"requiredSelect",type:"text",required:!0}),(0,l.jsx)(Select,{placeholder:"Ausw\xe4hlen...",value:s.currentCountry.inputCountry.toLowerCase(),name:"inputCountry",clearable:!1,options:s.countriesList,searchable:!1,required:!0,onChange:s=>e(s,"inputCountry")})]}),!r.isLogin&&!t.asGuest&&(0,l.jsxs)("div",{className:"inputFullWidth rowInputs password",children:[(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsx)("input",{type:"password",name:"password",placeholder:"Passwort (min. 8 Zeichen + min. 1 Nr.)",className:a.password?"error":null,onChange:this.changePassword,required:!n}),(0,l.jsx)("span",{className:"placeholder",children:"Passwort (min. 8 Zeichen + min. 1 Nr.)"}),(0,l.jsx)("span",{className:"errorText",children:a.password})]}),(0,l.jsx)("div",{className:"statusBarPassword"})]}),(0,l.jsxs)("label",{className:"shippingAddressCheck",children:[(0,l.jsx)("input",{type:"checkbox",name:"shippingAddress",value:t.shippingAddress,defaultChecked:t.shippingAddress,onChange:i}),(0,l.jsx)("span",{})," Diese Adresse auch f\xfcr R\xfccksendungen benutzen"]})]})})}),(0,l.jsxs)("div",{className:!0===t.shippingAddress?"hide shippingForm":"shippingForm",children:[(0,l.jsx)("div",{className:"topPersonalData",children:(0,l.jsxs)("div",{className:"wrapLabel",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"customer_gender",value:"Herr",required:!t.shippingAddress}),(0,l.jsx)("span",{}),"Herr"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"radio",name:"customer_gender",value:"Frau",required:!t.shippingAddress}),(0,l.jsx)("span",{}),"Frau"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",name:"customerCompanyName",value:!0,defaultChecked:t.customerCompanyName,onClick:i}),(0,l.jsx)("span",{className:"check"}),"Firma"]})]})}),(0,l.jsx)("div",{className:t.customerCompanyName?"rowInputs":"rowInputs hide",children:(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsx)("input",{type:"text",name:"customer_companyName",placeholder:"Firma",required:t.customerCompanyName}),(0,l.jsx)("span",{className:"placeholder",children:"Firma"})]})}),(0,l.jsx)("div",{className:"rowInputs-wrapper",children:(0,l.jsxs)("div",{className:"rowInputs",children:[(0,l.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,l.jsx)("input",{type:"text",name:"customer_firstname",placeholder:"Vorname",required:!t.shippingAddress}),(0,l.jsx)("span",{className:"placeholder",children:"Vorname"})]}),(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsx)("input",{type:"text",name:"customer_lastname",placeholder:"Nachname",required:!t.shippingAddress}),(0,l.jsx)("span",{className:"placeholder",children:"Nachname"})]})]})}),(0,l.jsxs)("div",{className:"rowInputs-wrapper",children:[(0,l.jsxs)("div",{className:"personalDataAddress rowInputs",children:[(0,l.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,l.jsx)("input",{type:"text",name:"customer_street",id:"customer_route",placeholder:"Strasse",required:!t.shippingAddress}),(0,l.jsx)("span",{className:"placeholder",children:"Strasse"})]}),(0,l.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,l.jsx)("input",{type:"text",name:"customer_number",id:"customer_street_number",placeholder:"Nr.",required:!t.shippingAddress}),(0,l.jsx)("span",{className:"placeholder",children:"Nr."})]})]}),(0,l.jsxs)("div",{className:"personalDataCity rowInputs",children:[(0,l.jsxs)("div",{className:"input-wrapper input-wrapper-sm",children:[(0,l.jsx)("input",{type:"text",name:"customer_zip",placeholder:"PLZ",id:"customer_postal_code",required:!t.shippingAddress}),(0,l.jsx)("span",{className:"placeholder",children:"PLZ"})]}),(0,l.jsxs)("div",{className:"input-wrapper input-wrapper-lg",children:[(0,l.jsx)("input",{type:"text",name:"customer_city",placeholder:"Stadt",id:"customer_locality",required:!t.shippingAddress}),(0,l.jsx)("span",{className:"placeholder",children:"Stadt"})]})]})]}),(0,l.jsxs)("div",{className:"select",children:[!s.countriesList.some((e=>e.value===s.currentCountry.customer_inputCountry.toLowerCase()))&&!0!==t.shippingAddress&&(0,l.jsx)("input",{className:"requiredSelect",type:"text",required:!0}),(0,l.jsx)(Select,{placeholder:"Ausw\xe4hlen...",value:s.currentCountry.customer_inputCountry.toLowerCase(),name:"customer_inputCountry",clearable:!1,options:s.countriesList,searchable:!1,onChange:s=>e(s,"customer_inputCountry")})]}),(0,l.jsx)("div",{className:"rowInputs-wrapper",children:(0,l.jsxs)("div",{className:"rowInputs",children:[(0,l.jsxs)("div",{className:"input-wrapper adjust-wrapper",children:[(0,l.jsx)("input",{type:"email",name:"customer_email",placeholder:"E-Mail",required:!t.shippingAddress}),(0,l.jsx)("span",{className:"placeholder",children:"E-Mail"}),(0,l.jsx)("span",{className:"errorText",children:a.info})]}),(0,l.jsxs)("div",{className:"input-wrapper",children:[(0,l.jsx)("input",{type:"tel",name:"customer_phone",placeholder:"Telefon (mobil)",minLength:"10",required:!t.shippingAddress}),(0,l.jsx)("span",{className:"placeholder",children:"Telefon (mobil)"})]})]})})]})]}),window.isMobile&&(0,l.jsx)("button",{type:"button",className:"btn toDelivery",onClick:o,children:"Zu den Lieferoptionen"})]})},this.renderOther=()=>{let{price:e,userAnswers:s,storageSellDeadline:t,showAddCoupon:i,coupon:n,changeCoupon:a,inputCoupon:r,setInputCoupon:o}=this.props,{activeNavItem:c}=this.state,d=this.calculateTotalPrice().totalPrice,u=this.calculateTotalPrice().basketPrice;return(0,l.jsxs)("div",{className:"other-data",children:[(0,l.jsxs)("div",{className:"price-info",children:[(0,l.jsx)("div",{className:"image",children:(0,l.jsx)("img",{src:s.image,alt:""})}),t&&t.isActive&&!t.sellDeadlineExpired&&e.couponPrice?(0,l.jsxs)("div",{className:"price",children:[(0,l.jsx)("p",{className:"title",children:"Ihr Preis"}),(0,l.jsxs)("p",{className:"oldPrice value",children:[e.price," ",window.currencyValue]}),(0,l.jsx)(h.f,{animationIn:"bounceIn",animationInDelay:1e3,children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"value",children:[e.couponPrice," ",window.currencyValue]}),(0,l.jsxs)("p",{className:"couponInfo",children:[(0,l.jsx)("span",{className:"circleOk"}),"Gutschein ",t.couponShortcode," wurde eingel\xf6st"]})]})})]}):(0,l.jsxs)("div",{className:"price",children:[(0,l.jsx)("p",{className:"title",children:"Ihr Preis"}),(0,l.jsxs)("div",{className:"price-area",children:[(0,l.jsxs)("p",{className:e.oldPrice>0?"oldPrice value":"value",children:[e.oldPrice>0?e.oldPrice:e.price," ",window.currencyValue]}),e.oldPrice>0&&!s.Model[0].discountPrice>0&&(0,l.jsx)(h.f,{animationIn:"bounceIn",animationInDelay:1e3,children:(0,l.jsx)("div",{children:(0,l.jsxs)("p",{className:"value",children:[e.price," ",window.currencyValue]})})})]}),s.Model[0].discountPrice>0&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"value",children:[e.price," ",window.currencyValue]}),n.isCoupon&&(0,l.jsxs)("p",{className:"couponInfo",children:[(0,l.jsx)("span",{className:"circleOk"}),"Gutschein ",n.couponShortcode," wurde eingel\xf6st"]})]}),i&&(0,l.jsxs)("div",{className:"couponField",children:[!r&&(0,l.jsxs)("div",{className:"couponField-checkbox",children:[(0,l.jsx)("input",{type:"checkbox",id:"coupon",onClick:()=>o(!0)}),(0,l.jsx)("label",{htmlFor:"coupon",children:"+ Gutscheincode hinzuf\xfcgen"})]}),r&&(0,l.jsxs)("div",{className:"couponField-input",children:[(0,l.jsx)("input",{type:"text",id:"coupon_input",className:n.couponError?"errorInput":"",name:"coupon",onBlur:this.deactivePlaceHolder,onChange:a}),(0,l.jsx)("span",{id:"coupon_placeholder",className:"placeholder",onClick:this.activePlaceHolder,children:"Gutschein einl\xf6sen"}),(0,l.jsx)("img",{onClick:()=>o(!1),className:"coupon-remove",src:"/images/design/small-remove-1.svg",alt:""}),n.couponError&&(0,l.jsx)("span",{className:"errorText",children:n.couponError})]})]})]})]}),(0,l.jsx)("div",{className:"devider"}),(0,l.jsxs)("div",{className:"payment-request",children:[(0,l.jsx)("h3",{className:"title",children:"Ihr Auszahlungswunsch"}),(0,l.jsxs)("div",{className:"tabs-nav",children:[(0,l.jsx)("div",{className:"later"===c?"item-tab active":"item-tab",onClick:this.clickNavItem,"data-type":"later",children:"Zahlungsdaten sp\xe4ter angeben"}),(0,l.jsx)("div",{className:"now"===c?"item-tab active":"item-tab",onClick:this.clickNavItem,"data-type":"now",children:"Zahlungsdaten jetzt angeben"})]}),"now"===c&&(0,l.jsxs)("div",{className:"tab-nav-content",children:[(0,l.jsxs)("div",{className:"item-method",children:[(0,l.jsxs)("div",{className:"wrap-label",children:[(0,l.jsxs)("label",{className:"custom-radio-check",children:[(0,l.jsx)("input",{onChange:this.changeDesiredPayoutType,onLoad:this.changeDesiredPayoutType,type:"radio",name:"desiredPayoutType",value:"2",checked:"checked",required:!0}),(0,l.jsx)("span",{className:"mark"}),(0,l.jsx)("img",{src:"/images/design/sell-payment-bank-icon-black.svg",alt:""}),(0,l.jsxs)("div",{children:["Bank\xfcberweisung",u>0&&(0,l.jsxs)("div",{className:"basketPrice",children:[(0,l.jsxs)("strong",{children:["+ ",u," ",window.currencyValue]})," ","- Es sind mehrere Ger\xe4te im Verkaufskorb"]})]})]}),(0,l.jsxs)("span",{className:"price",children:[d," ",window.currencyValue]})]}),(0,l.jsxs)("div",{className:"inputRow",children:[(0,l.jsx)("input",{type:"text",name:"iban",placeholder:"Ihre IBAN-Nummer",required:!0}),(0,l.jsxs)("div",{className:"image-icon",children:[(0,l.jsx)("img",{src:"/images/design/qmark-grey.svg",alt:""}),(0,l.jsx)("span",{className:"info-icon-text",children:"Hier k\xf6nnen Sie Ihre IBAN-Nummer (Bankkontonummer) angeben, damit wir Ihnen den Betrag auf dieses Konto auszahlen k\xf6nnen. Die IBAN-Nummer steht oft auch auf Ihrer EC-Karte."})]})]})]}),(0,l.jsxs)("div",{className:"footer",children:[(0,l.jsxs)("div",{className:"item-column marker",children:[(0,l.jsx)("span",{className:"check-icon"}),(0,l.jsx)("div",{className:"image-wrap",children:(0,l.jsx)("img",{src:"/images/design/sell-payment-express.svg",alt:""})})]}),(0,l.jsxs)("div",{className:"item-column big",children:[(0,l.jsx)("p",{className:"title",children:"Immer inklusive und kostenfrei"}),(0,l.jsx)("p",{className:"descr",children:"Sie erhalten Ihr Geld Express: Auszahlung am gleichen Tag bei Anlieferung vor 14 Uhr. Dauer der Auszahlung auf Ihr Bankkonto im Normalfall 1-2 Werktage."})]})]})]})]})]})},this.state={activeNavItem:"now",showLoginForm:!1,desiredPayoutTypeValue:null,inputCoupon:!1},this.loginUser=this.loginUser.bind(this),this.clickNavItem=this.clickNavItem.bind(this),this.changePassword=this.changePassword.bind(this),this.showLoginForm=this.showLoginForm.bind(this),this.showSocialRegisterForm=this.showSocialRegisterForm.bind(this),this.changeDesiredPayoutType=this.changeDesiredPayoutType.bind(this),this.handlerBlurInputUIDNumber=this.handlerBlurInputUIDNumber.bind(this),this.calculateTotalPrice=this.calculateTotalPrice.bind(this),this.renderCustomerData=this.renderCustomerData.bind(this),this.renderOther=this.renderOther.bind(this)}componentDidMount(){this.setState({country:{...this.state.country,countriesList:[{value:"ch",label:"Schweiz"},{value:"li",label:"Liechtenstein"}]}}),window.isGoogleConnection&&U.o9.call(this,2)}_setFormFields(e){let s=document.forms.editUserProfileForm,{country:t,inputCheckbox:i}=this.state;for(let n in e)switch(n){case"company":e[n]?(i.systemCompany=!0,s[n].value=e[n]):(i.systemCompany=!1,s[n].value=e[n]);break;case"LieferFirmenname":e[n]?(i.shippingCompany=!0,s[n].value=e[n]):(i.shippingCompany=!1,s[n].value=e[n]);break;case"RechnungFirmenname":e[n]?(i.customerCompany=!0,s[n].value=e[n]):(i.customerCompany=!1,s[n].value=e[n]);break;case"Sprache":s[n]&&(s[n].value=e[n]),t.currentCountry.system_inputCountry=e[n];break;case"LieferLand":s[n]&&(s[n].value=e[n]),t.currentCountry.inputCountry=e[n];break;case"RechnungLand":s[n]&&(s[n].value=e[n]),t.currentCountry.customer_inputCountry=e[n];break;default:s[n]&&(s[n].value=e[n])}this.setState({inputCheckbox:i,country:t})}componentWillReceiveProps(e){e.inputCheckbox.asGuest&&this.setState({activeNavItem:"now",desiredPayoutTypeValue:null})}changeDesiredPayoutType(e){let{value:s}=e.target;this.setState({desiredPayoutTypeValue:s})}clickNavItem(e){if(!this.props.inputCheckbox.asGuest){let s=e.currentTarget.getAttribute("data-type");this.setState({activeNavItem:s,desiredPayoutTypeValue:null})}}handlerBlurInputUIDNumber(e){e.target.value||$(".uid-number-wrap").removeClass("show-input")}changePassword(e){let{value:s}=e.target;/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,32}$/.test(s.trim())?$(e.target).parents(".inputFullWidth").find(".statusBarPassword").css({background:"#00cb94"}):$(e.target).parents(".inputFullWidth").find(".statusBarPassword").css({background:"#ff0000"})}showLoginForm(){this.props.cancelRedirect(!0),document.getElementById("op").checked=!0,$(".login-box-wrapper").css({display:"block"})}showSocialRegisterForm(e){this.props.cancelRedirect(!0),"facebook"===e?FB.login((s=>{let t={token:s.authResponse.accessToken,provider:e};axios.post("/api/socialAuth",t).then((e=>{window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{404===e.response.status&&(document.getElementById("op").checked=!0,this.setState({errorLogin:{...this.state.errorLogin,socialNoEmail:e.response.data},errorRegistration:{...this.state.errorRegistration,socialNoEmail:e.response.data}}))}))}),{scope:"email"}):window.gapiAuth2.signIn().then((e=>{let s={token:e.Zi.access_token,provider:"google"};axios.post("/api/socialAuth",s).then((e=>{window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{e.response.status}))}))}calculateTotalPrice(){let e=this.props.price.price,s=0;return this.props.basketDataVerkaufen.forEach((t=>{999==t.productTypeId?(e+=+t.price,s+=+t.price):(e+=q(t).price,s+=q(t).price)})),{totalPrice:e,basketPrice:s}}loginFacebook(e){e.preventDefault(),document.getElementById("op").checked=!1,this.setState({errorLogin:{...this.state.errorLogin,socialNoEmail:""},errorRegistration:{...this.state.errorRegistration,socialNoEmail:""}}),FB.login((e=>{let s={token:e.authResponse.accessToken,provider:"facebook"};document.getElementById("spinner-box-load").style.display="block",axios.post("/api/socialAuth",s).then((e=>{window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{404===e.response.status&&(document.getElementById("spinner-box-load").style.display="none",document.getElementById("op").checked=!0,this.setState({errorLogin:{...this.state.errorLogin,socialNoEmail:e.response.data},errorRegistration:{...this.state.errorRegistration,socialNoEmail:e.response.data}}))}))}),{scope:"email"})}loginGoogle(e){e.preventDefault(),this.setState({errorLogin:{...this.state.errorLogin,socialNoEmail:""},errorRegistration:{...this.state.errorRegistration,socialNoEmail:""}}),document.getElementById("op").checked=!1,window.gapiAuth2.signIn().then((e=>{let s={token:e.Zi.access_token,provider:"google"};document.getElementById("spinner-box-load").style.display="block",axios.post("/api/socialAuth",s).then((e=>{window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{404===e.response.status&&(document.getElementById("spinner-box-load").style.display="none",document.getElementById("op").checked=!0,this.setState({errorLogin:{...this.state.errorLogin,socialNoEmail:e.response.data},errorRegistration:{...this.state.errorRegistration,socialNoEmail:e.response.data}}))}))}))}closeLoginForm(){[...document.querySelectorAll(".simform input:not([type=submit])")].forEach((e=>e.value="")),this.setState({errorRegistration:{email:"",phone:"",password:"",password_confirmation:"",socialNoEmail:""},errorLogin:{infoMsg:"",login:"",password:"",socialNoEmail:"",resendActivationLink:"",successResend:""},showInputCode:!1,spinner:null}),this.props.userActions.setRedirectTo(!1),this.props.userActions.cancelRedirectToMyAccount(!1),$(".login-box-wrapper").css({display:"none"})}loginUser(e){let s=new FormData(document.forms.loginFormMobile);document.getElementById("spinner-box-load").style.display="block",axios.post("/api/login",s).then((e=>{if("false"===e.data.status){document.getElementById("spinner-box-load").style.display="none";let{errorLogin:s}=this.state;s[e.data.field]=e.data.message,e.data.resendActivationLink&&(s.resendActivationLink=e.data.resendActivationLink),this.setState({errorLogin:s})}else window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{document.getElementById("spinner-box-load").style.display="none";let s,t,i=e.response.data.errors;i&&(i.login&&(s=i.login[0]),i.password&&(t=i.password[0])),this.setState({errorLogin:{...this.state.errorLogin,login:s,password:t},spinner:null})}))}activePlaceHolder(e){$(e.currentTarget).hasClass("focused")||($(e.currentTarget).addClass("focused"),$("#coupon_input").focus())}deactivePlaceHolder(e){""==$("#coupon_input").val()&&$("#coupon_placeholder").removeClass("focused")}render(){return(0,l.jsx)("div",{children:window.isDesktop?(0,l.jsxs)("div",{className:"personalData",children:[this.renderCustomerData(),this.renderOther()]}):(0,l.jsxs)("div",{className:"personalData",children:[this.renderOther(),this.renderCustomerData()]})})}}const z=Q,W={de:{text:"USt-ID angeben",tooltip:"Bei Angabe der MwSt.-Nr. wird diese als Vorsteuerabzug beim Ankauf angewendet"},ch:{text:"MwSt.-Nr. angeben",tooltip:"Bei Angabe der USt-ID-Nr. wird diese als Vorsteuerabzug beim Ankauf angewendet"},loc:{text:"MwSt.-Nr. angeben",tooltip:"Bei Angabe der USt-ID-Nr. wird diese als Vorsteuerabzug beim Ankauf angewendet"}};class G extends i.Component{constructor(e){super(e),this.chooseLocation=()=>{$("#myModalResult").modal("hide"),$("#modalChooseLocation").modal("show")},this.renderContent=()=>{const{place:e,changeSummaryTabContent:s,handleClickMobileBtn:t,setCurrentTabFrom:i,setStep:n,saveAndBackToSellProcess:a,addToBasket:r}=this.props,{sellDeadline:o}=this.state;let c=window.domainName.name.split(".")[window.domainName.name.split(".").length-1],d=1==e.id?"https://goo.gl/maps/rryoP8YWRQ72":5==e.id?"https://goo.gl/maps/6hMDDXpzFun":6==e.id?"https://goo.gl/maps/YX34fVYT5UE2":"";return(0,l.jsxs)("div",{className:"content",children:[(0,l.jsx)("h1",{className:"bring-title",children:"Inhre Angaben"}),(0,l.jsxs)("div",{className:"bring-info-item",children:[(0,l.jsxs)("div",{className:"bring-info-item-title",children:[(0,l.jsx)("div",{className:"mark-img",children:(0,l.jsx)("img",{src:"/images/design/sell/address.svg",alt:""})}),(0,l.jsx)("span",{children:"Adress"})]}),(0,l.jsxs)("div",{className:"bring-info-item-content",children:[(0,l.jsxs)("p",{children:["ch"===c?"remarket.ch":"remarket.de"," - ",e.descriptionBranch]}),(0,l.jsx)("p",{children:e.address}),(0,l.jsxs)("p",{children:[e.zip," ",e.city]}),(0,l.jsxs)("a",{className:"open-map",target:"_blank",href:d,children:[(0,l.jsx)("img",{src:"/images/design/sell/focus.svg"}),(0,l.jsx)("span",{children:"Show on the map"})]})]})]}),(0,l.jsxs)("div",{className:"bring-info-item",children:[(0,l.jsxs)("div",{className:"bring-info-item-title",children:[(0,l.jsx)("div",{className:"mark-img",children:(0,l.jsx)("img",{src:"/images/design/sell/email.svg",alt:""})}),(0,l.jsx)("span",{children:"E-mail"})]}),(0,l.jsx)("div",{className:"bring-info-item-content",children:(0,l.jsx)("p",{id:"email-rot-13"})})]}),(0,l.jsxs)("div",{className:"bring-info-item",children:[(0,l.jsxs)("div",{className:"bring-info-item-title",children:[(0,l.jsx)("div",{className:"mark-img",children:(0,l.jsx)("img",{src:"/images/design/sell/diagnos.svg",alt:""})}),(0,l.jsx)("span",{children:"Diagnosezeiten"})]}),(0,l.jsxs)("div",{className:"bring-info-item-content",children:[(0,l.jsxs)("div",{className:"same-size",children:[(0,l.jsx)("p",{className:"p1",children:"Smartphone:"}),(0,l.jsx)("p",{className:"p2",children:"ca. 30-60 Minuten"})]}),(0,l.jsxs)("div",{className:"same-size",children:[(0,l.jsx)("p",{className:"p1",children:"Computer:"}),(0,l.jsx)("p",{className:"p2",children:"1 Tag"})]}),(0,l.jsxs)("div",{className:"same-size",children:[(0,l.jsx)("p",{className:"p1",children:"Tablet:"}),(0,l.jsx)("p",{className:"p2",children:"ca. 30-60 Minuten"})]})]})]}),(0,l.jsxs)("div",{className:"bring-info-item",children:[(0,l.jsxs)("div",{className:"bring-info-item-title",children:[(0,l.jsx)("div",{className:"mark-img",children:(0,l.jsx)("img",{src:"/images/design/sell/ausza.svg",alt:""})}),(0,l.jsx)("span",{children:"Auszahlungsm\xf6glichkeiten"})]}),(0,l.jsxs)("div",{className:"bring-info-item-content",children:[(0,l.jsx)("p",{children:"Barzahlung:  Sofortige Express-Auszahlung m\xf6glich (ohne Abzug)"}),(0,l.jsx)("p",{children:"Bank\xfcberweisung: 1-2 Tage"})]})]}),(0,l.jsxs)("div",{className:"bring-info-item",children:[(0,l.jsxs)("div",{className:"bring-info-item-title",children:[(0,l.jsx)("div",{className:"mark-img",children:(0,l.jsx)("img",{src:"/images/design/sell/workingtime.svg",alt:""})}),(0,l.jsx)("span",{children:"\xd6ffnungszeiten"})]}),(0,l.jsxs)("div",{className:"bring-info-item-content",children:[(0,l.jsxs)("div",{className:"same-size-2",children:[(0,l.jsx)("p",{className:"p1",children:"Mo:"}),(0,l.jsx)("p",{className:"p2",children:e.openingHours.mon})]}),(0,l.jsxs)("div",{className:"same-size-2",children:[(0,l.jsx)("p",{className:"p1",children:"Di:"}),(0,l.jsx)("p",{className:"p2",children:e.openingHours.tue})]}),(0,l.jsxs)("div",{className:"same-size-2",children:[(0,l.jsx)("p",{className:"p1",children:"Mi:"}),(0,l.jsx)("p",{className:"p2",children:e.openingHours.wed})]}),(0,l.jsxs)("div",{className:"same-size-2",children:[(0,l.jsx)("p",{className:"p1",children:"Do:"}),(0,l.jsx)("p",{className:"p2",children:e.openingHours.thu})]}),(0,l.jsxs)("div",{className:"same-size-2",children:[(0,l.jsx)("p",{className:"p1",children:"Fr:"}),(0,l.jsx)("p",{className:"p2",children:e.openingHours.fri})]}),(0,l.jsxs)("div",{className:"same-size-2",children:[(0,l.jsx)("p",{className:"p1",children:"Sa:"}),(0,l.jsx)("p",{className:"p2",children:e.openingHours.sat})]})]})]}),(0,l.jsxs)("div",{className:"bring-info-item",children:[(0,l.jsxs)("div",{className:"bring-info-item-title",children:[(0,l.jsx)("div",{className:"mark-img",children:(0,l.jsx)("img",{src:"/images/design/sell/telefon.svg",alt:""})}),(0,l.jsx)("span",{children:"Telefon"})]}),(0,l.jsx)("div",{className:"bring-info-item-content",children:(0,l.jsx)("a",{href:e.phone,children:e.phone})})]}),null,(0,l.jsxs)("div",{className:"bring-info-button",children:[(0,l.jsx)("button",{className:"btn",onClick:()=>s("chooseLocation"),children:"\xdcbersicht Filialen"}),(0,l.jsx)("button",{className:"btn sumary","data-name":"summary",onClick:e=>{i(),n&&t(e)},children:"Gratis per Post einsenden"})]})]})},this.renderOther=()=>{const{userAnswers:e,storageSellDeadline:s,price:t,coupon:i}=this.props;return(0,l.jsxs)("div",{className:"other-data",children:[(0,l.jsxs)("div",{className:"price-info",children:[(0,l.jsx)("div",{className:"image",children:(0,l.jsx)("img",{src:e.image,alt:""})}),s&&s.isActive&&!s.sellDeadlineExpired&&t.couponPrice?(0,l.jsxs)("div",{className:"price",children:[(0,l.jsx)("p",{className:"title",children:"Ihr Preis"}),(0,l.jsxs)("p",{className:"oldPrice value",children:[t.price," ",window.currencyValue]}),(0,l.jsx)(h.f,{animationIn:"bounceIn",animationInDelay:1e3,children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"value",children:[t.couponPrice," ",window.currencyValue]}),(0,l.jsxs)("p",{className:"couponInfo",children:[(0,l.jsx)("span",{className:"circleOk"}),"Gutschein ",s.couponShortcode," wurde eingel\xf6st"]})]})})]}):(0,l.jsxs)("div",{className:"price",children:[(0,l.jsx)("p",{className:"title",children:"Ihr Preis"}),(0,l.jsxs)("div",{className:"price-area",children:[(0,l.jsxs)("p",{className:t.oldPrice>0?"oldPrice value":"value",children:[t.oldPrice>0?t.oldPrice:t.price," ",window.currencyValue]}),t.oldPrice>0&&!e.Model[0].discountPrice>0&&(0,l.jsx)(h.f,{animationIn:"bounceIn",animationInDelay:1e3,children:(0,l.jsx)("div",{children:(0,l.jsxs)("p",{className:"value",children:[t.price," ",window.currencyValue]})})})]}),e.Model[0].discountPrice>0&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"value",children:[t.price," ",window.currencyValue]}),i.isCoupon&&(0,l.jsxs)("p",{className:"couponInfo",children:[(0,l.jsx)("span",{className:"circleOk"}),"Gutschein ",i.couponShortcode," wurde eingel\xf6st"]})]})]})]}),(0,l.jsxs)("div",{className:"information-block",children:[(0,l.jsx)("div",{className:"information-img",children:(0,l.jsx)("img",{src:"/images/design/sell/information.svg",alt:""})}),(0,l.jsxs)("div",{className:"information-text",children:[(0,l.jsx)("p",{children:"Gerne k\xf6nnen Sie bei uns im Ladenlokal das Ger\xe4t verkaufen oder kostenlos uns per Post zusenden."}),(0,l.jsx)("div",{className:"devider"}),(0,l.jsx)("p",{children:"Bitte bringen Sie uns Ihre Ger\xe4te aufgeladen vorbei (sofern m\xf6glich) um die Diagnosezeit gering zu halten."})]})]})]})},this.state={sellDeadline:0,couponShortcode:""},this.renderContent=this.renderContent.bind(this),this.renderOther=this.renderOther.bind(this)}componentDidMount(){window.isGoogleConnection,this.encryptedEmail(),this.checkIfsellDeadlineExpired()}componentWillReceiveProps(e){window.isGoogleConnection,this.checkIfsellDeadlineExpired()}checkIfsellDeadlineExpired(){let e=JSON.parse(window.localStorage.getItem("sellDeadline"));!e||e.isUnlimited||e.sellDeadlineExpired?this.setState({sellDeadline:0,couponShortcode:""}):this.setState({sellDeadline:1,couponShortcode:e.couponShortcode})}encryptedEmail(){let e=window.domainName.name.split(".")[window.domainName.name.split(".").length-1];document.getElementById("email-rot-13").innerHTML="de"===e?'<n uers="znvygb:vasb@erznexrg.qr" >vasb@erznexrg.qr</n>'.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)})):'<n uers="znvygb:vasb@erznexrg.pu" >vasb@erznexrg.pu</n>'.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}))}render(){return(0,l.jsx)("div",{children:window.isDesktop?(0,l.jsxs)("div",{className:"bring-to-shop-new",id:"bringToShop",children:[this.renderContent(),this.renderOther()]}):(0,l.jsxs)("div",{className:"bring-to-shop-new",id:"bringToShop",children:[this.renderOther(),this.renderContent()]})})}}const H=(0,L.$j)((function(e){return{user:e.user}}),null)(G),Z=e=>{let{places:s,changeSummaryTabContent:t}=e;return(0,l.jsxs)("div",{className:"choose-location",children:[(0,l.jsx)("div",{className:"close-btn",onClick:e=>{t("generalInfo")},children:(0,l.jsx)("img",{src:"/images/design/circle_close.svg"})}),(0,l.jsx)("p",{className:"title",children:"Ladenlokal besuchen"}),(0,l.jsx)("p",{className:"description",children:"W\xe4hlen Sie die Filiale aus, welche Sie besuchen wollen, um weitere Informationen zu erhalten."}),(0,l.jsx)("div",{className:"place-btn",children:s.data.map(((e,s)=>(0,l.jsxs)("button",{className:"btn bigText text-center",onClick:s=>{t("bringToShop",e)},children:[(0,l.jsx)("img",{alt:"",src:"/images/".concat(e.id,".svg"),style:{marginRight:17}}),(0,l.jsxs)("div",{className:"location-title",children:["Filiale ",e.descriptionBranch]})]},"location-btn-".concat(s))))})]})};Z.defaultProps={};const K=Z;class J extends i.Component{constructor(e){super(e),this.timer=null,this._gtag_report_conversion_by_postal=e=>(gtag("event","conversion",{send_to:"AW-827036726/CBjWCIaAqscBELaorooD",value:this._calculatePrice().price,currency:"CHF",event_callback:function(){"undefined"!=typeof e&&(window.location=e)}}),!1),this._gtag_report_conversion_Basel_Barfusserplatz=e=>(gtag("event","conversion",{send_to:"AW-827036726/CGLSCOnA1pYBELaorooD",event_callback:function(){"undefined"!=typeof e&&(window.location=e)}}),!1),this._gtag_report_conversion_Basel_St_Jakob=e=>(gtag("event","conversion",{send_to:"AW-827036726/VWneCM2d4pYBELaorooD",event_callback:function(){"undefined"!=typeof e&&(window.location=e)}}),!1),this._gtag_report_conversion_Bern_Shoppyland=e=>(gtag("event","conversion",{send_to:"AW-827036726/UHMXCOu_1pYBELaorooD",event_callback:function(){"undefined"!=typeof e&&(window.location=e)}}),!1),this.state={country:{countriesList:[],currentCountry:{inputCountry:"CH",customer_inputCountry:"CH"}},inputCheckbox:{shippingAddress:!0,company:!1,customerCompanyName:!1,agree:!1,asGuest:!1},coupon:{couponError:null,couponPrice:null,couponShortcode:null,isCoupon:!1},errors:{password:"",info:"",general:""},currentTab:"summary",pdfUrl:"",showOldPrice:!1,summaryTabContent:"chooseLocation",uidNumberField:"",place:{},defineTypeElem:0,sellDeadline:!!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.MIX_IS_SELL_COUPON,sellDeadlineExpired:!1,isUnlimited:!1,inputCoupon:!1},this._calculatePrice=this._calculatePrice.bind(this),this._mapCriterias=this._mapCriterias.bind(this),this._setPersonalDataFields=this._setPersonalDataFields.bind(this),this._getPersonalDataFields=this._getPersonalDataFields.bind(this),this.changeCountry=this.changeCountry.bind(this),this.changeCheckbox=this.changeCheckbox.bind(this),this.changeForm=this.changeForm.bind(this),this.handleClickMobileBtn=this.handleClickMobileBtn.bind(this),this.send=this.send.bind(this),this.handleKeyPress=this.handleKeyPress.bind(this),this.changeCoupon=this.changeCoupon.bind(this),this.setInputCoupon=this.setInputCoupon.bind(this),this.addToBasket=this.addToBasket.bind(this),this.saveAndBackToSellProcess=this.saveAndBackToSellProcess.bind(this),this.changeSummaryTabContent=this.changeSummaryTabContent.bind(this),this._gtag_report_conversion=this._gtag_report_conversion.bind(this),this.handlerChangeInput=this.handlerChangeInput.bind(this)}componentWillMount(){this.inputCouponCallback=O()((function(e){let s=document.forms.basketForm.email.value,{shippingAddress:t}=this.state.inputCheckbox;axios.get("/api/checkCoupon?coupon=".concat(e.target.value,"&email=").concat(s,"&shippingAddress=").concat(t,"&couponType=6")).then((s=>{this.state.coupon.isCoupon?this.setState({coupon:{...this.state.coupon,couponError:"Guteschein wurde bereits benutzt"}}):(e.target.value="",this.setInputCoupon(!1),this.setState({coupon:{...this.state.coupon,isCoupon:!0,data:s.data,couponShortcode:s.data.shortcode,showOldPrice:!1,couponPrice:+s.data.price}}))})).catch((e=>{console.log("error = ",e);let{data:s}=e.response;this.setState({coupon:{...this.state.coupon,couponError:s}})}))}),1e3)}componentWillReceiveProps(e){if("generalInfo"==e.chooseSummaryTab&&this.changeSummaryTabContent("generalInfo"),e.user.isLogin!==this.props.user.isLogin&&!1===e.user.isLogin){document.querySelectorAll(".personalData input").forEach((e=>{e.value="",e.checked=!1}));let{inputCheckbox:e}=this.state;e.company=!1,this.setState({inputCheckbox:e})}e.user.isLogin!==this.props.user.isLogin&&!0===e.user.isLogin&&this.setState({errors:{...this.state.errors,info:""}}),e.user.data!==this.props.user.data&&e.user.data&&(window.localStorage.removeItem("userDataVerkaufen"),window.localStorage.removeItem("userData"),this._setPersonalDataFields(e.user.data))}componentWillUnmount(){$("#intercom-container .intercom-launcher-frame").attr("style","bottom:20px !important"),$("#tidio-chat #tidio-chat-iframe").css({bottom:"-10px",right:"10px"}),$("body .fixedBtnVerkaufenResult").remove(),document.querySelector("body").removeEventListener("keyup",this.handleKeyPress,{passive:!0}),clearTimeout(this.timer),clearInterval(this.countdown)}componentDidMount(){if(window.isMobile?($("body .verkaufenQuestion").remove(),this.props.setTitle&&this.props.setTitle('<span class="count">1/3</span> Zusammenfassung'),$("#intercom-container").length>0&&($("#intercom-container .intercom-launcher-frame").removeAttr("style"),$("#intercom-container").before('<div class="fixedBtnVerkaufenResult summary"></div>')),$("#tidio-chat").length>0?$("#tidio-chat").before('<div class="fixedBtnVerkaufenResult summary"></div>'):$("body").append('<div class="fixedBtnVerkaufenResult summary"></div>')):$("#myModalResult").modal(),$(".nav-pills a").on("click",(e=>e.preventDefault())),this.props.user.isLogin&&this.props.user.data)this._setPersonalDataFields(this.props.user.data);else{let e=JSON.parse(window.localStorage.getItem("userDataVerkaufen"));e&&this._setPersonalDataFields(e)}this.setState({country:{...this.state.country,countriesList:[{value:"ch",label:"Schweiz"},{value:"li",label:"Liechtenstein"}]}}),window.isGoogleConnection&&U.o9.call(this,2,"userDataVerkaufen"),document.querySelector("body").addEventListener("keyup",this.handleKeyPress),this.props.showInstructions&&this.setState({pdfUrl:this.props.pdfUrl,currentTab:"instructions"}),this.timer=setTimeout((()=>this.setState({showOldPrice:!0})),1500),"perPost"==this.props.shippingType?(this.setState({currentTab:"form"}),this.props.setTitle&&this.props.setTitle('<span class="count">2/3</span> Pers\xf6nliche Angaben'),this.props.setStep&&this.props.setStep("form"),$(".buttonsForMobile .sendForm").css({display:"block"}),$(".buttonsForMobile .summary").css({display:"none"}),$(".fixedBtnVerkaufenResult").removeClass("summary")):this.props.shippingType&&window.isMobile?(this.changeSummaryTabContent(this.props.shippingType),$("body .verkaufenQuestion").remove(),this.props.setTitle&&this.props.setTitle('<span class="count">1/3</span> Zusammenfassung'),$("#intercom-container").length>0&&($("#intercom-container .intercom-launcher-frame").removeAttr("style"),$("#intercom-container").before('<div class="fixedBtnVerkaufenResult summary"></div>')),$("#tidio-chat").length>0?$("#tidio-chat").before('<div class="fixedBtnVerkaufenResult summary"></div>'):$("body").append('<div class="fixedBtnVerkaufenResult summary"></div>')):this.props.shippingType&&this.changeSummaryTabContent(this.props.shippingType)}updateCountDown(){this.setState({sellDeadline:!0});let e=JSON.parse(window.localStorage.getItem("sellDeadline")),s=document.getElementById("timer-countdown");if(!e||e&&e.sellDeadlineExpired)return this.setState({sellDeadlineExpired:!0}),void clearInterval(this.countdown);e&&e.isUnlimited&&this.setState({isUnlimited:!0});var t=(new Date).getTime(),i=new Date(e.countDownDate).getTime()-t,n=Math.floor(i%1728e5/36e5),a=Math.floor(i%36e5/6e4);Math.floor(i%6e4/1e3);s&&(s.innerHTML=n+"Std. "+a+"Min."),!e.isUnlimited&&i<0&&(e.sellDeadlineExpired=1,window.localStorage.setItem("sellDeadline",JSON.stringify(e)),clearInterval(this.countdown),this.setState({sellDeadlineExpired:!0}))}_gapi_load_surveyoptin(){var e=window.localStorage.getItem("email"),s=window.localStorage.getItem("order"),t=JSON.parse(window.localStorage.getItem("loggedUserData")),i=JSON.parse(window.localStorage.getItem("userDataVerkaufen"));let n={};if(t&&t.shippingAddress)n.country=t.shippingAddress.inputCountry;else{if(!i||!i.shippingAddress)return;n.country=i.shippingAddress.inputCountry}const a=new Date;let r=2;[5,6,0].includes(a.getDay())&&(r=3);let o=new Date(a.setDate(a.getDate()+r)).toISOString().substring(0,10);"undefined"!==typeof window.gapi&&window.gapi.load("surveyoptin",(function(){window.gapi.surveyoptin.render({merchant_id:120090380,order_id:s,email:e,delivery_country:n.country,estimated_delivery_date:o})}))}_gtag_report_conversion(e){return gtag("event","conversion",{send_to:"AW-827036726/CBjWCIaAqscBELaorooD",value:this._calculatePrice().price,currency:"CHF",event_callback:function(){"undefined"!=typeof e&&(window.location=e)}}),!1}handlerChangeInput(e){this.setState({uidNumberField:e.target.value})}handleKeyPress(e){"Escape"===e.key&&(($("#modalAGBReg").data("bs.modal")||{}).isShown?$("#modalAGBReg").modal("hide"):($("#myModalResult").modal("hide"),this.props.closeShowResults(this.state.currentTab,this.state.inputCheckbox.asGuest)))}_setPersonalDataFields(e){let s=document.forms.basketForm,{country:t,inputCheckbox:i,uidNumberField:n}=this.state;if(s){for(let n in e.billingAddress)"customer_inputCountry"===n?t.currentCountry.customer_inputCountry=e.billingAddress[n]:"customer_companyName"===n?e.billingAddress[n]?(i.customerCompanyName=!0,s[n].value=e.billingAddress[n]):(i.customerCompanyName=!1,s[n].value=e.billingAddress[n]):s[n]&&(s[n].value=e.billingAddress[n]);for(let a in e.shippingAddress)"inputCountry"===a?t.currentCountry.inputCountry=e.shippingAddress[a]:"companyName"===a?e.shippingAddress[a]?(i.company=!0,s[a].value=e.shippingAddress[a]):(i.company=!1,s[a].value=e.shippingAddress[a]):"vat"===a?n=e.shippingAddress[a]:s[a]&&(s[a].value=e.shippingAddress[a])}this.setState({country:t,inputCheckbox:i,uidNumberField:n,autoloadPersonalData:{...this.state.autoloadPersonalData,element:null,data:null}})}_getPersonalDataFields(){let e=document.forms.basketForm,s={};return e&&(s.shippingAddress={city:e.city.value,companyName:e.companyName.value,vat:e.companyUidNumber.value,email:e.email.value,firstname:e.firstname.value,gender:e.gender.value,inputCountry:e.inputCountry&&e.inputCountry.value,lastname:e.lastname.value,number:e.number.value,phone:e.phone.value,street:e.street.value,zip:e.zip.value},s.billingAddress={customer_city:e.city.value,customer_companyName:e.companyName.value,customer_email:e.email.value,customer_firstname:e.firstname.value,customer_gender:e.gender.value,customer_inputCountry:e.customer_inputCountry&&e.customer_inputCountry.value,customer_lastname:e.lastname.value,customer_number:e.number.value,customer_phone:e.phone.value,customer_street:e.street.value,customer_zip:e.zip.value}),s}changeCountry(e,s){let{value:t}=e,{currentCountry:i}=this.state.country;i[s]=t,this.setState({country:{...this.state.country,currentCountry:i}})}changeCoupon(e){this.setState({coupon:{...this.state.coupon,couponError:null}}),e.persist(),this.inputCouponCallback(e)}setInputCoupon(e){this.setState({coupon:{...this.state.coupon,couponError:null}}),this.setState({inputCoupon:e})}addToBasket(e){let{userAnswers:s}=this.props,t=[];this.state.coupon.isCoupon?t=[s,this.state.coupon.data]:t.push(s),this.props.addToBasketVerkaufen(e,t)}saveAndBackToSellProcess(e){this.props.addToBasketVerkaufen(e,[this.props.userAnswers],!0),this.props.handlerBack&&this.props.handlerBack()}changeCheckbox(e){let{inputCheckbox:s}=this.state,{name:t}=e.target;s[t]=!s[t],this.setState({inputCheckbox:s})}changeForm(){let e=this._getPersonalDataFields();window.localStorage.setItem("userDataVerkaufen",JSON.stringify(e)),this.setState({errors:{...this.state.errors,info:"",password:"",general:""}})}cancelSendByEnter(e){if("Enter"===e.key)return e.preventDefault(),!1}send(e){e.preventDefault();let s=window.domainName.name.split(".")[window.domainName.name.split(".").length-1],t=JSON.parse(window.localStorage.getItem("sellDeadline")),i=this._calculatePrice().price>99;if(this.state.inputCheckbox.agree){let e=new FormData(document.forms.basketForm),n=[...this.props.basket.basketDataVerkaufen,this.props.userAnswers];if(this.state.coupon.isCoupon&&n.push(this.state.coupon.data),t&&!t.sellDeadlineExpired&&t.isActive&&i){let e={couponProductTypeId:6,note:"Limitierter Gutschein",price:"20.00",productTypeId:999,shortcode:t.couponShortcode};n=n.filter((e=>999!==e.productTypeId)),n.push(e)}e.append("basketData",JSON.stringify(n)),document.getElementById("spinner-box-load").style.display="block",axios.post("/api/basketPayout",e).then((e=>{window.localStorage.setItem("email",e.data[0].viewData.email),window.localStorage.setItem("order",e.data[0].viewData.basketPayoutShortcode),window.localStorage.setItem("template",JSON.stringify(e.data[0].viewData.templates)),window.localStorage.setItem("PDFData",JSON.stringify(e.data[0].PDFData)),window.localStorage.setItem("basketDataVerkaufenForSellPage",JSON.stringify(this.props.basket.basketDataVerkaufen)),window.localStorage.removeItem("basketDataVerkaufen"),this.props.basketActions.changeBasketVerkaufenData([]),document.getElementById("spinner-box-load").style.display="none",this.setState({currentTab:"instructions"}),window.isGoogleConnection&&(this._gtag_report_conversion_by_postal(),this._gapi_load_surveyoptin()),window.isMobile&&($(".buttonsForMobile .sendForm").css({display:"none"}),$(".buttonsForMobile .estimatePrice").css({display:"block"}),this.props.setTitle&&this.props.setTitle('<span class="count">3/3</span> Anleitung'),this.props.setStep&&this.props.setStep("instructions"),this.props.setIsGuest&&this.props.setIsGuest(this.state.inputCheckbox.asGuest)),this.setState({pdfUrl:e.data[0].PDFPath,currentTab:"instructions"}),window.isGoogleConnection,window.isFBConnection&&(fbq("track","CompleteRegistration",{value:e.data[0].PDFData.totalPrice,currency:window.currencyValue}),"ch"===s&&fbq("track","Purchase",{value:e.data[0].PDFData.totalPrice,currency:"CHF"}))})).catch((e=>{let s,t,i,n=e.response.data.errors;n&&(n.email&&(s=n.email),n.password&&(t=n.password),n.general&&(i=n.general)),this.setState({errors:{...this.state.errors,info:s,password:t,general:i}}),document.getElementById("spinner-box-load").style.display="none"}))}}handleClickMobileBtn(e){let s=e.target.getAttribute("data-name");"summary"===s?(this.setState({currentTab:"form"}),this.props.setTitle&&this.props.setTitle('<span class="count">2/3</span> Pers\xf6nliche Angaben'),this.props.setStep&&this.props.setStep("form"),$(".buttonsForMobile .sendForm").css({display:"block"}),$(".buttonsForMobile .summary").css({display:"none"}),$(".fixedBtnVerkaufenResult").removeClass("summary")):"form"===s&&$("#form button[type='submit']").click()}_calculatePrice(){let e,{userAnswers:s}=this.props,t=+s.Model[0].minPrice,i=0,n=0;for(let r in s)"Defects"===r?s[r].forEach((e=>i+=+e.price)):"Brand"!==r&&"Submodel"!==r&&"image"!==r&&"Device"!==r&&"Condition"!==r&&"comment"!==r&&("Model"===r?s[r].forEach((e=>{i+=+e.price})):s[r].forEach((e=>{let t=+s.Model[0].price,n=+e.valuePrice.replace(/,/g,".").replace(/[^0-9.]/g,""),a=0,r=e.valuePrice.includes("%"),o=e.valuePrice.includes("-");r?(a=5*Math.ceil(t*(n/100)/5),o?i-=a:i+=a):o?i-=n:i+=n})));i<t&&(i=t),n=i,this.state.coupon.isCoupon&&(i+=+this.state.coupon.couponPrice),s.Model[0].discountPrice>0&&(i+=+s.Model[0].discountPrice),n===i&&(n=0),n=5*Math.round(n/5),i=5*Math.round(i/5);const a=JSON.parse(window.localStorage.getItem("sellDeadline"));return a&&a.isActive&&!a.sellDeadlineExpired&&i>99&&(e=i+20),{price:i||0,oldPrice:n||0,couponPrice:e}}_mapCriterias(){let{userAnswers:e}=this.props,s=[];for(let i in e){let t="",n=window.isMobile?"col-xs-6 itemAnswer":"col-xs-4 itemAnswer";switch(i){case"Brand":t="Marke";break;case"Submodel":t="Untermodell";break;case"Model":t="Modell";break;case"Condition":t="Allgemeiner Zustand";break;case"Defects":t="Liste der Defekte";break;default:t=i}"image"!==i&&"Device"!==i&&"Defects"!==i&&"comment"!==i&&s.push((0,l.jsxs)("div",{className:n,children:[(0,l.jsx)("p",{className:"title",children:t}),(0,l.jsxs)("ul",{children:[e[i].map(((e,s)=>(0,l.jsxs)("li",{children:[e.name," ",e.nameExt?" (".concat(e.nameExt,")"):null,!e.hasOwnProperty("colorCode")&&"Model"!==i&&e.image&&(0,l.jsx)("img",{src:e.image}),e.colorCode&&(0,l.jsx)("span",{className:"colorPic",style:{backgroundColor:e.colorCode}})]},s))),0===e[i].length&&(0,l.jsx)("li",{children:"-"})]})]},i)),"Defects"===i&&s.push((0,l.jsxs)("div",{className:n,children:[(0,l.jsx)("p",{className:"title",children:t}),(0,l.jsx)("p",{children:e[i].map(((s,t)=>(0,l.jsxs)("span",{children:[s["description-short"],t<e[i].length-1?", ":null]},t)))})]},i))}let t=window.isMobile?2:3;return s.reduce(((e,s,i)=>(i%t===0&&e.push([]),e[e.length-1].push(s),e)),[]).map((function(e,s){return(0,l.jsx)("div",{className:"row",children:e},s)}))}changeSummaryTabContent(e,s){({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).MIX_IS_SELL_COUPON&&(setTimeout((()=>{this.setState({sellDeadline:!1}),this.updateCountDown()}),1e3),this.countdown=setInterval((()=>{this.setState({sellDeadline:!1}),this.updateCountDown()}),6e4)),"generalInfo"==e&&window.isMobile&&this.props.handleClearSummaryTab(),"bringToShop"==e&&window.isGoogleConnection&&(1===s.id?this._gtag_report_conversion_Basel_Barfusserplatz():5===s.id?this._gtag_report_conversion_Basel_St_Jakob():6===s.id&&this._gtag_report_conversion_Bern_Shoppyland()),"chooseLocation"==e&&window.isDesktop,this.setState({summaryTabContent:e,place:s})}showLoginForm(){this.setState({showLoginForm:!0,defineTypeElem:this.state.defineTypeElem+1})}_loadPersonalData(e){e&&axios.get("/api/customerAgileData").then((e=>{document.getElementById("spinner-box-load").style.display="none",200===e.status&&this.props.userActions.loginSuccess(e.data)})).catch((e=>{}))}loginFormMobile(e){e.preventDefault();let s=new FormData(document.forms.loginFormMobile);document.getElementById("spinner-box-load").style.display="block",axios.post("/api/login",s).then((e=>{if("OK"!==e.statusText){document.getElementById("spinner-box-load").style.display="none";let{errorLogin:s}=this.state;s[e.data.field]=e.data.message,e.data.resendActivationLink&&(s.resendActivationLink=e.data.resendActivationLink),this.setState({errorLogin:s})}else window.localStorage.setItem("token",e.data.token),window.axios.defaults.headers.common["Authorization-Token"]=e.data.token,this._loadPersonalData(e.data.token)})).catch((e=>{document.getElementById("spinner-box-load").style.display="none";let s,t,i=e.response.data.errors;i&&(i.login&&(s=i.login[0]),i.password&&(t=i.password[0])),this.setState({errorLogin:{...this.state.errorLogin,login:s,password:t},spinner:null})}))}render(){$("#tidio-chat #tidio-chat-iframe").show();let{userAnswers:e,changeComment:s,goBack:t,user:i}=this.props,{country:n,inputCheckbox:a,errors:r,currentTab:o,coupon:c,inputCoupon:d,summaryTabContent:h,uidNumberField:u,place:m,defineTypeElem:p,showLoginForm:x,sellDeadlineExpired:w,sellDeadline:b,isUnlimited:v}=this.state,j=0,f=this.props.basket.basketDataVerkaufen.every((e=>999!=e.productTypeId)),N=JSON.parse(window.localStorage.getItem("locationData")),k=JSON.parse(window.localStorage.getItem("sellDeadline"));return this.props.showInstructions||(j=this._calculatePrice()),(0,l.jsxs)("div",{className:window.isDesktop?"resultSellPage":"resultSellPage for-mobile",children:["chooseLocation"===h&&window.isDesktop&&(0,l.jsx)("div",{className:"cover"}),(0,l.jsxs)("div",{className:"chooseLocation"===h&&window.isDesktop?"tabs blurred":"chooseLocation"===h?"hide":"tabs",children:[(0,l.jsxs)("div",{className:"tab-menu",children:[(0,l.jsxs)("div",{className:"tab-menu-top",children:[(0,l.jsx)("img",{src:"/images/design/home_new.svg"}),(0,l.jsx)("img",{className:"allow-img",src:"/images/design/allow-right.svg"}),(0,l.jsx)("a",{href:"#",onClick:t,children:"Verkaufen"})]}),(0,l.jsxs)("ul",{className:"nav nav-pills nav-justified",role:"tablist",children:[(0,l.jsx)("li",{role:"presentation",className:"summary"===o?"active":null,children:(0,l.jsxs)("a",{href:"#summary","aria-controls":"home",role:"tab",children:[(0,l.jsx)("span",{className:"num",children:"1"}),(0,l.jsx)("span",{className:"step-name",children:"Zusammenfassung"})]})}),!window.isDesktop&&(0,l.jsx)("li",{role:"presentation",className:"active",children:(0,l.jsx)("div",{className:"separator"})}),(0,l.jsx)("li",{role:"presentation",className:"form"===o?"active":null,children:(0,l.jsxs)("a",{href:"#form","aria-controls":"profile",role:"tab",children:[(0,l.jsx)("span",{className:"num",children:"2"}),(0,l.jsx)("span",{className:"step-name",children:"Pers\xf6nliche Angaben"})]})}),!window.isDesktop&&(0,l.jsx)("li",{role:"presentation",className:"form"===o||"instructions"===o?"active":null,children:(0,l.jsx)("div",{className:"separator"})}),(0,l.jsx)("li",{role:"presentation",className:"instructions"===o?"active":null,children:(0,l.jsxs)("a",{href:"#instructions","aria-controls":"messages",role:"tab",children:[(0,l.jsx)("span",{className:"num",children:"3"}),(0,l.jsx)("span",{className:"step-name",children:"Anleitung"})]})})]}),window.isDesktop&&(0,l.jsx)("div",{className:"tab-menu-bottom",children:e&&("summary"===o&&"chooseLocation"!==h||"form"===o)&&(0,l.jsx)(g,{user:i,id:o})})]}),(0,l.jsxs)("div",{className:"tab-content",children:[e&&(0,l.jsx)("div",{role:"tabpanel",className:"summary"===o?"tab-pane active":"tab-pane",id:"summary",children:(0,l.jsx)("div",{className:"clearfix",children:(0,l.jsx)(H,{place:m&&0!==Object.keys(m).length?m:N.data[0],userAnswers:e,storageSellDeadline:k,price:j,coupon:c,sellDeadlineExpired:w,changeSummaryTabContent:this.changeSummaryTabContent,handleClickMobileBtn:this.handleClickMobileBtn,setStep:this.props.setStep,setCurrentTabFrom:()=>this.setState({currentTab:"form"}),saveAndBackToSellProcess:this.saveAndBackToSellProcess,addToBasket:this.addToBasket})})}),e&&(0,l.jsx)("div",{role:"tabpanel",className:"form"===o?"tab-pane active":"tab-pane",id:"form",children:(0,l.jsxs)("div",{className:"clearfix",children:[r.general&&(0,l.jsx)("p",{className:"errorInfo",children:r.general}),(0,l.jsxs)("form",{action:"#",name:"basketForm",onChange:this.changeForm,onKeyPress:this.cancelSendByEnter.bind(this),onSubmit:this.send,children:[(0,l.jsx)("div",{className:"basketWrap",children:(0,l.jsx)(z,{country:n,basketDataVerkaufen:this.props.basket.basketDataVerkaufen,uidNumberField:u,handlerChangeInput:this.handlerChangeInput,price:j,cancelRedirect:this.props.userActions.cancelRedirectToMyAccount,user:this.props.user,error:r,inputCheckbox:a,changeCountry:this.changeCountry,changeCheckbox:this.changeCheckbox,userAnswers:e,storageSellDeadline:k,showAddCoupon:f,coupon:c,changeCoupon:this.changeCoupon,inputCoupon:d,setInputCoupon:this.setInputCoupon})}),(0,l.jsxs)("div",{className:"basketWrap-bottom",children:[(0,l.jsx)("span",{className:"agree",children:(0,l.jsxs)("label",{htmlFor:"agree",children:[(0,l.jsx)("input",{type:"checkbox",id:"agree",name:"agree",required:!0,onChange:this.changeCheckbox}),(0,l.jsx)("span",{className:"checkbox"}),(0,l.jsxs)("span",{children:["Ich habe die"," ",(0,l.jsx)("a",{href:"/ueber-uns/agb",target:"_blank",children:"AGB"})," ","und die"," ",(0,l.jsx)("a",{href:"/ueber-uns/datenschutzerklaerung",target:"_blank",children:"Datenschutzerkl\xe4rung"})," ","gelesen und akzeptiere diese"]})]})}),(0,l.jsx)("div",{className:"text-left buttons",children:(0,l.jsxs)("button",{type:"submit",className:"btn pulsing",onSubmit:this.send,children:["Abschliessen",(0,l.jsx)("span",{children:(0,l.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})})]})]})]})}),(0,l.jsxs)("div",{role:"tabpanel",className:"instructions"===o?"tab-pane howItWorks active":"tab-pane howItWorks",id:"instructions",children:[(0,l.jsxs)("div",{className:"clearfix periods",children:[(0,l.jsxs)("div",{className:"col-sm-4 itemPeriod",children:[(0,l.jsxs)("div",{className:"image",children:[(0,l.jsx)("div",{className:"num",children:(0,l.jsx)("img",{src:"/images/design/1.svg",alt:"ds"})}),(0,l.jsx)("img",{src:"/images/design/estimate-icon-new.svg",alt:""})]}),(0,l.jsxs)("div",{className:"desc",children:[(0,l.jsx)("h4",{children:"Ger\xe4t zur\xfccksetzen"}),(0,l.jsx)("p",{children:"L\xf6schen Sie alle Daten auf Ihrem Ger\xe4t indem Sie es auf die Werkseinstellungen zur\xfccksetzen"})]})]}),(0,l.jsxs)("div",{className:"col-sm-4 itemPeriod",children:[(0,l.jsxs)("div",{className:"image",children:[(0,l.jsx)("div",{className:"num",children:(0,l.jsx)("img",{src:"/images/design/2.svg",alt:""})}),(0,l.jsx)("img",{src:"/images/design/send-icon-new.svg",alt:""})]}),(0,l.jsxs)("div",{className:"desc",children:[(0,l.jsx)("h4",{children:"Ger\xe4t einsenden"}),(0,l.jsxs)("p",{children:["Senden Sie Ihr Ger\xe4t ",(0,l.jsx)("strong",{children:"kostenlos"})," mit dem vorfrankierten Versandlabel per Post zu."]})]})]}),(0,l.jsxs)("div",{className:"col-sm-4 itemPeriod",children:[(0,l.jsxs)("div",{className:"image",children:[(0,l.jsx)("div",{className:"num",children:(0,l.jsx)("img",{src:"/images/design/3.svg",alt:""})}),(0,l.jsx)("img",{src:"/images/design/get-icon-new.svg",alt:""})]}),(0,l.jsxs)("div",{className:"desc",children:[(0,l.jsx)("h4",{children:"Zahlung erhalten"}),(0,l.jsxs)("p",{children:["Nach Pr\xfcfung Ihres Ger\xe4tes wird der Betrag"," ",(0,l.jsx)("strong",{children:"Express"})," ausbezahlt."]})]})]})]}),(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("p",{className:"comment",children:"Wir haben Ihnen ebenfalls das Versandlabel und die Anleitung via E-Mail zugesende"}),(0,l.jsxs)("a",{href:"//".concat(window.location.host,"/").concat(this.state.pdfUrl),target:"_blank",className:"estimatePrice btn",children:[" ","Herunterladen und ausdrucken",(0,l.jsx)("span",{children:(0,l.jsx)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"})})]})]})]})]}),!window.isDesktop&&(0,l.jsx)("div",{className:"tab-menu-bottom",children:e&&("summary"===o&&"chooseLocation"!==h||"form"===o||"instructions"===o)&&(0,l.jsx)(g,{user:i,id:o})})]}),"chooseLocation"===h&&(0,l.jsx)(K,{places:N,changeSummaryTabContent:this.changeSummaryTabContent})]})}}const X=(0,L.$j)((function(e){return{basket:e.basket,user:e.user,places:e.places.currentLocation}}),(function(e){return{basketActions:(0,B.DE)(P,e),userActions:(0,B.DE)(R,e)}}),null,{pure:!1})(J);var Y=t(22667);class ee extends i.Component{constructor(e){super(e),this.onClickUpdatePage=()=>{this.setState({isRestart:!0},(function(){this.setState({isRestart:!1})}))},this.changeModelPriceByCondition=e=>{let{userAnswers:s}=this.state;s.Model[0].price=e,this.setState({userAnswers:s})},this.deleteUserAnswer=e=>{let s={...this.state.userAnswers};delete s[e],this.setState({userAnswers:s})},this.changeUserAnswer=(e,s,t,i)=>{let{userAnswers:n}=this.state;if("Defects"===e&&s.some((e=>8==e.id||10==e.id||11==e.id))&&delete n[i],"Brand"===e){let t={};t.Device=this.state.userAnswers.Device,t[e]=[...s],this.setState({userAnswers:t})}else if("Submodel"===e){let t={};t.Device=this.state.userAnswers.Device,t.Brand=this.state.userAnswers.Brand,t[e]=[...s],this.setState({userAnswers:t})}else if(t&&16==t){n.image=s[0].image,n[e]=[...s];let t={...n};this.setState({userAnswers:t})}else{n[e]=[...s];let t={...n};this.setState({userAnswers:t})}},this.changeUserAnswerModel=(e,s)=>{let t={};t.image=s[0].image,t.Device=this.state.userAnswers.Device,t.Brand=this.state.userAnswers.Brand,this.state.userAnswers.Submodel&&(t.Submodel=this.state.userAnswers.Submodel),t[e]=s,this.setState({userAnswers:t,showResults:null})},this.changeUserAnswerDevice=(e,s)=>{let t={};t[e]=s,this.setState({userAnswers:t,showResults:null})},this.changeUserAnswerFromSearchBar=e=>{let s={};s.Device=[e.brand[0]],e.brand[0].submodels[0].submodels?(s.Brand=[e.brand[0].submodels[0]],s.Submodel=[e.brand[0].submodels[0].submodels[0]],s.Model=[e.device],s.image=e.device.image):(s.Brand=[e.brand[0].submodels[0]],s.Model=[e.device],s.image=e.device.image),this.setState({userAnswers:s,showResults:null})},this.changeUserAnswerCondition=(e,s)=>{let t={};t.image=this.state.userAnswers.image,t.Device=this.state.userAnswers.Device,t.Brand=this.state.userAnswers.Brand,this.state.userAnswers.Submodel&&(t.Submodel=this.state.userAnswers.Submodel),t.Model=this.state.userAnswers.Model,t[e]=s,this.setState({userAnswers:t,showResults:null})},this.closeShowResults=(e,s)=>{let{isLogin:t}=this.props.user;"instructions"===e?t?n.mW.push("/kundenkonto"):s?n.mW.push("/"):(this.props.userAction.setRedirectTo("/kundenkonto"),setTimeout((()=>document.getElementById("op").checked=!0),100)):this.setState({showResults:null,startAnalytics:!1})},this.setUserAnswers=e=>{this.setState({userAnswers:e})},this.addToBasketVerkaufen=(e,s,t)=>{let i=te(s[0]).price,a=[],r=t?"/verkaufen":"/verkaufen/warenkorb",o=JSON.parse(window.localStorage.getItem("sellDeadline"));if(o&&!o.sellDeadlineExpired&&o.isActive&&i>99){s.some((e=>999==e.productTypeId))&&(s=s.filter((e=>999!=e.productTypeId)));let e={couponProductTypeId:6,note:"Limitierter Gutschein",price:"20.00",productTypeId:999,shortcode:o.couponShortcode};s=s.concat(e)}if(s.some((e=>999==e.productTypeId))){a=this.props.basket.basketDataVerkaufen.filter((e=>999!=e.productTypeId)).concat(s)}else a=this.props.basket.basketDataVerkaufen.concat(s);if(this.props.basketAction.changeBasketVerkaufenData(a),window.isMobile)n.mW.push(r);else{let t="";s.forEach((e=>999!=e.productTypeId&&(t=e.image))),this.props.basketAction.basketAddEffect((0,l.jsx)(Y.Z,{startPosition:$(e.target).offset(),image:t,basketType:"kaufen"})),setTimeout((()=>{$("#myModalResult").modal("hide"),n.mW.push(r),this.props.basketAction.basketAddEffect(null)}),2e3)}},this.changeComment=e=>{let{value:s}=e.target,{userAnswers:t}=this.state;t.comment=s;let i=(0,l.jsx)(X,{addToBasketVerkaufen:this.addToBasketVerkaufen,changeComment:this.changeComment,userAnswers:t});this.setState({userAnswers:t,showResults:i})},this.handleShipping=(e,s)=>{if(s){let{userAnswers:e}=this.state,t=[];t.push(e),this.addToBasketVerkaufen(s,t)}else{$(".sellBetaPage-wrap").hide();let s=(0,l.jsx)(X,{addToBasketVerkaufen:this.addToBasketVerkaufen,closeShowResults:this.closeShowResults,goBack:this.goBack,changeComment:this.changeComment,setTitle:this.props.setTitle,setStep:this.props.setStep,setIsGuest:this.props.setIsGuest,handleClearSummaryTab:this.props.handleClearSummaryTab,shippingType:e,handlerBack:this.props.handlerBack,userAnswers:this.state.userAnswers});this.setState({showResults:s}),this.props.setShowLastQuestion&&this.props.setShowLastQuestion(!1),this.state.startAnalytics&&window.isGoogleConnection&&this._gtag_report_conversion(),this.state.startAnalytics&&window.isFBConnection&&fbq("track","Lead")}},this.goBack=()=>{$(".sellBetaPage-wrap").show(),this.setState({showResults:null})},this.state={userAnswers:{},showResults:null,startAnalytics:!0,isRestart:!1},this.showResults=this.showResults.bind(this)}componentWillReceiveProps(e){(e.params&&Object.keys(e.params).length<=0||!e.params.device)&&(this.onClickUpdatePage(),this.setState({userAnswers:{},showResults:null}),this.props.setShowLastQuestion&&this.props.setShowLastQuestion(!1)),e.showLastQuestion!==this.props.showLastQuestion&&e.showLastQuestion&&this.setState({showResults:null}),"generalInfo"==e.chooseSummaryTab&&this.showResults("","generalInfo")}componentDidMount(){this.props.shopAction.loadDevices("/api/devicesForPurchase","verkaufen");let e=new(r())(window.navigator.userAgent);"iPhone"===e.mobile()&&"Safari"===e.userAgent()&&$("#mobile").addClass("safariVerkaufen")}componentWillUnmount(){$("#mobile").removeClass("safariVerkaufen"),$("#tidio-chat #tidio-chat-iframe").show()}_gtag_report_conversion(e){return gtag("event","conversion",{send_to:"AW-827036726/DfEBCP7o03sQtqiuigM",event_callback:function(){"undefined"!=typeof e&&(window.location=e)}}),!1}showResults(e,s){$(".sellBetaPage-wrap").hide();let t=(0,l.jsx)(X,{addToBasketVerkaufen:this.addToBasketVerkaufen,closeShowResults:this.closeShowResults,goBack:this.goBack,changeComment:this.changeComment,setTitle:this.props.setTitle,setStep:this.props.setStep,setIsGuest:this.props.setIsGuest,isReopenPopup:e,chooseSummaryTab:s||"",handleClearSummaryTab:this.props.handleClearSummaryTab,handlerBack:this.props.handlerBack,userAnswers:this.state.userAnswers});this.setState({showResults:t}),this.props.setShowLastQuestion&&this.props.setShowLastQuestion(!1),this.state.startAnalytics&&window.isGoogleConnection&&this._gtag_report_conversion(),this.state.startAnalytics&&window.isFBConnection&&fbq("track","Lead")}render(){let{device:e}=this.props.params,{userAnswers:s,isRestart:t}=this.state;return window.isMobile?$("#tidio-chat #tidio-chat-iframe").hide():$("#tidio-chat #tidio-chat-iframe").show(),(0,l.jsxs)("div",{className:"sellBetaPage",children:[(0,l.jsx)("div",{className:"sellBetaPage-wrap",children:t?null:(0,l.jsx)(T,{currentDevice:e,showLastQuestion:this.props.showLastQuestion,params:this.props.params,userAnswers:s,showResults:this.showResults,setUserAnswers:this.setUserAnswers,changeUserAnswer:this.changeUserAnswer,deleteUserAnswer:this.deleteUserAnswer,changeUserAnswerMultiply:this.changeUserAnswerMultiply,changeUserAnswerCondition:this.changeUserAnswerCondition,changeModelPriceByCondition:this.changeModelPriceByCondition,changeUserAnswerDevice:this.changeUserAnswerDevice,changeUserAnswerFromSearchBar:this.changeUserAnswerFromSearchBar,changeUserAnswerModel:this.changeUserAnswerModel,handleShipping:this.handleShipping,handlerMobileEditAnswers:this.props.handlerMobileEditAnswers,addToBasketVerkaufen:this.addToBasketVerkaufen})}),this.state.showResults]})}}const se=(0,L.$j)((function(e){return{devices:e.shop.devicesSell,basket:e.basket,user:e.user}}),(function(e){return{basketAction:(0,B.DE)(P,e),shopAction:(0,B.DE)(E,e),userAction:(0,B.DE)(R,e)}}))(ee);function te(e){let s=+e.Model[0].minPrice,t=0,i=0;for(let n in e)"Defects"===n?e[n].forEach((e=>t+=+e.price)):"Brand"!==n&&"Submodel"!==n&&"image"!==n&&"Device"!==n&&"Condition"!==n&&"id"!==n&&"comment"!==n&&("Model"===n?e[n].forEach((e=>{t+=+e.price})):e[n].forEach((s=>{let i=+e.Model[0].price,n=+s.valuePrice.replace(/,/g,".").replace(/[^0-9.]/g,""),a=0,r=s.valuePrice.includes("%"),o=s.valuePrice.includes("-");r?(a=5*Math.ceil(i*(n/100)/5),o?t-=a:t+=a):o?t-=n:t+=n})));return t<s&&(t=s),i=t,e.Model[0].discountPrice>0&&(t+=+e.Model[0].discountPrice),i===t&&(i=0),i=5*Math.round(i/5),t=5*Math.round(t/5),{price:t,oldPrice:i}}}}]);